var Vb=Object.defineProperty;var Xb=(t,e,n)=>e in t?Vb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ut=(t,e,n)=>(Xb(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yb(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ve={exports:{}},Se={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var uy=Object.getOwnPropertySymbols,qb=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable;function Kb(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Zb(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var q_=Zb()?Object.assign:function(t,e){for(var n,r=Kb(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)qb.call(n,o)&&(r[o]=n[o]);if(uy){i=uy(n);for(var l=0;l<i.length;l++)Qb.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=q_,vo=60103,Q_=60106;Se.Fragment=60107;Se.StrictMode=60108;Se.Profiler=60114;var K_=60109,Z_=60110,J_=60112;Se.Suspense=60113;var ex=60115,tx=60116;if(typeof Symbol=="function"&&Symbol.for){var Cn=Symbol.for;vo=Cn("react.element"),Q_=Cn("react.portal"),Se.Fragment=Cn("react.fragment"),Se.StrictMode=Cn("react.strict_mode"),Se.Profiler=Cn("react.profiler"),K_=Cn("react.provider"),Z_=Cn("react.context"),J_=Cn("react.forward_ref"),Se.Suspense=Cn("react.suspense"),ex=Cn("react.memo"),tx=Cn("react.lazy")}var cy=typeof Symbol=="function"&&Symbol.iterator;function Jb(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}function dl(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx={};function _o(t,e,n){this.props=t,this.context=e,this.refs=rx,this.updater=n||nx}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(dl(85));this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ix(){}ix.prototype=_o.prototype;function pm(t,e,n){this.props=t,this.context=e,this.refs=rx,this.updater=n||nx}var mm=pm.prototype=new ix;mm.constructor=pm;fm(mm,_o.prototype);mm.isPureReactComponent=!0;var gm={current:null},sx=Object.prototype.hasOwnProperty,ox={key:!0,ref:!0,__self:!0,__source:!0};function ax(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sx.call(e,r)&&!ox.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vo,type:t,key:s,ref:o,props:i,_owner:gm.current}}function eT(t,e){return{$$typeof:vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===vo}function tT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hy=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tT(""+t.key):e.toString(36)}function qu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vo:case Q_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fd(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(hy,"$&/")+"/"),qu(i,e,n,"",function(d){return d})):i!=null&&(ym(i)&&(i=eT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Fd(s,l);o+=qu(s,e,n,c,i)}else if(c=Jb(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Fd(s,l++),o+=qu(s,e,n,c,i);else if(s==="object")throw e=""+t,Error(dl(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function pu(t,e,n){if(t==null)return t;var r=[],i=0;return qu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nT(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var lx={current:null};function Ur(){var t=lx.current;if(t===null)throw Error(dl(321));return t}var rT={ReactCurrentDispatcher:lx,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:gm,IsSomeRendererActing:{current:!1},assign:fm};Se.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!ym(t))throw Error(dl(143));return t}};Se.Component=_o;Se.PureComponent=pm;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;Se.cloneElement=function(t,e,n){if(t==null)throw Error(dl(267,t));var r=fm({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)sx.call(e,c)&&!ox.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:vo,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Z_,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:K_,_context:t},t.Consumer=t};Se.createElement=ax;Se.createFactory=function(t){var e=ax.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:J_,render:t}};Se.isValidElement=ym;Se.lazy=function(t){return{$$typeof:tx,_payload:{_status:-1,_result:t},_init:nT}};Se.memo=function(t,e){return{$$typeof:ex,type:t,compare:e===void 0?null:e}};Se.useCallback=function(t,e){return Ur().useCallback(t,e)};Se.useContext=function(t,e){return Ur().useContext(t,e)};Se.useDebugValue=function(){};Se.useEffect=function(t,e){return Ur().useEffect(t,e)};Se.useImperativeHandle=function(t,e,n){return Ur().useImperativeHandle(t,e,n)};Se.useLayoutEffect=function(t,e){return Ur().useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Ur().useMemo(t,e)};Se.useReducer=function(t,e,n){return Ur().useReducer(t,e,n)};Se.useRef=function(t){return Ur().useRef(t)};Se.useState=function(t){return Ur().useState(t)};Se.version="17.0.2";(function(t){t.exports=Se})(Ve);const sr=Wb(Ve.exports);var ux={exports:{}},bn={},cx={exports:{}},hx={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,d=null,f=function(){if(c!==null)try{var U=t.unstable_now();c(!0,U),c=null}catch(N){throw setTimeout(f,0),N}};e=function(U){c!==null?setTimeout(e,0,U):(c=U,setTimeout(f,0))},n=function(U,N){d=setTimeout(U,N)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,m=window.clearTimeout;if(typeof console<"u"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,S=null,x=-1,w=5,T=0;t.unstable_shouldYield=function(){return t.unstable_now()>=T},i=function(){},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<U?Math.floor(1e3/U):5};var b=new MessageChannel,C=b.port2;b.port1.onmessage=function(){if(S!==null){var U=t.unstable_now();T=U+w;try{S(!0,U)?C.postMessage(null):(_=!1,S=null)}catch(N){throw C.postMessage(null),N}}else _=!1},e=function(U){S=U,_||(_=!0,C.postMessage(null))},n=function(U,N){x=p(function(){U(t.unstable_now())},N)},r=function(){m(x),x=-1}}function D(U,N){var H=U.length;U.push(N);e:for(;;){var V=H-1>>>1,se=U[V];if(se!==void 0&&0<I(se,N))U[V]=N,U[H]=se,H=V;else break e}}function R(U){return U=U[0],U===void 0?null:U}function M(U){var N=U[0];if(N!==void 0){var H=U.pop();if(H!==N){U[0]=H;e:for(var V=0,se=U.length;V<se;){var me=2*(V+1)-1,we=U[me],Te=me+1,Ie=U[Te];if(we!==void 0&&0>I(we,H))Ie!==void 0&&0>I(Ie,we)?(U[V]=Ie,U[Te]=H,V=Te):(U[V]=we,U[me]=H,V=me);else if(Ie!==void 0&&0>I(Ie,H))U[V]=Ie,U[Te]=H,V=Te;else break e}}return N}return null}function I(U,N){var H=U.sortIndex-N.sortIndex;return H!==0?H:U.id-N.id}var z=[],X=[],$=1,q=null,L=3,B=!1,ue=!1,he=!1;function Q(U){for(var N=R(X);N!==null;){if(N.callback===null)M(X);else if(N.startTime<=U)M(X),N.sortIndex=N.expirationTime,D(z,N);else break;N=R(X)}}function xe(U){if(he=!1,Q(U),!ue)if(R(z)!==null)ue=!0,e(Ce);else{var N=R(X);N!==null&&n(xe,N.startTime-U)}}function Ce(U,N){ue=!1,he&&(he=!1,r()),B=!0;var H=L;try{for(Q(N),q=R(z);q!==null&&(!(q.expirationTime>N)||U&&!t.unstable_shouldYield());){var V=q.callback;if(typeof V=="function"){q.callback=null,L=q.priorityLevel;var se=V(q.expirationTime<=N);N=t.unstable_now(),typeof se=="function"?q.callback=se:q===R(z)&&M(z),Q(N)}else M(z);q=R(z)}if(q!==null)var me=!0;else{var we=R(X);we!==null&&n(xe,we.startTime-N),me=!1}return me}finally{q=null,L=H,B=!1}}var j=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){ue||B||(ue=!0,e(Ce))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return R(z)},t.unstable_next=function(U){switch(L){case 1:case 2:case 3:var N=3;break;default:N=L}var H=L;L=N;try{return U()}finally{L=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(U,N){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=L;L=U;try{return N()}finally{L=H}},t.unstable_scheduleCallback=function(U,N,H){var V=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,U){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,U={id:$++,callback:N,priorityLevel:U,startTime:H,expirationTime:se,sortIndex:-1},H>V?(U.sortIndex=H,D(X,U),R(z)===null&&U===R(X)&&(he?r():he=!0,n(xe,H-V))):(U.sortIndex=se,D(z,U),ue||B||(ue=!0,e(Ce))),U},t.unstable_wrapCallback=function(U){var N=L;return function(){var H=L;L=N;try{return U.apply(this,arguments)}finally{L=H}}}})(hx);(function(t){t.exports=hx})(cx);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=Ve.exports,We=q_,yt=cx.exports;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!ih)throw Error(W(227));var dx=new Set,Ha={};function as(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(Ha[t]=e,t=0;t<e.length;t++)dx.add(e[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dy=Object.prototype.hasOwnProperty,fy={},py={};function sT(t){return dy.call(py,t)?!0:dy.call(fy,t)?!1:iT.test(t)?py[t]=!0:(fy[t]=!0,!1)}function oT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aT(t,e,n,r){if(e===null||typeof e>"u"||oT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var vm=/[\-:]([a-z])/g;function _m(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vm,_m);It[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vm,_m);It[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vm,_m);It[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function xm(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(aT(e,n,i,r)&&(n=null),r||i===null?sT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ls=ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=60103,Vi=60106,ii=60107,wm=60108,Aa=60114,Em=60109,bm=60110,sh=60112,Ia=60113,Ec=60120,oh=60115,Tm=60116,Sm=60121,Cm=60128,fx=60129,Pm=60130,Of=60131;if(typeof Symbol=="function"&&Symbol.for){var mt=Symbol.for;va=mt("react.element"),Vi=mt("react.portal"),ii=mt("react.fragment"),wm=mt("react.strict_mode"),Aa=mt("react.profiler"),Em=mt("react.provider"),bm=mt("react.context"),sh=mt("react.forward_ref"),Ia=mt("react.suspense"),Ec=mt("react.suspense_list"),oh=mt("react.memo"),Tm=mt("react.lazy"),Sm=mt("react.block"),mt("react.scope"),Cm=mt("react.opaque.id"),fx=mt("react.debug_trace_mode"),Pm=mt("react.offscreen"),Of=mt("react.legacy_hidden")}var my=typeof Symbol=="function"&&Symbol.iterator;function Zo(t){return t===null||typeof t!="object"?null:(t=my&&t[my]||t["@@iterator"],typeof t=="function"?t:null)}var Bd;function _a(t){if(Bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bd=e&&e[1]||""}return`
`+Bd+t}var Ld=!1;function mu(t,e){if(!t||Ld)return"";Ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{Ld=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_a(t):""}function lT(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=mu(t.type,!1),t;case 11:return t=mu(t.type.render,!1),t;case 22:return t=mu(t.type._render,!1),t;case 1:return t=mu(t.type,!0),t;default:return""}}function Ys(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ii:return"Fragment";case Vi:return"Portal";case Aa:return"Profiler";case wm:return"StrictMode";case Ia:return"Suspense";case Ec:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bm:return(t.displayName||"Context")+".Consumer";case Em:return(t._context.displayName||"Context")+".Provider";case sh:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case oh:return Ys(t.type);case Sm:return Ys(t._render);case Tm:e=t._payload,t=t._init;try{return Ys(t(e))}catch{}}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function px(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uT(t){var e=px(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=uT(t))}function mx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=px(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uf(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gx(t,e){e=e.checked,e!=null&&xm(t,"checked",e,!1)}function zf(t,e){gx(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gf(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gf(t,e,n){(e!=="number"||bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function cT(t){var e="";return ih.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Hf(t,e){return t=We({children:void 0},e),(e=cT(e.children))&&(t.children=e),t}function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function yx(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _y(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var $f={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function vx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,_x=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==$f.svg||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ra={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hT=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(t){hT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ra[e]=Ra[t]})});function xx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ra.hasOwnProperty(t)&&Ra[t]?(""+e).trim():e+"px"}function wx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dT=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(t,e){if(e){if(dT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yf=null,Qs=null,Ks=null;function xy(t){if(t=pl(t)){if(typeof Yf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=dh(e),Yf(t.stateNode,t.type,e))}}function Ex(t){Qs?Ks?Ks.push(t):Ks=[t]:Qs=t}function bx(){if(Qs){var t=Qs,e=Ks;if(Ks=Qs=null,xy(t),e)for(t=0;t<e.length;t++)xy(e[t])}}function Im(t,e){return t(e)}function Tx(t,e,n,r,i){return t(e,n,r,i)}function Rm(){}var Sx=Im,Xi=!1,Od=!1;function km(){(Qs!==null||Ks!==null)&&(Rm(),bx())}function fT(t,e,n){if(Od)return t(e,n);Od=!0;try{return Sx(t,e,n)}finally{Od=!1,km()}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var r=dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var qf=!1;if(Lr)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{qf=!1}function pT(t,e,n,r,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var ka=!1,Tc=null,Sc=!1,Qf=null,mT={onError:function(t){ka=!0,Tc=t}};function gT(t,e,n,r,i,s,o,l,c){ka=!1,Tc=null,pT.apply(mT,arguments)}function yT(t,e,n,r,i,s,o,l,c){if(gT.apply(this,arguments),ka){if(ka){var d=Tc;ka=!1,Tc=null}else throw Error(W(198));Sc||(Sc=!0,Qf=d)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wy(t){if(us(t)!==t)throw Error(W(188))}function vT(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wy(i),t;if(s===r)return wy(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Px(t){if(t=vT(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ey(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Ax,Mm,Ix,Rx,Kf=!1,nr=[],ui=null,ci=null,hi=null,Va=new Map,Xa=new Map,ea=[],by="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zf(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Ty(t,e){switch(t){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(e.pointerId)}}function ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Zf(e,n,r,i,s),e!==null&&(e=pl(e),e!==null&&Mm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _T(t,e,n,r,i){switch(e){case"focusin":return ui=ta(ui,t,e,n,r,i),!0;case"dragenter":return ci=ta(ci,t,e,n,r,i),!0;case"mouseover":return hi=ta(hi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Va.set(s,ta(Va.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xa.set(s,ta(Xa.get(s)||null,t,e,n,r,i)),!0}return!1}function xT(t){var e=Wi(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=Cx(n),e!==null){t.blockedOn=e,Rx(t.lanePriority,function(){yt.unstable_runWithPriority(t.priority,function(){Ix(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=pl(n),e!==null&&Mm(e),t.blockedOn=n,!1;e.shift()}return!0}function Sy(t,e,n){Qu(t)&&n.delete(e)}function wT(){for(Kf=!1;0<nr.length;){var t=nr[0];if(t.blockedOn!==null){t=pl(t.blockedOn),t!==null&&Ax(t);break}for(var e=t.targetContainers;0<e.length;){var n=Bm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&nr.shift()}ui!==null&&Qu(ui)&&(ui=null),ci!==null&&Qu(ci)&&(ci=null),hi!==null&&Qu(hi)&&(hi=null),Va.forEach(Sy),Xa.forEach(Sy)}function na(t,e){t.blockedOn===e&&(t.blockedOn=null,Kf||(Kf=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,wT)))}function kx(t){function e(i){return na(i,t)}if(0<nr.length){na(nr[0],t);for(var n=1;n<nr.length;n++){var r=nr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ui!==null&&na(ui,t),ci!==null&&na(ci,t),hi!==null&&na(hi,t),Va.forEach(e),Xa.forEach(e),n=0;n<ea.length;n++)r=ea[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)xT(n),n.blockedOn===null&&ea.shift()}function vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Us={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Ud={},Mx={};Lr&&(Mx=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function ah(t){if(Ud[t])return Ud[t];if(!Us[t])return t;var e=Us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mx)return Ud[t]=e[n];return t}var Dx=ah("animationend"),Nx=ah("animationiteration"),Fx=ah("animationstart"),Bx=ah("transitionend"),Lx=new Map,Dm=new Map,ET=["abort","abort",Dx,"animationEnd",Nx,"animationIteration",Fx,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Bx,"transitionEnd","waiting","waiting"];function Nm(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dm.set(r,e),Lx.set(r,i),as(i,[r])}}var bT=yt.unstable_now;bT();var Oe=8;function Ds(t){if((1&t)!==0)return Oe=15,1;if((2&t)!==0)return Oe=14,2;if((4&t)!==0)return Oe=13,4;var e=24&t;return e!==0?(Oe=12,e):(t&32)!==0?(Oe=11,32):(e=192&t,e!==0?(Oe=10,e):(t&256)!==0?(Oe=9,256):(e=3584&t,e!==0?(Oe=8,e):(t&4096)!==0?(Oe=7,4096):(e=4186112&t,e!==0?(Oe=6,e):(e=62914560&t,e!==0?(Oe=5,e):t&67108864?(Oe=4,67108864):(t&134217728)!==0?(Oe=3,134217728):(e=805306368&t,e!==0?(Oe=2,e):(1073741824&t)!==0?(Oe=1,1073741824):(Oe=8,t))))))}function TT(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function ST(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(W(358,t))}}function Wa(t,e){var n=t.pendingLanes;if(n===0)return Oe=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=Oe=15;else if(s=n&134217727,s!==0){var c=s&~o;c!==0?(r=Ds(c),i=Oe):(l&=s,l!==0&&(r=Ds(l),i=Oe))}else s=n&~o,s!==0?(r=Ds(s),i=Oe):l!==0&&(r=Ds(l),i=Oe);if(r===0)return 0;if(r=31-vi(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(Ds(e),i<=Oe)return e;Oe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vi(e),i=1<<n,r|=t[n],e&=~i;return r}function Ox(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cc(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Ns(24&~e),t===0?Cc(10,e):t;case 10:return t=Ns(192&~e),t===0?Cc(8,e):t;case 8:return t=Ns(3584&~e),t===0&&(t=Ns(4186112&~e),t===0&&(t=512)),t;case 2:return e=Ns(805306368&~e),e===0&&(e=268435456),e}throw Error(W(358,t))}function Ns(t){return t&-t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lh(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-vi(e),t[e]=n}var vi=Math.clz32?Math.clz32:AT,CT=Math.log,PT=Math.LN2;function AT(t){return t===0?32:31-(CT(t)/PT|0)|0}var IT=yt.unstable_UserBlockingPriority,RT=yt.unstable_runWithPriority,Ku=!0;function kT(t,e,n,r){Xi||Rm();var i=Fm,s=Xi;Xi=!0;try{Tx(i,t,e,n,r)}finally{(Xi=s)||km()}}function MT(t,e,n,r){RT(IT,Fm.bind(null,t,e,n,r))}function Fm(t,e,n,r){if(Ku){var i;if((i=(e&4)===0)&&0<nr.length&&-1<by.indexOf(t))t=Zf(null,t,e,n,r),nr.push(t);else{var s=Bm(t,e,n,r);if(s===null)i&&Ty(t,r);else{if(i){if(-1<by.indexOf(t)){t=Zf(s,t,e,n,r),nr.push(t);return}if(_T(s,t,e,n,r))return;Ty(t,r)}Kx(t,e,r,null,n)}}}}function Bm(t,e,n,r){var i=Am(r);if(i=Wi(i),i!==null){var s=us(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Cx(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Kx(t,e,r,i,n),null}var oi=null,Lm=null,Zu=null;function Ux(){if(Zu)return Zu;var t,e=Lm,n=e.length,r,i="value"in oi?oi.value:oi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zu=i.slice(t,1<r?1-r:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _u(){return!0}function Cy(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_u:Cy,this.isPropagationStopped=Cy,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=an(xo),fl=We({},xo,{view:0,detail:0}),DT=an(fl),Gd,Hd,ra,uh=We({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(Gd=t.screenX-ra.screenX,Hd=t.screenY-ra.screenY):Hd=Gd=0,ra=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Hd}}),Py=an(uh),NT=We({},uh,{dataTransfer:0}),FT=an(NT),BT=We({},fl,{relatedTarget:0}),jd=an(BT),LT=We({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),OT=an(LT),UT=We({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zT=an(UT),GT=We({},xo,{data:0}),Ay=an(GT),HT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$T={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$T[t])?!!e[t]:!1}function Um(){return VT}var XT=We({},fl,{key:function(t){if(t.key){var e=HT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WT=an(XT),YT=We({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=an(YT),qT=We({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),QT=an(qT),KT=We({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZT=an(KT),JT=We({},uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eS=an(JT),tS=[9,13,27,32],zm=Lr&&"CompositionEvent"in window,Ma=null;Lr&&"documentMode"in document&&(Ma=document.documentMode);var nS=Lr&&"TextEvent"in window&&!Ma,zx=Lr&&(!zm||Ma&&8<Ma&&11>=Ma),Ry=String.fromCharCode(32),ky=!1;function Gx(t,e){switch(t){case"keyup":return tS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function rS(t,e){switch(t){case"compositionend":return Hx(e);case"keypress":return e.which!==32?null:(ky=!0,Ry);case"textInput":return t=e.data,t===Ry&&ky?null:t;default:return null}}function iS(t,e){if(zs)return t==="compositionend"||!zm&&Gx(t,e)?(t=Ux(),Zu=Lm=oi=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var sS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sS[t.type]:e==="textarea"}function jx(t,e,n,r){Ex(r),e=Pc(e,"onChange"),0<e.length&&(n=new Om("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Da=null,Ya=null;function oS(t){Yx(t,0)}function ch(t){var e=Hs(t);if(mx(e))return t}function aS(t,e){if(t==="change")return e}var $x=!1;if(Lr){var $d;if(Lr){var Vd="oninput"in document;if(!Vd){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),Vd=typeof Dy.oninput=="function"}$d=Vd}else $d=!1;$x=$d&&(!document.documentMode||9<document.documentMode)}function Ny(){Da&&(Da.detachEvent("onpropertychange",Vx),Ya=Da=null)}function Vx(t){if(t.propertyName==="value"&&ch(Ya)){var e=[];if(jx(e,Ya,t,Am(t)),t=oS,Xi)t(e);else{Xi=!0;try{Im(t,e)}finally{Xi=!1,km()}}}}function lS(t,e,n){t==="focusin"?(Ny(),Da=e,Ya=n,Da.attachEvent("onpropertychange",Vx)):t==="focusout"&&Ny()}function uS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ch(Ya)}function cS(t,e){if(t==="click")return ch(e)}function hS(t,e){if(t==="input"||t==="change")return ch(e)}function dS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:dS,fS=Object.prototype.hasOwnProperty;function qa(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fS.call(e,n[r])||!gn(t[n[r]],e[n[r]]))return!1;return!0}function Fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function By(t,e){var n=Fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fy(n)}}function Xx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ly(){for(var t=window,e=bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bc(t.document)}return e}function Jf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var pS=Lr&&"documentMode"in document&&11>=document.documentMode,Gs=null,ep=null,Na=null,tp=!1;function Oy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tp||Gs==null||Gs!==bc(r)||(r=Gs,"selectionStart"in r&&Jf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&qa(Na,r)||(Na=r,r=Pc(ep,"onSelect"),0<r.length&&(e=new Om("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gs)))}Nm("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Nm("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Nm(ET,2);for(var Uy="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Xd=0;Xd<Uy.length;Xd++)Dm.set(Uy[Xd],0);co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function zy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yT(r,e,void 0,t),t.currentTarget=null}function Yx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;zy(i,l,d),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;zy(i,l,d),s=c}}}if(Sc)throw t=Qf,Sc=!1,Qf=null,t}function ze(t,e){var n=Jx(e),r=t+"__bubble";n.has(r)||(Qx(e,t,2,!1),n.add(r))}var Gy="_reactListening"+Math.random().toString(36).slice(2);function qx(t){t[Gy]||(t[Gy]=!0,dx.forEach(function(e){Wx.has(e)||Hy(e,!1,t,null),Hy(e,!0,t,null)}))}function Hy(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&Wx.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=Jx(s),l=t+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),Qx(s,t,i,e),o.add(l))}function Qx(t,e,n,r){var i=Dm.get(e);switch(i===void 0?2:i){case 0:i=kT;break;case 1:i=MT;break;default:i=Fm}n=i.bind(null,e,n,t),i=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kx(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Wi(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fT(function(){var d=s,f=Am(n),p=[];e:{var m=Lx.get(t);if(m!==void 0){var v=Om,_=t;switch(t){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":v=WT;break;case"focusin":_="focus",v=jd;break;case"focusout":_="blur",v=jd;break;case"beforeblur":case"afterblur":v=jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Py;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=FT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=QT;break;case Dx:case Nx:case Fx:v=OT;break;case Bx:v=ZT;break;case"scroll":v=DT;break;case"wheel":v=eS;break;case"copy":case"cut":case"paste":v=zT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Iy}var S=(e&4)!==0,x=!S&&t==="scroll",w=S?m!==null?m+"Capture":null:m;S=[];for(var T=d,b;T!==null;){b=T;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=$a(T,w),C!=null&&S.push(Qa(T,C,b)))),x)break;T=T.return}0<S.length&&(m=new v(m,_,null,n,f),p.push({event:m,listeners:S}))}}if((e&7)===0){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&(e&16)===0&&(_=n.relatedTarget||n.fromElement)&&(Wi(_)||_[wo]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=d,_=_?Wi(_):null,_!==null&&(x=us(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=d),v!==_)){if(S=Py,C="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(S=Iy,C="onPointerLeave",w="onPointerEnter",T="pointer"),x=v==null?m:Hs(v),b=_==null?m:Hs(_),m=new S(C,T+"leave",v,n,f),m.target=x,m.relatedTarget=b,C=null,Wi(f)===d&&(S=new S(w,T+"enter",_,n,f),S.target=b,S.relatedTarget=x,C=S),x=C,v&&_)t:{for(S=v,w=_,T=0,b=S;b;b=Ps(b))T++;for(b=0,C=w;C;C=Ps(C))b++;for(;0<T-b;)S=Ps(S),T--;for(;0<b-T;)w=Ps(w),b--;for(;T--;){if(S===w||w!==null&&S===w.alternate)break t;S=Ps(S),w=Ps(w)}S=null}else S=null;v!==null&&jy(p,m,v,S,!1),_!==null&&x!==null&&jy(p,x,_,S,!0)}}e:{if(m=d?Hs(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=aS;else if(My(m))if($x)D=hS;else{D=uS;var R=lS}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=cS);if(D&&(D=D(t,d))){jx(p,D,n,f);break e}R&&R(t,m,d),t==="focusout"&&(R=m._wrapperState)&&R.controlled&&m.type==="number"&&Gf(m,"number",m.value)}switch(R=d?Hs(d):window,t){case"focusin":(My(R)||R.contentEditable==="true")&&(Gs=R,ep=d,Na=null);break;case"focusout":Na=ep=Gs=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,Oy(p,n,f);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":Oy(p,n,f)}var M;if(zm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else zs?Gx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(zx&&n.locale!=="ko"&&(zs||I!=="onCompositionStart"?I==="onCompositionEnd"&&zs&&(M=Ux()):(oi=f,Lm="value"in oi?oi.value:oi.textContent,zs=!0)),R=Pc(d,I),0<R.length&&(I=new Ay(I,t,null,n,f),p.push({event:I,listeners:R}),M?I.data=M:(M=Hx(n),M!==null&&(I.data=M)))),(M=nS?rS(t,n):iS(t,n))&&(d=Pc(d,"onBeforeInput"),0<d.length&&(f=new Ay("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=M))}Yx(p,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$a(t,n),s!=null&&r.unshift(Qa(t,s,i)),s=$a(t,e),s!=null&&r.push(Qa(t,s,i))),t=t.return}return r}function Ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=$a(n,s),c!=null&&o.unshift(Qa(n,c,l))):i||(c=$a(n,s),c!=null&&o.push(Qa(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Ac(){}var Wd=null,Yd=null;function Zx(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function np(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0;function Gm(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Vy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qd=0;function gS(t){return{$$typeof:Cm,toString:t,valueOf:t}}var hh=Math.random().toString(36).slice(2),ai="__reactFiber$"+hh,Ic="__reactProps$"+hh,wo="__reactContainer$"+hh,Xy="__reactEvents$"+hh;function Wi(t){var e=t[ai];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wo]||n[ai]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vy(t);t!==null;){if(n=t[ai])return n;t=Vy(t)}return e}t=n,n=t.parentNode}return null}function pl(t){return t=t[ai]||t[wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function dh(t){return t[Ic]||null}function Jx(t){var e=t[Xy];return e===void 0&&(e=t[Xy]=new Set),e}var rp=[],js=-1;function Pi(t){return{current:t}}function je(t){0>js||(t.current=rp[js],rp[js]=null,js--)}function nt(t,e){js++,rp[js]=t.current,t.current=e}var _i={},Bt=Pi(_i),Zt=Pi(!1),es=_i;function ho(t,e){var n=t.type.contextTypes;if(!n)return _i;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function Rc(){je(Zt),je(Bt)}function Wy(t,e,n){if(Bt.current!==_i)throw Error(W(168));nt(Bt,e),nt(Zt,n)}function e1(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,Ys(e)||"Unknown",i));return We({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_i,es=Bt.current,nt(Bt,t),nt(Zt,Zt.current),!0}function Yy(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=e1(t,e,es),r.__reactInternalMemoizedMergedChildContext=t,je(Zt),je(Bt),nt(Bt,t)):je(Zt),nt(Zt,n)}var Hm=null,Zi=null,yS=yt.unstable_runWithPriority,jm=yt.unstable_scheduleCallback,ip=yt.unstable_cancelCallback,vS=yt.unstable_shouldYield,qy=yt.unstable_requestPaint,sp=yt.unstable_now,_S=yt.unstable_getCurrentPriorityLevel,fh=yt.unstable_ImmediatePriority,t1=yt.unstable_UserBlockingPriority,n1=yt.unstable_NormalPriority,r1=yt.unstable_LowPriority,i1=yt.unstable_IdlePriority,Qd={},xS=qy!==void 0?qy:function(){},Cr=null,tc=null,Kd=!1,Qy=sp(),Nt=1e4>Qy?sp:function(){return sp()-Qy};function fo(){switch(_S()){case fh:return 99;case t1:return 98;case n1:return 97;case r1:return 96;case i1:return 95;default:throw Error(W(332))}}function s1(t){switch(t){case 99:return fh;case 98:return t1;case 97:return n1;case 96:return r1;case 95:return i1;default:throw Error(W(332))}}function ts(t,e){return t=s1(t),yS(t,e)}function Ka(t,e,n){return t=s1(t),jm(t,e,n)}function dr(){if(tc!==null){var t=tc;tc=null,ip(t)}o1()}function o1(){if(!Kd&&Cr!==null){Kd=!0;var t=0;try{var e=Cr;ts(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Cr=null}catch(n){throw Cr!==null&&(Cr=Cr.slice(t+1)),jm(fh,dr),n}finally{Kd=!1}}}var wS=ls.ReactCurrentBatchConfig;function Dn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kc=Pi(null),Mc=null,$s=null,Dc=null;function $m(){Dc=$s=Mc=null}function Vm(t){var e=kc.current;je(kc),t.type._context._currentValue=e}function a1(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Js(t,e){Mc=t,Dc=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Bn=!0),t.firstContext=null)}function xn(t,e){if(Dc!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Dc=t,e=1073741823),e={context:t,observedBits:e,next:null},$s===null){if(Mc===null)throw Error(W(308));$s=e,Mc.dependencies={lanes:0,firstContext:e,responders:null}}else $s=$s.next=e;return t._currentValue}var ri=!1;function Xm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function l1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fi(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Ky(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Za(t,e,n,r){var i=t.updateQueue;ri=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var f=t.alternate;if(f!==null){f=f.updateQueue;var p=f.lastBaseUpdate;p!==o&&(p===null?f.firstBaseUpdate=d:p.next=d,f.lastBaseUpdate=c)}}if(s!==null){p=i.baseState,o=0,f=d=c=null;do{l=s.lane;var m=s.eventTime;if((r&l)===l){f!==null&&(f=f.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,_=s;switch(l=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){p=v.call(m,p,l);break e}p=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=_.payload,l=typeof v=="function"?v.call(m,p,l):v,l==null)break e;p=We({},p,l);break e;case 2:ri=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else m={eventTime:m,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(d=f=m,c=p):f=f.next=m,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,gl|=o,t.lanes=o,t.memoizedState=p}}function Zy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var u1=new ih.Component().refs;function Nc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ph={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=pi(t),s=di(r,i);s.payload=e,n!=null&&(s.callback=n),fi(t,s),mi(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=pi(t),s=di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),fi(t,s),mi(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=pi(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),fi(t,i),mi(t,r,n)}};function Jy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qa(n,r)||!qa(i,s):!0}function c1(t,e,n){var r=!1,i=_i,s=e.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=Jt(e)?es:Bt.current,r=e.contextTypes,s=(r=r!=null)?ho(t,i):_i),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ph.enqueueReplaceState(e,e.state,null)}function op(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=u1,Xm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=Jt(e)?es:Bt.current,i.context=ho(t,s)),Za(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Nc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ph.enqueueReplaceState(i,i.state,null),Za(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var xu=Array.isArray;function ia(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===u1&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function wu(t,e){if(t.type!=="textarea")throw Error(W(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function h1(t){function e(x,w){if(t){var T=x.lastEffect;T!==null?(T.nextEffect=w,x.lastEffect=w):x.firstEffect=x.lastEffect=w,w.nextEffect=null,w.flags=8}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=wi(x,w),x.index=0,x.sibling=null,x}function s(x,w,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<w?(x.flags=2,w):T):(x.flags=2,w)):w}function o(x){return t&&x.alternate===null&&(x.flags=2),x}function l(x,w,T,b){return w===null||w.tag!==6?(w=nf(T,x.mode,b),w.return=x,w):(w=i(w,T),w.return=x,w)}function c(x,w,T,b){return w!==null&&w.elementType===T.type?(b=i(w,T.props),b.ref=ia(x,w,T),b.return=x,b):(b=sc(T.type,T.key,T.props,null,x.mode,b),b.ref=ia(x,w,T),b.return=x,b)}function d(x,w,T,b){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=rf(T,x.mode,b),w.return=x,w):(w=i(w,T.children||[]),w.return=x,w)}function f(x,w,T,b,C){return w===null||w.tag!==7?(w=ro(T,x.mode,b,C),w.return=x,w):(w=i(w,T),w.return=x,w)}function p(x,w,T){if(typeof w=="string"||typeof w=="number")return w=nf(""+w,x.mode,T),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case va:return T=sc(w.type,w.key,w.props,null,x.mode,T),T.ref=ia(x,null,w),T.return=x,T;case Vi:return w=rf(w,x.mode,T),w.return=x,w}if(xu(w)||Zo(w))return w=ro(w,x.mode,T,null),w.return=x,w;wu(x,w)}return null}function m(x,w,T,b){var C=w!==null?w.key:null;if(typeof T=="string"||typeof T=="number")return C!==null?null:l(x,w,""+T,b);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case va:return T.key===C?T.type===ii?f(x,w,T.props.children,b,C):c(x,w,T,b):null;case Vi:return T.key===C?d(x,w,T,b):null}if(xu(T)||Zo(T))return C!==null?null:f(x,w,T,b,null);wu(x,T)}return null}function v(x,w,T,b,C){if(typeof b=="string"||typeof b=="number")return x=x.get(T)||null,l(w,x,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case va:return x=x.get(b.key===null?T:b.key)||null,b.type===ii?f(w,x,b.props.children,C,b.key):c(w,x,b,C);case Vi:return x=x.get(b.key===null?T:b.key)||null,d(w,x,b,C)}if(xu(b)||Zo(b))return x=x.get(T)||null,f(w,x,b,C,null);wu(w,b)}return null}function _(x,w,T,b){for(var C=null,D=null,R=w,M=w=0,I=null;R!==null&&M<T.length;M++){R.index>M?(I=R,R=null):I=R.sibling;var z=m(x,R,T[M],b);if(z===null){R===null&&(R=I);break}t&&R&&z.alternate===null&&e(x,R),w=s(z,w,M),D===null?C=z:D.sibling=z,D=z,R=I}if(M===T.length)return n(x,R),C;if(R===null){for(;M<T.length;M++)R=p(x,T[M],b),R!==null&&(w=s(R,w,M),D===null?C=R:D.sibling=R,D=R);return C}for(R=r(x,R);M<T.length;M++)I=v(R,x,M,T[M],b),I!==null&&(t&&I.alternate!==null&&R.delete(I.key===null?M:I.key),w=s(I,w,M),D===null?C=I:D.sibling=I,D=I);return t&&R.forEach(function(X){return e(x,X)}),C}function S(x,w,T,b){var C=Zo(T);if(typeof C!="function")throw Error(W(150));if(T=C.call(T),T==null)throw Error(W(151));for(var D=C=null,R=w,M=w=0,I=null,z=T.next();R!==null&&!z.done;M++,z=T.next()){R.index>M?(I=R,R=null):I=R.sibling;var X=m(x,R,z.value,b);if(X===null){R===null&&(R=I);break}t&&R&&X.alternate===null&&e(x,R),w=s(X,w,M),D===null?C=X:D.sibling=X,D=X,R=I}if(z.done)return n(x,R),C;if(R===null){for(;!z.done;M++,z=T.next())z=p(x,z.value,b),z!==null&&(w=s(z,w,M),D===null?C=z:D.sibling=z,D=z);return C}for(R=r(x,R);!z.done;M++,z=T.next())z=v(R,x,M,z.value,b),z!==null&&(t&&z.alternate!==null&&R.delete(z.key===null?M:z.key),w=s(z,w,M),D===null?C=z:D.sibling=z,D=z);return t&&R.forEach(function($){return e(x,$)}),C}return function(x,w,T,b){var C=typeof T=="object"&&T!==null&&T.type===ii&&T.key===null;C&&(T=T.props.children);var D=typeof T=="object"&&T!==null;if(D)switch(T.$$typeof){case va:e:{for(D=T.key,C=w;C!==null;){if(C.key===D){switch(C.tag){case 7:if(T.type===ii){n(x,C.sibling),w=i(C,T.props.children),w.return=x,x=w;break e}break;default:if(C.elementType===T.type){n(x,C.sibling),w=i(C,T.props),w.ref=ia(x,C,T),w.return=x,x=w;break e}}n(x,C);break}else e(x,C);C=C.sibling}T.type===ii?(w=ro(T.props.children,x.mode,b,T.key),w.return=x,x=w):(b=sc(T.type,T.key,T.props,null,x.mode,b),b.ref=ia(x,w,T),b.return=x,x=b)}return o(x);case Vi:e:{for(C=T.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(x,w.sibling),w=i(w,T.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=rf(T,x.mode,b),w.return=x,x=w}return o(x)}if(typeof T=="string"||typeof T=="number")return T=""+T,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,T),w.return=x,x=w):(n(x,w),w=nf(T,x.mode,b),w.return=x,x=w),o(x);if(xu(T))return _(x,w,T,b);if(Zo(T))return S(x,w,T,b);if(D&&wu(x,T),typeof T>"u"&&!C)switch(x.tag){case 1:case 22:case 0:case 11:case 15:throw Error(W(152,Ys(x.type)||"Component"))}return n(x,w)}}var Fc=h1(!0),d1=h1(!1),ml={},or=Pi(ml),Ja=Pi(ml),el=Pi(ml);function Yi(t){if(t===ml)throw Error(W(174));return t}function ap(t,e){switch(nt(el,e),nt(Ja,t),nt(or,ml),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}je(or),nt(or,e)}function po(){je(or),je(Ja),je(el)}function tv(t){Yi(el.current);var e=Yi(or.current),n=Vf(e,t.type);e!==n&&(nt(Ja,t),nt(or,n))}function Wm(t){Ja.current===t&&(je(or),je(Ja))}var tt=Pi(0);function Bc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ar=null,li=null,ar=!1;function f1(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function lp(t){if(ar){var e=li;if(e){var n=e;if(!nv(t,e)){if(e=Zs(n.nextSibling),!e||!nv(t,e)){t.flags=t.flags&-1025|2,ar=!1,Ar=t;return}f1(Ar,n)}Ar=t,li=Zs(e.firstChild)}else t.flags=t.flags&-1025|2,ar=!1,Ar=t}}function rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function Eu(t){if(t!==Ar)return!1;if(!ar)return rv(t),ar=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!np(e,t.memoizedProps))for(e=li;e;)f1(t,e),e=Zs(e.nextSibling);if(rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){li=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}li=null}}else li=Ar?Zs(t.stateNode.nextSibling):null;return!0}function Zd(){li=Ar=null,ar=!1}var eo=[];function Ym(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var Fa=ls.ReactCurrentDispatcher,_n=ls.ReactCurrentBatchConfig,tl=0,ot=null,Dt=null,bt=null,Lc=!1,Ba=!1;function Wt(){throw Error(W(321))}function qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Qm(t,e,n,r,i,s){if(tl=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fa.current=t===null||t.memoizedState===null?bS:TS,t=n(r,i),Ba){s=0;do{if(Ba=!1,!(25>s))throw Error(W(301));s+=1,bt=Dt=null,e.updateQueue=null,Fa.current=SS,t=n(r,i)}while(Ba)}if(Fa.current=Gc,e=Dt!==null&&Dt.next!==null,tl=0,bt=Dt=ot=null,Lc=!1,e)throw Error(W(300));return t}function qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ot.memoizedState=bt=t:bt=bt.next=t,bt}function cs(){if(Dt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=bt===null?ot.memoizedState:bt.next;if(e!==null)bt=e,Dt=t;else{if(t===null)throw Error(W(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},bt===null?ot.memoizedState=bt=t:bt=bt.next=t}return bt}function rr(t,e){return typeof e=="function"?e(t):e}function sa(t){var e=cs(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,c=i;do{var d=c.lane;if((tl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,ot.lanes|=d,gl|=d}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=o,gn(r,e.memoizedState)||(Bn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function oa(t){var e=cs(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gn(s,e.memoizedState)||(Bn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iv(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(tl&t)===t)&&(e._workInProgressVersionPrimary=r,eo.push(e))),t)return n(e._source);throw eo.push(e),Error(W(350))}function p1(t,e,n,r){var i=zt;if(i===null)throw Error(W(349));var s=e._getVersion,o=s(e._source),l=Fa.current,c=l.useState(function(){return iv(i,e,n)}),d=c[1],f=c[0];c=bt;var p=t.memoizedState,m=p.refs,v=m.getSnapshot,_=p.source;p=p.subscribe;var S=ot;return t.memoizedState={refs:m,source:e,subscribe:r},l.useEffect(function(){m.getSnapshot=n,m.setSnapshot=d;var x=s(e._source);if(!gn(o,x)){x=n(e._source),gn(f,x)||(d(x),x=pi(S),i.mutableReadLanes|=x&i.pendingLanes),x=i.mutableReadLanes,i.entangledLanes|=x;for(var w=i.entanglements,T=x;0<T;){var b=31-vi(T),C=1<<b;w[b]|=x,T&=~C}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var x=m.getSnapshot,w=m.setSnapshot;try{w(x(e._source));var T=pi(S);i.mutableReadLanes|=T&i.pendingLanes}catch(b){w(function(){throw b})}})},[e,r]),gn(v,n)&&gn(_,e)&&gn(p,r)||(t={pending:null,dispatch:null,lastRenderedReducer:rr,lastRenderedState:f},t.dispatch=d=Jm.bind(null,ot,t),c.queue=t,c.baseQueue=null,f=iv(i,e,n),c.memoizedState=c.baseState=f),f}function m1(t,e,n){var r=cs();return p1(r,t,e,n)}function aa(t){var e=qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:rr,lastRenderedState:t},t=t.dispatch=Jm.bind(null,ot,t),[e.memoizedState,t]}function Oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sv(t){var e=qi();return t={current:t},e.memoizedState=t}function Uc(){return cs().memoizedState}function up(t,e,n,r){var i=qi();ot.flags|=t,i.memoizedState=Oc(1|e,n,void 0,r===void 0?null:r)}function Km(t,e,n,r){var i=cs();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var o=Dt.memoizedState;if(s=o.destroy,r!==null&&qm(r,o.deps)){Oc(e,n,s,r);return}}ot.flags|=t,i.memoizedState=Oc(1|e,n,s,r)}function ov(t,e){return up(516,4,t,e)}function zc(t,e){return Km(516,4,t,e)}function g1(t,e){return Km(4,2,t,e)}function y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v1(t,e,n){return n=n!=null?n.concat([t]):null,Km(4,2,y1.bind(null,e,t),n)}function Zm(){}function _1(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x1(t,e){var n=cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ES(t,e){var n=fo();ts(98>n?98:n,function(){t(!0)}),ts(97<n?97:n,function(){var r=_n.transition;_n.transition=1;try{t(!1),e()}finally{_n.transition=r}})}function Jm(t,e,n){var r=on(),i=pi(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===ot||o!==null&&o===ot)Ba=Lc=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.eagerReducer=o,s.eagerState=c,gn(c,l))return}catch{}finally{}mi(t,i,r)}}var Gc={readContext:xn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useOpaqueIdentifier:Wt,unstable_isNewReconciler:!1},bS={readContext:xn,useCallback:function(t,e){return qi().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:ov,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,up(4,2,y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return up(4,2,t,e)},useMemo:function(t,e){var n=qi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Jm.bind(null,ot,t),[r.memoizedState,t]},useRef:sv,useState:aa,useDebugValue:Zm,useDeferredValue:function(t){var e=aa(t),n=e[0],r=e[1];return ov(function(){var i=_n.transition;_n.transition=1;try{r(t)}finally{_n.transition=i}},[t]),n},useTransition:function(){var t=aa(!1),e=t[0];return t=ES.bind(null,t[1]),sv(t),[t,e]},useMutableSource:function(t,e,n){var r=qi();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},p1(r,t,e,n)},useOpaqueIdentifier:function(){if(ar){var t=!1,e=gS(function(){throw t||(t=!0,n("r:"+(qd++).toString(36))),Error(W(355))}),n=aa(e)[1];return(ot.mode&2)===0&&(ot.flags|=516,Oc(5,function(){n("r:"+(qd++).toString(36))},void 0,null)),e}return e="r:"+(qd++).toString(36),aa(e),e},unstable_isNewReconciler:!1},TS={readContext:xn,useCallback:_1,useContext:xn,useEffect:zc,useImperativeHandle:v1,useLayoutEffect:g1,useMemo:x1,useReducer:sa,useRef:Uc,useState:function(){return sa(rr)},useDebugValue:Zm,useDeferredValue:function(t){var e=sa(rr),n=e[0],r=e[1];return zc(function(){var i=_n.transition;_n.transition=1;try{r(t)}finally{_n.transition=i}},[t]),n},useTransition:function(){var t=sa(rr)[0];return[Uc().current,t]},useMutableSource:m1,useOpaqueIdentifier:function(){return sa(rr)[0]},unstable_isNewReconciler:!1},SS={readContext:xn,useCallback:_1,useContext:xn,useEffect:zc,useImperativeHandle:v1,useLayoutEffect:g1,useMemo:x1,useReducer:oa,useRef:Uc,useState:function(){return oa(rr)},useDebugValue:Zm,useDeferredValue:function(t){var e=oa(rr),n=e[0],r=e[1];return zc(function(){var i=_n.transition;_n.transition=1;try{r(t)}finally{_n.transition=i}},[t]),n},useTransition:function(){var t=oa(rr)[0];return[Uc().current,t]},useMutableSource:m1,useOpaqueIdentifier:function(){return oa(rr)[0]},unstable_isNewReconciler:!1},CS=ls.ReactCurrentOwner,Bn=!1;function Yt(t,e,n,r){e.child=t===null?d1(e,null,n,r):Fc(e,t.child,n,r)}function av(t,e,n,r,i){n=n.render;var s=e.ref;return Js(e,i),r=Qm(t,e,n,r,s,i),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Ir(t,e,i)):(e.flags|=1,Yt(t,e,r,i),e.child)}function lv(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!sg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,w1(t,e,o,r,i,s)):(t=sc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:qa,n(i,r)&&t.ref===e.ref)?Ir(t,e,s):(e.flags|=1,t=wi(o,r),t.ref=e.ref,t.return=e,e.child=t)}function w1(t,e,n,r,i,s){if(t!==null&&qa(t.memoizedProps,r)&&t.ref===e.ref)if(Bn=!1,(s&i)!==0)(t.flags&16384)!==0&&(Bn=!0);else return e.lanes=t.lanes,Ir(t,e,s);return cp(t,e,n,r,s)}function Jd(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Tu(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},Tu(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Tu(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Tu(e,r);return Yt(t,e,i,n),e.child}function E1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function cp(t,e,n,r,i){var s=Jt(n)?es:Bt.current;return s=ho(e,s),Js(e,i),n=Qm(t,e,n,r,s,i),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Ir(t,e,i)):(e.flags|=1,Yt(t,e,n,i),e.child)}function uv(t,e,n,r,i){if(Jt(n)){var s=!0;ec(e)}else s=!1;if(Js(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),c1(e,n,r),op(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=Jt(n)?es:Bt.current,d=ho(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ev(e,o,r,d),ri=!1;var m=e.memoizedState;o.state=m,Za(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Zt.current||ri?(typeof f=="function"&&(Nc(e,n,f,r),c=e.memoizedState),(l=ri||Jy(e,n,l,r,m,c,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,l1(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Dn(e.type,l),o.props=d,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Jt(n)?es:Bt.current,c=ho(e,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&ev(e,o,r,c),ri=!1,m=e.memoizedState,o.state=m,Za(e,r,o,i);var _=e.memoizedState;l!==p||m!==_||Zt.current||ri?(typeof v=="function"&&(Nc(e,n,v,r),_=e.memoizedState),(d=ri||Jy(e,n,d,r,m,_,c))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=256),r=!1)}return hp(t,e,n,r,s,i)}function hp(t,e,n,r,i,s){E1(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Yy(e,n,!1),Ir(t,e,s);r=e.stateNode,CS.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fc(e,t.child,null,s),e.child=Fc(e,null,l,s)):Yt(t,e,l,s),e.memoizedState=r.state,i&&Yy(e,n,!0),e.child}function cv(t){var e=t.stateNode;e.pendingContext?Wy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wy(t,e.context,!1),ap(t,e.containerInfo)}var bu={dehydrated:null,retryLane:0};function hv(t,e,n){var r=e.pendingProps,i=tt.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),nt(tt,i&1),t===null?(r.fallback!==void 0&&lp(e),t=r.children,i=r.fallback,s?(t=dv(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=bu,t):typeof r.unstable_expectedLoadTime=="number"?(t=dv(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=bu,e.lanes=33554432,t):(n=og({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=pv(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=bu,r):(n=fv(t,e,r.children,n),e.memoizedState=null,n):s?(r=pv(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=bu,r):(n=fv(t,e,r.children,n),e.memoizedState=null,n)}function dv(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=og(e,i,0,null),n=ro(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function fv(t,e,n,r){var i=t.child;return t=i.sibling,n=wi(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function pv(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var l={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=wi(o,l),t!==null?r=wi(t,r):(r=ro(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function mv(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),a1(t.return,e)}function ef(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function gv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=tt.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,n);else if(t.tag===19)mv(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(tt,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ef(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ef(e,!0,n,null,s,e.lastEffect);break;case"together":ef(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gl|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var b1,dp,T1,S1;b1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dp=function(){};T1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yi(or.current);var s=null;switch(n){case"input":i=Uf(t,i),r=Uf(t,r),s=[];break;case"option":i=Hf(t,i),r=Hf(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=jf(t,i),r=jf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ac)}Xf(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ha.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ze("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===Cm?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};S1=function(t,e,n,r){n!==r&&(e.flags|=4)};function la(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function PS(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Jt(e.type)&&Rc(),null;case 3:return po(),je(Zt),je(Bt),Ym(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eu(e)?e.flags|=4:r.hydrate||(e.flags|=256)),dp(e),null;case 5:Wm(e);var i=Yi(el.current);if(n=e.type,t!==null&&e.stateNode!=null)T1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(W(166));return null}if(t=Yi(or.current),Eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ai]=e,r[Ic]=s,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(t=0;t<xa.length;t++)ze(xa[t],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":gy(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":vy(r,s),ze("invalid",r)}Xf(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Ha.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ze("scroll",r));switch(n){case"input":gu(r),yy(r,s,!0);break;case"textarea":gu(r),_y(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ac)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===$f.html&&(t=vx(n)),t===$f.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ai]=e,t[Ic]=r,b1(t,e,!1,!1),e.stateNode=t,o=Wf(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<xa.length;i++)ze(xa[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":gy(t,r),i=Uf(t,r),ze("invalid",t);break;case"option":i=Hf(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),ze("invalid",t);break;case"textarea":vy(t,r),i=jf(t,r),ze("invalid",t);break;default:i=r}Xf(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?wx(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_x(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ja(t,c):typeof c=="number"&&ja(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",t):c!=null&&xm(t,s,c,o))}switch(n){case"input":gu(t),yy(t,r,!1);break;case"textarea":gu(t),_y(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ac)}Zx(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)S1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));n=Yi(el.current),Yi(or.current),Eu(e)?(r=e.stateNode,n=e.memoizedProps,r[ai]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ai]=e,e.stateNode=r)}return null;case 13:return je(tt),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Eu(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(tt.current&1)!==0?Tt===0&&(Tt=3):((Tt===0||Tt===3)&&(Tt=4),zt===null||(gl&134217727)===0&&(bo&134217727)===0||to(zt,Ft))),(r||n)&&(e.flags|=4),null);case 4:return po(),dp(e),t===null&&qx(e.stateNode.containerInfo),null;case 10:return Vm(e),null;case 17:return Jt(e.type)&&Rc(),null;case 19:if(je(tt),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)la(r,!1);else{if(Tt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Bc(t),o!==null){for(e.flags|=64,la(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(tt,tt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Nt()>vp&&(e.flags|=64,s=!0,la(r,!1),e.lanes=33554432)}else{if(!s)if(t=Bc(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),la(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ar)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Nt()-r.renderingStartTime>vp&&n!==1073741824&&(e.flags|=64,s=!0,la(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Nt(),n.sibling=null,e=tt.current,nt(tt,s?e&1|2:e&1),n):null;case 23:case 24:return ig(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(W(156,e.tag))}function AS(t){switch(t.tag){case 1:Jt(t.type)&&Rc();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(po(),je(Zt),je(Bt),Ym(),e=t.flags,(e&64)!==0)throw Error(W(285));return t.flags=e&-4097|64,t;case 5:return Wm(t),null;case 13:return je(tt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return je(tt),null;case 4:return po(),null;case 10:return Vm(t),null;case 23:case 24:return ig(),null;default:return null}}function eg(t,e){try{var n="",r=e;do n+=lT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function fp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IS=typeof WeakMap=="function"?WeakMap:Map;function C1(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jc||(jc=!0,_p=r),fp(t,e)},n}function P1(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return fp(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this),fp(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var RS=typeof WeakSet=="function"?WeakSet:Set;function yv(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){gi(t,n)}else e.current=null}function kS(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Dn(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Gm(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(W(163))}function MS(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(B1(n,t),zS(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Dn(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Zy(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Zy(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Zx(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&kx(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(W(163))}function vv(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=xx("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _v(t,e){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(Hm,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)B1(e,n);else{r=e;try{i()}catch(s){gi(r,s)}}n=n.next}while(n!==t)}break;case 1:if(yv(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){gi(e,s)}break;case 5:yv(e);break;case 4:A1(t,e)}}function xv(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function wv(t){return t.tag===5||t.tag===3||t.tag===4}function Ev(t){e:{for(var e=t.return;e!==null;){if(wv(e))break e;e=e.return}throw Error(W(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(W(161))}n.flags&16&&(ja(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||wv(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?pp(t,n,e):mp(t,n,e)}function pp(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ac));else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function mp(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mp(t,e,n),t=t.sibling;t!==null;)mp(t,e,n),t=t.sibling}function A1(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(W(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,l=n,c=l;;)if(_v(o,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(_v(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function tf(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Ic]=r,t==="input"&&r.type==="radio"&&r.name!=null&&gx(n,r),Wf(t,i),e=Wf(t,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?wx(n,l):o==="dangerouslySetInnerHTML"?_x(n,l):o==="children"?ja(n,l):xm(n,o,l,e)}switch(t){case"input":zf(n,r);break;case"textarea":yx(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?qs(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?qs(n,!!r.multiple,r.defaultValue,!0):qs(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(W(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,kx(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(rg=Nt(),vv(e.child,!0)),bv(e);return;case 19:bv(e);return;case 17:return;case 23:case 24:vv(e,e.memoizedState!==null);return}throw Error(W(163))}function bv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RS),e.forEach(function(r){var i=jS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function DS(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var NS=Math.ceil,Hc=ls.ReactCurrentDispatcher,tg=ls.ReactCurrentOwner,ve=0,zt=null,pt=null,Ft=0,ns=0,gp=Pi(0),Tt=0,mh=null,Eo=0,gl=0,bo=0,ng=0,yp=null,rg=0,vp=1/0;function To(){vp=Nt()+500}var ie=null,jc=!1,_p=null,ir=null,xi=!1,La=null,wa=90,xp=[],wp=[],Nr=null,Oa=0,Ep=null,nc=-1,Pr=0,rc=0,Ua=null,ic=!1;function on(){return(ve&48)!==0?Nt():nc!==-1?nc:nc=Nt()}function pi(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return fo()===99?1:2;if(Pr===0&&(Pr=Eo),wS.transition!==0){rc!==0&&(rc=yp!==null?yp.pendingLanes:0),t=Pr;var e=4186112&~rc;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=fo(),(ve&4)!==0&&t===98?t=Cc(12,Pr):(t=TT(t),t=Cc(t,Pr)),t}function mi(t,e,n){if(50<Oa)throw Oa=0,Ep=null,Error(W(185));if(t=gh(t,e),t===null)return null;lh(t,e,n),t===zt&&(bo|=e,Tt===4&&to(t,Ft));var r=fo();e===1?(ve&8)!==0&&(ve&48)===0?bp(t):(wn(t,n),ve===0&&(To(),dr())):((ve&4)===0||r!==98&&r!==99||(Nr===null?Nr=new Set([t]):Nr.add(t)),wn(t,n)),yp=t}function gh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function wn(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-vi(o),c=1<<l,d=s[l];if(d===-1){if((c&r)===0||(c&i)!==0){d=e,Ds(c);var f=Oe;s[l]=10<=f?d+250:6<=f?d+5e3:-1}}else d<=e&&(t.expiredLanes|=c);o&=~c}if(r=Wa(t,t===zt?Ft:0),e=Oe,r===0)n!==null&&(n!==Qd&&ip(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Qd&&ip(n)}e===15?(n=bp.bind(null,t),Cr===null?(Cr=[n],tc=jm(fh,o1)):Cr.push(n),n=Qd):e===14?n=Ka(99,bp.bind(null,t)):(n=ST(e),n=Ka(n,I1.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function I1(t){if(nc=-1,rc=Pr=0,(ve&48)!==0)throw Error(W(327));var e=t.callbackNode;if(Ai()&&t.callbackNode!==e)return null;var n=Wa(t,t===zt?Ft:0);if(n===0)return null;var r=n,i=ve;ve|=16;var s=D1();(zt!==t||Ft!==r)&&(To(),no(t,r));do try{LS();break}catch(l){M1(t,l)}while(1);if($m(),Hc.current=s,ve=i,pt!==null?r=0:(zt=null,Ft=0,r=Tt),(Eo&bo)!==0)no(t,0);else if(r!==0){if(r===2&&(ve|=64,t.hydrate&&(t.hydrate=!1,Gm(t.containerInfo)),n=Ox(t),n!==0&&(r=Ea(t,n))),r===1)throw e=mh,no(t,0),to(t,n),wn(t,Nt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(W(345));case 2:zi(t);break;case 3:if(to(t,n),(n&62914560)===n&&(r=rg+500-Nt(),10<r)){if(Wa(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$y(zi.bind(null,t),r);break}zi(t);break;case 4:if(to(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-vi(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NS(n/1960))-n,10<n){t.timeoutHandle=$y(zi.bind(null,t),n);break}zi(t);break;case 5:zi(t);break;default:throw Error(W(329))}}return wn(t,Nt()),t.callbackNode===e?I1.bind(null,t):null}function to(t,e){for(e&=~ng,e&=~bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vi(e),r=1<<n;t[n]=-1,e&=~r}}function bp(t){if((ve&48)!==0)throw Error(W(327));if(Ai(),t===zt&&(t.expiredLanes&Ft)!==0){var e=Ft,n=Ea(t,e);(Eo&bo)!==0&&(e=Wa(t,e),n=Ea(t,e))}else e=Wa(t,0),n=Ea(t,e);if(t.tag!==0&&n===2&&(ve|=64,t.hydrate&&(t.hydrate=!1,Gm(t.containerInfo)),e=Ox(t),e!==0&&(n=Ea(t,e))),n===1)throw n=mh,no(t,0),to(t,e),wn(t,Nt()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t),wn(t,Nt()),null}function FS(){if(Nr!==null){var t=Nr;Nr=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,wn(e,Nt())})}dr()}function R1(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(To(),dr())}}function k1(t,e){var n=ve;ve&=-2,ve|=8;try{return t(e)}finally{ve=n,ve===0&&(To(),dr())}}function Tu(t,e){nt(gp,ns),ns|=e,Eo|=e}function ig(){ns=gp.current,je(gp)}function no(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mS(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rc();break;case 3:po(),je(Zt),je(Bt),Ym();break;case 5:Wm(r);break;case 4:po();break;case 13:je(tt);break;case 19:je(tt);break;case 10:Vm(r);break;case 23:case 24:ig()}n=n.return}zt=t,pt=wi(t.current,null),Ft=ns=Eo=e,Tt=0,mh=null,ng=bo=gl=0}function M1(t,e){do{var n=pt;try{if($m(),Fa.current=Gc,Lc){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lc=!1}if(tl=0,bt=Dt=ot=null,Ba=!1,tg.current=null,n===null||n.return===null){Tt=1,mh=e,pt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Ft,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c;if((l.mode&2)===0){var f=l.alternate;f?(l.updateQueue=f.updateQueue,l.memoizedState=f.memoizedState,l.lanes=f.lanes):(l.updateQueue=null,l.memoizedState=null)}var p=(tt.current&1)!==0,m=o;do{var v;if(v=m.tag===13){var _=m.memoizedState;if(_!==null)v=_.dehydrated!==null;else{var S=m.memoizedProps;v=S.fallback===void 0?!1:S.unstable_avoidThisFallback!==!0?!0:!p}}if(v){var x=m.updateQueue;if(x===null){var w=new Set;w.add(d),m.updateQueue=w}else x.add(d);if((m.mode&2)===0){if(m.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var T=di(-1,1);T.tag=2,fi(l,T)}l.lanes|=1;break e}c=void 0,l=e;var b=s.pingCache;if(b===null?(b=s.pingCache=new IS,c=new Set,b.set(d,c)):(c=b.get(d),c===void 0&&(c=new Set,b.set(d,c))),!c.has(l)){c.add(l);var C=HS.bind(null,s,d,l);d.then(C,C)}m.flags|=4096,m.lanes=e;break e}m=m.return}while(m!==null);c=Error((Ys(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Tt!==5&&(Tt=2),c=eg(c,l),m=o;do{switch(m.tag){case 3:s=c,m.flags|=4096,e&=-e,m.lanes|=e;var D=C1(m,s,e);Ky(m,D);break e;case 1:s=c;var R=m.type,M=m.stateNode;if((m.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ir===null||!ir.has(M)))){m.flags|=4096,e&=-e,m.lanes|=e;var I=P1(m,s,e);Ky(m,I);break e}}m=m.return}while(m!==null)}F1(n)}catch(z){e=z,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function D1(){var t=Hc.current;return Hc.current=Gc,t===null?Gc:t}function Ea(t,e){var n=ve;ve|=16;var r=D1();zt===t&&Ft===e||no(t,e);do try{BS();break}catch(i){M1(t,i)}while(1);if($m(),ve=n,Hc.current=r,pt!==null)throw Error(W(261));return zt=null,Ft=0,Tt}function BS(){for(;pt!==null;)N1(pt)}function LS(){for(;pt!==null&&!vS();)N1(pt)}function N1(t){var e=L1(t.alternate,t,ns);t.memoizedProps=t.pendingProps,e===null?F1(t):pt=e,tg.current=null}function F1(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=PS(n,e,ns),n!==null){pt=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(ns&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=AS(e),n!==null){n.flags&=2047,pt=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);Tt===0&&(Tt=5)}function zi(t){var e=fo();return ts(99,OS.bind(null,t,e)),null}function OS(t,e){do Ai();while(La!==null);if((ve&48)!==0)throw Error(W(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-vi(s),d=1<<c;i[c]=0,o[c]=-1,l[c]=-1,s&=~d}if(Nr!==null&&(r&24)===0&&Nr.has(t)&&Nr.delete(t),t===zt&&(pt=zt=null,Ft=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=ve,ve|=32,tg.current=null,Wd=Ku,o=Ly(),Jf(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(d=l.getSelection&&l.getSelection())&&d.rangeCount!==0){l=d.anchorNode,s=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var f=0,p=-1,m=-1,v=0,_=0,S=o,x=null;t:for(;;){for(var w;S!==l||s!==0&&S.nodeType!==3||(p=f+s),S!==c||d!==0&&S.nodeType!==3||(m=f+d),S.nodeType===3&&(f+=S.nodeValue.length),(w=S.firstChild)!==null;)x=S,S=w;for(;;){if(S===o)break t;if(x===l&&++v===s&&(p=f),x===c&&++_===d&&(m=f),(w=S.nextSibling)!==null)break;S=x,x=S.parentNode}S=w}l=p===-1||m===-1?null:{start:p,end:m}}else l=null;l=l||{start:0,end:0}}else l=null;Yd={focusedElem:o,selectionRange:l},Ku=!1,Ua=null,ic=!1,ie=r;do try{US()}catch(z){if(ie===null)throw Error(W(330));gi(ie,z),ie=ie.nextEffect}while(ie!==null);Ua=null,ie=r;do try{for(o=t;ie!==null;){var T=ie.flags;if(T&16&&ja(ie.stateNode,""),T&128){var b=ie.alternate;if(b!==null){var C=b.ref;C!==null&&(typeof C=="function"?C(null):C.current=null)}}switch(T&1038){case 2:Ev(ie),ie.flags&=-3;break;case 6:Ev(ie),ie.flags&=-3,tf(ie.alternate,ie);break;case 1024:ie.flags&=-1025;break;case 1028:ie.flags&=-1025,tf(ie.alternate,ie);break;case 4:tf(ie.alternate,ie);break;case 8:l=ie,A1(o,l);var D=l.alternate;xv(l),D!==null&&xv(D)}ie=ie.nextEffect}}catch(z){if(ie===null)throw Error(W(330));gi(ie,z),ie=ie.nextEffect}while(ie!==null);if(C=Yd,b=Ly(),T=C.focusedElem,o=C.selectionRange,b!==T&&T&&T.ownerDocument&&Xx(T.ownerDocument.documentElement,T)){for(o!==null&&Jf(T)&&(b=o.start,C=o.end,C===void 0&&(C=b),"selectionStart"in T?(T.selectionStart=b,T.selectionEnd=Math.min(C,T.value.length)):(C=(b=T.ownerDocument||document)&&b.defaultView||window,C.getSelection&&(C=C.getSelection(),l=T.textContent.length,D=Math.min(o.start,l),o=o.end===void 0?D:Math.min(o.end,l),!C.extend&&D>o&&(l=o,o=D,D=l),l=By(T,D),s=By(T,o),l&&s&&(C.rangeCount!==1||C.anchorNode!==l.node||C.anchorOffset!==l.offset||C.focusNode!==s.node||C.focusOffset!==s.offset)&&(b=b.createRange(),b.setStart(l.node,l.offset),C.removeAllRanges(),D>o?(C.addRange(b),C.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),C.addRange(b)))))),b=[],C=T;C=C.parentNode;)C.nodeType===1&&b.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<b.length;T++)C=b[T],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}Ku=!!Wd,Yd=Wd=null,t.current=n,ie=r;do try{for(T=t;ie!==null;){var R=ie.flags;if(R&36&&MS(T,ie.alternate,ie),R&128){b=void 0;var M=ie.ref;if(M!==null){var I=ie.stateNode;switch(ie.tag){case 5:b=I;break;default:b=I}typeof M=="function"?M(b):M.current=b}}ie=ie.nextEffect}}catch(z){if(ie===null)throw Error(W(330));gi(ie,z),ie=ie.nextEffect}while(ie!==null);ie=null,xS(),ve=i}else t.current=n;if(xi)xi=!1,La=t,wa=e;else for(ie=r;ie!==null;)e=ie.nextEffect,ie.nextEffect=null,ie.flags&8&&(R=ie,R.sibling=null,R.stateNode=null),ie=e;if(r=t.pendingLanes,r===0&&(ir=null),r===1?t===Ep?Oa++:(Oa=0,Ep=t):Oa=0,n=n.stateNode,Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(Hm,n,void 0,(n.current.flags&64)===64)}catch{}if(wn(t,Nt()),jc)throw jc=!1,t=_p,_p=null,t;return(ve&8)!==0||dr(),null}function US(){for(;ie!==null;){var t=ie.alternate;ic||Ua===null||((ie.flags&8)!==0?Ey(ie,Ua)&&(ic=!0):ie.tag===13&&DS(t,ie)&&Ey(ie,Ua)&&(ic=!0));var e=ie.flags;(e&256)!==0&&kS(t,ie),(e&512)===0||xi||(xi=!0,Ka(97,function(){return Ai(),null})),ie=ie.nextEffect}}function Ai(){if(wa!==90){var t=97<wa?97:wa;return wa=90,ts(t,GS)}return!1}function zS(t,e){xp.push(e,t),xi||(xi=!0,Ka(97,function(){return Ai(),null}))}function B1(t,e){wp.push(e,t),xi||(xi=!0,Ka(97,function(){return Ai(),null}))}function GS(){if(La===null)return!1;var t=La;if(La=null,(ve&48)!==0)throw Error(W(331));var e=ve;ve|=32;var n=wp;wp=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(c){if(s===null)throw Error(W(330));gi(s,c)}}for(n=xp,xp=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(W(330));gi(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return ve=e,dr(),!0}function Tv(t,e,n){e=eg(n,e),e=C1(t,e,1),fi(t,e),e=on(),t=gh(t,1),t!==null&&(lh(t,1,e),wn(t,e))}function gi(t,e){if(t.tag===3)Tv(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Tv(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){t=eg(e,t);var i=P1(n,t,1);if(fi(n,i),i=on(),n=gh(n,1),n!==null)lh(n,1,i),wn(n,i);else if(typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function HS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(Ft&n)===n&&(Tt===4||Tt===3&&(Ft&62914560)===Ft&&500>Nt()-rg?no(t,0):ng|=n),wn(t,e)}function jS(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=fo()===99?1:2:(Pr===0&&(Pr=Eo),e=Ns(62914560&~Pr),e===0&&(e=4194304))),n=on(),t=gh(t,e),t!==null&&(lh(t,e,n),wn(t,n))}var L1;L1=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Bn=!0;else if((n&r)!==0)Bn=(t.flags&16384)!==0;else{switch(Bn=!1,e.tag){case 3:cv(e),Zd();break;case 5:tv(e);break;case 1:Jt(e.type)&&ec(e);break;case 4:ap(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;nt(kc,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?hv(t,e,n):(nt(tt,tt.current&1),e=Ir(t,e,n),e!==null?e.sibling:null);nt(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return gv(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(tt,tt.current),r)break;return null;case 23:case 24:return e.lanes=0,Jd(t,e,n)}return Ir(t,e,n)}else Bn=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ho(e,Bt.current),Js(e,n),i=Qm(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)){var s=!0;ec(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xm(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Nc(e,r,o,t),i.updater=ph,e.stateNode=i,i._reactInternals=e,op(e,r,t,n),e=hp(null,e,r,!0,s,n)}else e.tag=0,Yt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=VS(i),t=Dn(i,t),s){case 0:e=cp(null,e,i,t,n);break e;case 1:e=uv(null,e,i,t,n);break e;case 11:e=av(null,e,i,t,n);break e;case 14:e=lv(null,e,i,Dn(i.type,t),r,n);break e}throw Error(W(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),cp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),uv(t,e,r,i,n);case 3:if(cv(e),r=e.updateQueue,t===null||r===null)throw Error(W(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,l1(t,e),Za(e,r,null,n),r=e.memoizedState.element,r===i)Zd(),e=Ir(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(li=Zs(e.stateNode.containerInfo.firstChild),Ar=e,s=ar=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],eo.push(s);for(n=d1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Yt(t,e,r,n),Zd();e=e.child}return e;case 5:return tv(e),t===null&&lp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,np(r,i)?o=null:s!==null&&np(r,s)&&(e.flags|=16),E1(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&lp(e),null;case 13:return hv(t,e,n);case 4:return ap(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fc(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),av(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var l=e.type._context;if(nt(kc,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=gn(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!Zt.current){e=Ir(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var d=c.firstContext;d!==null;){if(d.context===r&&(d.observedBits&s)!==0){l.tag===1&&(d=di(-1,n&-n),d.tag=2,fi(l,d)),l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),a1(l.return,n),c.lanes|=n;break}d=d.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Js(e,n),i=xn(i,s.unstable_observedBits),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return i=e.type,s=Dn(i,e.pendingProps),s=Dn(i.type,s),lv(t,e,i,s,r,n);case 15:return w1(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Jt(r)?(t=!0,ec(e)):t=!1,Js(e,n),c1(e,r,i),op(e,r,i,n),hp(null,e,r,!0,t,n);case 19:return gv(t,e,n);case 23:return Jd(t,e,n);case 24:return Jd(t,e,n)}throw Error(W(156,e.tag))};function $S(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new $S(t,e,n,r)}function sg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VS(t){if(typeof t=="function")return sg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sh)return 11;if(t===oh)return 14}return 2}function wi(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ii:return ro(n.children,i,s,e);case fx:o=8,i|=16;break;case wm:o=8,i|=1;break;case Aa:return t=yn(12,n,e,i|8),t.elementType=Aa,t.type=Aa,t.lanes=s,t;case Ia:return t=yn(13,n,e,i),t.type=Ia,t.elementType=Ia,t.lanes=s,t;case Ec:return t=yn(19,n,e,i),t.elementType=Ec,t.lanes=s,t;case Pm:return og(n,i,s,e);case Of:return t=yn(24,n,e,i),t.elementType=Of,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Em:o=10;break e;case bm:o=9;break e;case sh:o=11;break e;case oh:o=14;break e;case Tm:o=16,r=null;break e;case Sm:o=22;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ro(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function og(t,e,n,r){return t=yn(23,t,r,e),t.elementType=Pm,t.lanes=n,t}function nf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function rf(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XS(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.mutableSourceEagerHydrationData=null}function WS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $c(t,e,n,r){var i=e.current,s=on(),o=pi(i);e:if(n){n=n._reactInternals;t:{if(us(n)!==n||n.tag!==1)throw Error(W(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Jt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(W(171))}if(n.tag===1){var c=n.type;if(Jt(c)){n=e1(n,c,l);break e}}n=l}else n=_i;return e.context===null?e.context=n:e.pendingContext=n,e=di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),fi(i,e),mi(i,o,s),o}function sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ag(t,e){Sv(t,e),(t=t.alternate)&&Sv(t,e)}function YS(){return null}function lg(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new XS(t,e,n!=null&&n.hydrate===!0),e=yn(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Xm(e),t[wo]=n.current,qx(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}lg.prototype.render=function(t){$c(t,this._internalRoot,null,null)};lg.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$c(null,t,null,function(){e[wo]=null})};function yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qS(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new lg(t,0,e?{hydrate:!0}:void 0)}function yh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var d=sf(o);l.call(d)}}$c(e,o,t,i)}else{if(s=n._reactRootContainer=qS(n,r),o=s._internalRoot,typeof i=="function"){var c=i;i=function(){var d=sf(o);c.call(d)}}k1(function(){$c(e,o,t,i)})}return sf(o)}Ax=function(t){if(t.tag===13){var e=on();mi(t,4,e),ag(t,4)}};Mm=function(t){if(t.tag===13){var e=on();mi(t,67108864,e),ag(t,67108864)}};Ix=function(t){if(t.tag===13){var e=on(),n=pi(t);mi(t,n,e),ag(t,n)}};Rx=function(t,e){return e()};Yf=function(t,e,n){switch(e){case"input":if(zf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dh(r);if(!i)throw Error(W(90));mx(r),zf(r,i)}}}break;case"textarea":yx(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};Im=R1;Tx=function(t,e,n,r,i){var s=ve;ve|=4;try{return ts(98,t.bind(null,e,n,r,i))}finally{ve=s,ve===0&&(To(),dr())}};Rm=function(){(ve&49)===0&&(FS(),Ai())};Sx=function(t,e){var n=ve;ve|=2;try{return t(e)}finally{ve=n,ve===0&&(To(),dr())}};function O1(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yl(e))throw Error(W(200));return WS(t,e,null,n)}var QS={Events:[pl,Hs,dh,Ex,bx,Ai,{current:!1}]},ua={findFiberByHostInstance:Wi,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},KS={bundleType:ua.bundleType,version:ua.version,rendererPackageName:ua.rendererPackageName,rendererConfig:ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Px(t),t===null?null:t.stateNode},findFiberByHostInstance:ua.findFiberByHostInstance||YS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{Hm=Su.inject(KS),Zi=Su}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS;bn.createPortal=O1;bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):Error(W(268,Object.keys(t)));return t=Px(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t,e){var n=ve;if((n&48)!==0)return t(e);ve|=1;try{if(t)return ts(99,t.bind(null,e))}finally{ve=n,dr()}};bn.hydrate=function(t,e,n){if(!yl(e))throw Error(W(200));return yh(null,t,e,!0,n)};bn.render=function(t,e,n){if(!yl(e))throw Error(W(200));return yh(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!yl(t))throw Error(W(40));return t._reactRootContainer?(k1(function(){yh(null,null,t,!1,function(){t._reactRootContainer=null,t[wo]=null})}),!0):!1};bn.unstable_batchedUpdates=R1;bn.unstable_createPortal=function(t,e){return O1(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yl(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return yh(t,e,n,!1,r)};bn.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=bn})(ux);var ug={exports:{}},hs=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(hs||{}),Tp=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Tp||{}),fe=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(fe||{}),Ln=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Ln||{}),Y=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Y||{}),io=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(io||{}),de=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(de||{}),Sp=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Sp||{}),Rr=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Rr||{}),Fr=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Fr||{}),hr=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(hr||{}),Vn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Vn||{}),er=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(er||{}),cg=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(cg||{}),vn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(vn||{}),ft=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ft||{}),lt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(lt||{}),lr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(lr||{});const ZS={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ne={ADAPTER:ZS,RESOLUTION:1,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,premultipliedAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var of=/iPhone/i,Cv=/iPod/i,Pv=/iPad/i,Av=/\biOS-universal(?:.+)Mac\b/i,af=/\bAndroid(?:.+)Mobile\b/i,Iv=/Android/i,As=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Cu=/Silk/i,Er=/Windows Phone/i,Rv=/\bWindows(?:.+)ARM\b/i,kv=/BlackBerry/i,Mv=/BB10/i,Dv=/Opera Mini/i,Nv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Fv=/Mobile(?:.+)Firefox\b/i,Bv=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function JS(t){return function(e){return e.test(t)}}function eC(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=JS(n),s={apple:{phone:i(of)&&!i(Er),ipod:i(Cv),tablet:!i(of)&&(i(Pv)||Bv(e))&&!i(Er),universal:i(Av),device:(i(of)||i(Cv)||i(Pv)||i(Av)||Bv(e))&&!i(Er)},amazon:{phone:i(As),tablet:!i(As)&&i(Cu),device:i(As)||i(Cu)},android:{phone:!i(Er)&&i(As)||!i(Er)&&i(af),tablet:!i(Er)&&!i(As)&&!i(af)&&(i(Cu)||i(Iv)),device:!i(Er)&&(i(As)||i(Cu)||i(af)||i(Iv))||i(/\bokhttp\b/i)},windows:{phone:i(Er),tablet:i(Rv),device:i(Er)||i(Rv)},other:{blackberry:i(kv),blackberry10:i(Mv),opera:i(Dv),firefox:i(Fv),chrome:i(Nv),device:i(kv)||i(Mv)||i(Dv)||i(Fv)||i(Nv)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const kr=eC(globalThis.navigator);ne.RETINA_PREFIX=/@([0-9\.]+)x/;ne.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var U1={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,m),_=n?n+d:d;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],v]:c._events[_].push(v):(c._events[_]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,_=new Array(v);m<v;m++)_[m]=p[m].fn;return _},l.prototype.listenerCount=function(d){var f=n?n+d:d,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(d,f,p,m,v,_){var S=n?n+d:d;if(!this._events[S])return!1;var x=this._events[S],w=arguments.length,T,b;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,p),!0;case 4:return x.fn.call(x.context,f,p,m),!0;case 5:return x.fn.call(x.context,f,p,m,v),!0;case 6:return x.fn.call(x.context,f,p,m,v,_),!0}for(b=1,T=new Array(w-1);b<w;b++)T[b-1]=arguments[b];x.fn.apply(x.context,T)}else{var C=x.length,D;for(b=0;b<C;b++)switch(x[b].once&&this.removeListener(d,x[b].fn,void 0,!0),w){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,f);break;case 3:x[b].fn.call(x[b].context,f,p);break;case 4:x[b].fn.call(x[b].context,f,p,m);break;default:if(!T)for(D=1,T=new Array(w-1);D<w;D++)T[D-1]=arguments[D];x[b].fn.apply(x[b].context,T)}}return!0},l.prototype.on=function(d,f,p){return s(this,d,f,p,!1)},l.prototype.once=function(d,f,p){return s(this,d,f,p,!0)},l.prototype.removeListener=function(d,f,p,m){var v=n?n+d:d;if(!this._events[v])return this;if(!f)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===f&&(!m||_.once)&&(!p||_.context===p)&&o(this,v);else{for(var S=0,x=[],w=_.length;S<w;S++)(_[S].fn!==f||m&&!_[S].once||p&&_[S].context!==p)&&x.push(_[S]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(U1);const vl=U1.exports;var hg={exports:{}};hg.exports=vh;hg.exports.default=vh;function vh(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,s=z1(t,0,i,n,!0),o=[];if(!s||s.next===s.prev)return o;var l,c,d,f,p,m,v;if(r&&(s=sC(t,e,s,n)),t.length>80*n){l=d=t[0],c=f=t[1];for(var _=n;_<i;_+=n)p=t[_],m=t[_+1],p<l&&(l=p),m<c&&(c=m),p>d&&(d=p),m>f&&(f=m);v=Math.max(d-l,f-c),v=v!==0?32767/v:0}return nl(s,o,n,l,c,v,0),o}function z1(t,e,n,r,i){var s,o;if(i===Ap(t,e,n,r)>0)for(s=e;s<n;s+=r)o=Lv(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=Lv(s,t[s],t[s+1],o);return o&&_h(o,o.next)&&(il(o),o=o.next),o}function rs(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(_h(n,n.next)||Ze(n.prev,n,n.next)===0)){if(il(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function nl(t,e,n,r,i,s,o){if(!!t){!o&&s&&cC(t,r,i,s);for(var l=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?nC(t,r,i,s):tC(t)){e.push(c.i/n|0),e.push(t.i/n|0),e.push(d.i/n|0),il(t),t=d.next,l=d.next;continue}if(t=d,t===l){o?o===1?(t=rC(rs(t),e,n),nl(t,e,n,r,i,s,2)):o===2&&iC(t,e,n,r,i,s):nl(rs(t),e,n,r,i,s,1);break}}}}function tC(t){var e=t.prev,n=t,r=t.next;if(Ze(e,n,r)>=0)return!1;for(var i=e.x,s=n.x,o=r.x,l=e.y,c=n.y,d=r.y,f=i<s?i<o?i:o:s<o?s:o,p=l<c?l<d?l:d:c<d?c:d,m=i>s?i>o?i:o:s>o?s:o,v=l>c?l>d?l:d:c>d?c:d,_=r.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=v&&Vs(i,l,s,c,o,d,_.x,_.y)&&Ze(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function nC(t,e,n,r){var i=t.prev,s=t,o=t.next;if(Ze(i,s,o)>=0)return!1;for(var l=i.x,c=s.x,d=o.x,f=i.y,p=s.y,m=o.y,v=l<c?l<d?l:d:c<d?c:d,_=f<p?f<m?f:m:p<m?p:m,S=l>c?l>d?l:d:c>d?c:d,x=f>p?f>m?f:m:p>m?p:m,w=Cp(v,_,e,n,r),T=Cp(S,x,e,n,r),b=t.prevZ,C=t.nextZ;b&&b.z>=w&&C&&C.z<=T;){if(b.x>=v&&b.x<=S&&b.y>=_&&b.y<=x&&b!==i&&b!==o&&Vs(l,f,c,p,d,m,b.x,b.y)&&Ze(b.prev,b,b.next)>=0||(b=b.prevZ,C.x>=v&&C.x<=S&&C.y>=_&&C.y<=x&&C!==i&&C!==o&&Vs(l,f,c,p,d,m,C.x,C.y)&&Ze(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;b&&b.z>=w;){if(b.x>=v&&b.x<=S&&b.y>=_&&b.y<=x&&b!==i&&b!==o&&Vs(l,f,c,p,d,m,b.x,b.y)&&Ze(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;C&&C.z<=T;){if(C.x>=v&&C.x<=S&&C.y>=_&&C.y<=x&&C!==i&&C!==o&&Vs(l,f,c,p,d,m,C.x,C.y)&&Ze(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function rC(t,e,n){var r=t;do{var i=r.prev,s=r.next.next;!_h(i,s)&&G1(i,r,r.next,s)&&rl(i,s)&&rl(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),il(r),il(r.next),r=t=s),r=r.next}while(r!==t);return rs(r)}function iC(t,e,n,r,i,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&fC(o,l)){var c=H1(o,l);o=rs(o,o.next),c=rs(c,c.next),nl(o,e,n,r,i,s,0),nl(c,e,n,r,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function sC(t,e,n,r){var i=[],s,o,l,c,d;for(s=0,o=e.length;s<o;s++)l=e[s]*r,c=s<o-1?e[s+1]*r:t.length,d=z1(t,l,c,r,!1),d===d.next&&(d.steiner=!0),i.push(dC(d));for(i.sort(oC),s=0;s<i.length;s++)n=aC(i[s],n);return n}function oC(t,e){return t.x-e.x}function aC(t,e){var n=lC(t,e);if(!n)return e;var r=H1(n,t);return rs(r,r.next),rs(n,n.next)}function lC(t,e){var n=e,r=t.x,i=t.y,s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var l=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=r&&l>s&&(s=l,o=n.x<n.next.x?n:n.next,l===r))return o}n=n.next}while(n!==e);if(!o)return null;var c=o,d=o.x,f=o.y,p=1/0,m;n=o;do r>=n.x&&n.x>=d&&r!==n.x&&Vs(i<f?r:s,i,d,f,i<f?s:r,i,n.x,n.y)&&(m=Math.abs(i-n.y)/(r-n.x),rl(n,t)&&(m<p||m===p&&(n.x>o.x||n.x===o.x&&uC(o,n)))&&(o=n,p=m)),n=n.next;while(n!==c);return o}function uC(t,e){return Ze(t.prev,t,e.prev)<0&&Ze(e.next,t,t.next)<0}function cC(t,e,n,r){var i=t;do i.z===0&&(i.z=Cp(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hC(i)}function hC(t){var e,n,r,i,s,o,l,c,d=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,l=0,e=0;e<d&&(l++,r=r.nextZ,!!r);e++);for(c=d;l>0||c>0&&r;)l!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,d*=2}while(o>1);return t}function Cp(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function dC(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Vs(t,e,n,r,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(r-l)>=(n-o)*(e-l)&&(n-o)*(s-l)>=(i-o)*(r-l)}function fC(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!pC(t,e)&&(rl(t,e)&&rl(e,t)&&mC(t,e)&&(Ze(t.prev,t,e.prev)||Ze(t,e.prev,e))||_h(t,e)&&Ze(t.prev,t,t.next)>0&&Ze(e.prev,e,e.next)>0)}function Ze(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _h(t,e){return t.x===e.x&&t.y===e.y}function G1(t,e,n,r){var i=Au(Ze(t,e,n)),s=Au(Ze(t,e,r)),o=Au(Ze(n,r,t)),l=Au(Ze(n,r,e));return!!(i!==s&&o!==l||i===0&&Pu(t,n,e)||s===0&&Pu(t,r,e)||o===0&&Pu(n,t,r)||l===0&&Pu(n,e,r))}function Pu(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Au(t){return t>0?1:t<0?-1:0}function pC(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&G1(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function rl(t,e){return Ze(t.prev,t,t.next)<0?Ze(t,e,t.next)>=0&&Ze(t,t.prev,e)>=0:Ze(t,e,t.prev)<0||Ze(t,t.next,e)<0}function mC(t,e){var n=t,r=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function H1(t,e){var n=new Pp(t.i,t.x,t.y),r=new Pp(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Lv(t,e,n,r){var i=new Pp(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function il(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Pp(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}vh.deviation=function(t,e,n,r){var i=e&&e.length,s=i?e[0]*n:t.length,o=Math.abs(Ap(t,0,s,n));if(i)for(var l=0,c=e.length;l<c;l++){var d=e[l]*n,f=l<c-1?e[l+1]*n:t.length;o-=Math.abs(Ap(t,d,f,n))}var p=0;for(l=0;l<r.length;l+=3){var m=r[l]*n,v=r[l+1]*n,_=r[l+2]*n;p+=Math.abs((t[m]-t[_])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Ap(t,e,n,r){for(var i=0,s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}vh.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)n.vertices.push(t[i][s][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var Ip={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Yu=="object"&&Yu;(s.global===s||s.window===s||s.self===s)&&(n=s);var o,l=2147483647,c=36,d=1,f=26,p=38,m=700,v=72,_=128,S="-",x=/^xn--/,w=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=c-d,D=Math.floor,R=String.fromCharCode,M;function I(j){throw RangeError(b[j])}function z(j,U){for(var N=j.length,H=[];N--;)H[N]=U(j[N]);return H}function X(j,U){var N=j.split("@"),H="";N.length>1&&(H=N[0]+"@",j=N[1]),j=j.replace(T,".");var V=j.split("."),se=z(V,U).join(".");return H+se}function $(j){for(var U=[],N=0,H=j.length,V,se;N<H;)V=j.charCodeAt(N++),V>=55296&&V<=56319&&N<H?(se=j.charCodeAt(N++),(se&64512)==56320?U.push(((V&1023)<<10)+(se&1023)+65536):(U.push(V),N--)):U.push(V);return U}function q(j){return z(j,function(U){var N="";return U>65535&&(U-=65536,N+=R(U>>>10&1023|55296),U=56320|U&1023),N+=R(U),N}).join("")}function L(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:c}function B(j,U){return j+22+75*(j<26)-((U!=0)<<5)}function ue(j,U,N){var H=0;for(j=N?D(j/m):j>>1,j+=D(j/U);j>C*f>>1;H+=c)j=D(j/C);return D(H+(C+1)*j/(j+p))}function he(j){var U=[],N=j.length,H,V=0,se=_,me=v,we,Te,Ie,Fe,ke,Me,Ae,Rt,Je;for(we=j.lastIndexOf(S),we<0&&(we=0),Te=0;Te<we;++Te)j.charCodeAt(Te)>=128&&I("not-basic"),U.push(j.charCodeAt(Te));for(Ie=we>0?we+1:0;Ie<N;){for(Fe=V,ke=1,Me=c;Ie>=N&&I("invalid-input"),Ae=L(j.charCodeAt(Ie++)),(Ae>=c||Ae>D((l-V)/ke))&&I("overflow"),V+=Ae*ke,Rt=Me<=me?d:Me>=me+f?f:Me-me,!(Ae<Rt);Me+=c)Je=c-Rt,ke>D(l/Je)&&I("overflow"),ke*=Je;H=U.length+1,me=ue(V-Fe,H,Fe==0),D(V/H)>l-se&&I("overflow"),se+=D(V/H),V%=H,U.splice(V++,0,se)}return q(U)}function Q(j){var U,N,H,V,se,me,we,Te,Ie,Fe,ke,Me=[],Ae,Rt,Je,Ii;for(j=$(j),Ae=j.length,U=_,N=0,se=v,me=0;me<Ae;++me)ke=j[me],ke<128&&Me.push(R(ke));for(H=V=Me.length,V&&Me.push(S);H<Ae;){for(we=l,me=0;me<Ae;++me)ke=j[me],ke>=U&&ke<we&&(we=ke);for(Rt=H+1,we-U>D((l-N)/Rt)&&I("overflow"),N+=(we-U)*Rt,U=we,me=0;me<Ae;++me)if(ke=j[me],ke<U&&++N>l&&I("overflow"),ke==U){for(Te=N,Ie=c;Fe=Ie<=se?d:Ie>=se+f?f:Ie-se,!(Te<Fe);Ie+=c)Ii=Te-Fe,Je=c-Fe,Me.push(R(B(Fe+Ii%Je,0))),Te=D(Ii/Je);Me.push(R(B(Te,0))),se=ue(N,Rt,H==V),N=0,++H}++N,++U}return Me.join("")}function xe(j){return X(j,function(U){return x.test(U)?he(U.slice(4).toLowerCase()):U})}function Ce(j){return X(j,function(U){return w.test(U)?"xn--"+Q(U):U})}if(o={version:"1.3.2",ucs2:{decode:$,encode:q},decode:he,encode:Q,toASCII:Ce,toUnicode:xe},r&&i)if(t.exports==r)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(r[M]=o[M]);else n.punycode=o})(Yu)})(Ip,Ip.exports);var gC={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},sl={};function yC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var vC=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;r&&typeof r.maxKeys=="number"&&(o=r.maxKeys);var l=t.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var d=t[c].replace(s,"%20"),f=d.indexOf(n),p,m,v,_;f>=0?(p=d.substr(0,f),m=d.substr(f+1)):(p=d,m=""),v=decodeURIComponent(p),_=decodeURIComponent(m),yC(i,v)?Array.isArray(i[v])?i[v].push(_):i[v]=[i[v],_]:i[v]=_}return i},ca=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},_C=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(ca(i))+n;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(ca(o))}).join(e):s+encodeURIComponent(ca(t[i]))}).join(e):r?encodeURIComponent(ca(r))+n+encodeURIComponent(ca(t)):""};sl.decode=sl.parse=vC;sl.encode=sl.stringify=_C;var xC=Ip.exports,tr=gC,wC=xh,EC=DC,bC=MC;function Gn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var TC=/^([a-z0-9.+-]+:)/i,SC=/:[0-9]*$/,CC=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,PC=["<",">",'"',"`"," ","\r",`
`,"	"],AC=["{","}","|","\\","^","`"].concat(PC),Rp=["'"].concat(AC),Ov=["%","/","?",";","#"].concat(Rp),Uv=["/","?","#"],IC=255,zv=/^[+a-z0-9A-Z_-]{0,63}$/,RC=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kC={javascript:!0,"javascript:":!0},kp={javascript:!0,"javascript:":!0},so={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Mp=sl;function xh(t,e,n){if(t&&tr.isObject(t)&&t instanceof Gn)return t;var r=new Gn;return r.parse(t,e,n),r}Gn.prototype.parse=function(t,e,n){if(!tr.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var l=t;if(l=l.trim(),!n&&t.split("#").length===1){var c=CC.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Mp.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=TC.exec(l);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,l=l.substr(d.length)}if(n||d||l.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=l.substr(0,2)==="//";p&&!(d&&kp[d])&&(l=l.substr(2),this.slashes=!0)}if(!kp[d]&&(p||d&&!so[d])){for(var m=-1,v=0;v<Uv.length;v++){var _=l.indexOf(Uv[v]);_!==-1&&(m===-1||_<m)&&(m=_)}var S,x;m===-1?x=l.lastIndexOf("@"):x=l.lastIndexOf("@",m),x!==-1&&(S=l.slice(0,x),l=l.slice(x+1),this.auth=decodeURIComponent(S)),m=-1;for(var v=0;v<Ov.length;v++){var _=l.indexOf(Ov[v]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=l.length),this.host=l.slice(0,m),l=l.slice(m),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var T=this.hostname.split(/\./),v=0,b=T.length;v<b;v++){var C=T[v];if(!!C&&!C.match(zv)){for(var D="",R=0,M=C.length;R<M;R++)C.charCodeAt(R)>127?D+="x":D+=C[R];if(!D.match(zv)){var I=T.slice(0,v),z=T.slice(v+1),X=C.match(RC);X&&(I.push(X[1]),z.unshift(X[2])),z.length&&(l="/"+z.join(".")+l),this.hostname=I.join(".");break}}}this.hostname.length>IC?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=xC.toASCII(this.hostname));var $=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+$,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!kC[f])for(var v=0,b=Rp.length;v<b;v++){var L=Rp[v];if(l.indexOf(L)!==-1){var B=encodeURIComponent(L);B===L&&(B=escape(L)),l=l.split(L).join(B)}}var ue=l.indexOf("#");ue!==-1&&(this.hash=l.substr(ue),l=l.slice(0,ue));var he=l.indexOf("?");if(he!==-1?(this.search=l.substr(he),this.query=l.substr(he+1),e&&(this.query=Mp.parse(this.query)),l=l.slice(0,he)):e&&(this.search="",this.query={}),l&&(this.pathname=l),so[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",Q=this.search||"";this.path=$+Q}return this.href=this.format(),this};function MC(t){return tr.isString(t)&&(t=xh(t)),t instanceof Gn?t.format():Gn.prototype.format.call(t)}Gn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&tr.isObject(this.query)&&Object.keys(this.query).length&&(s=Mp.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||so[e])&&i!==!1?(i="//"+(i||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),o&&o.charAt(0)!=="?"&&(o="?"+o),n=n.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+n+o+r};function DC(t,e){return xh(t,!1,!0).resolve(e)}Gn.prototype.resolve=function(t){return this.resolveObject(xh(t,!1,!0)).format()};Gn.prototype.resolveObject=function(t){if(tr.isString(t)){var e=new Gn;e.parse(t,!1,!0),t=e}for(var n=new Gn,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(n[c]=t[c])}return so[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!so[t.protocol]){for(var d=Object.keys(t),f=0;f<d.length;f++){var p=d[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!kp[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),n.pathname=b.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",v=n.search||"";n.path=m+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var _=n.pathname&&n.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=S||_||n.host&&t.pathname,w=x,T=n.pathname&&n.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],C=n.protocol&&!so[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(T[0]===""?T[0]=n.host:T.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),x=x&&(b[0]===""||T[0]==="")),S)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,T=b;else if(b.length)T||(T=[]),T.pop(),T=T.concat(b),n.search=t.search,n.query=t.query;else if(!tr.isNullOrUndefined(t.search)){if(C){n.hostname=n.host=T.shift();var D=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;D&&(n.auth=D.shift(),n.host=n.hostname=D.shift())}return n.search=t.search,n.query=t.query,(!tr.isNull(n.pathname)||!tr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!T.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var R=T.slice(-1)[0],M=(n.host||t.host||T.length>1)&&(R==="."||R==="..")||R==="",I=0,z=T.length;z>=0;z--)R=T[z],R==="."?T.splice(z,1):R===".."?(T.splice(z,1),I++):I&&(T.splice(z,1),I--);if(!x&&!w)for(;I--;I)T.unshift("..");x&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),M&&T.join("/").substr(-1)!=="/"&&T.push("");var X=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(C){n.hostname=n.host=X?"":T.length?T.shift():"";var D=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;D&&(n.auth=D.shift(),n.host=n.hostname=D.shift())}return x=x||n.host&&T.length,x&&!X&&T.unshift(""),T.length?n.pathname=T.join("/"):(n.pathname=null,n.path=null),(!tr.isNull(n.pathname)||!tr.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Gn.prototype.parseHost=function(){var t=this.host,e=SC.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const NC={parse:wC,format:bC,resolve:EC};function Pn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ha(t){return t.split("?")[0].split("#")[0]}function FC(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function BC(t,e,n){return t.replace(new RegExp(FC(e),"g"),n)}function LC(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=l,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,l)}`:n=t.slice(i+1,l),r=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return n}const At={toPosix(t){return BC(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Pn(t),t=this.toPosix(t);let e="";const n=/^file:\/\/\//.exec(t),r=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(n||r||i){const s=(n==null?void 0:n[0])||(r==null?void 0:r[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,n){if(this.isDataUrl(t))return t;const r=ha(this.toPosix(e!=null?e:ne.ADAPTER.getBaseUrl())),i=ha(this.toPosix(n!=null?n:this.rootname(r)));return Pn(t),t=this.toPosix(t),t.startsWith("/")?At.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(t=this.toPosix(t),Pn(t),t.length===0)return".";let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=LC(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Pn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){var n;if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(Pn(i),i.length>0)if(e===void 0)e=i;else{const s=(n=t[r-1])!=null?n:"";this.extname(s)?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Pn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){r=l;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Pn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Pn(t),e&&Pn(e),t=ha(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){n=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=l))}return n===r?r=l:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Pn(t),t=ha(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Pn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ha(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,l=-1,c=!0,d=t.length-1,f=0;for(;d>=i;--d){if(n=t.charCodeAt(d),n===47){if(!c){o=d+1;break}continue}l===-1&&(c=!1,l=d+1),n===46?s===-1?s=d:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||l===-1||f===0||f===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&r?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},Gv={};function Pe(t,e,n=3){if(Gv[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),Gv[e]=!0}let lf;function OC(){return typeof lf>"u"&&(lf=function(){var n;const e={stencil:!0,failIfMajorPerformanceCaveat:ne.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ne.ADAPTER.getWebGLRenderingContext())return!1;const r=ne.ADAPTER.createCanvas();let i=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),lf}var UC="#f0f8ff",zC="#faebd7",GC="#00ffff",HC="#7fffd4",jC="#f0ffff",$C="#f5f5dc",VC="#ffe4c4",XC="#000000",WC="#ffebcd",YC="#0000ff",qC="#8a2be2",QC="#a52a2a",KC="#deb887",ZC="#5f9ea0",JC="#7fff00",eP="#d2691e",tP="#ff7f50",nP="#6495ed",rP="#fff8dc",iP="#dc143c",sP="#00ffff",oP="#00008b",aP="#008b8b",lP="#b8860b",uP="#a9a9a9",cP="#006400",hP="#a9a9a9",dP="#bdb76b",fP="#8b008b",pP="#556b2f",mP="#ff8c00",gP="#9932cc",yP="#8b0000",vP="#e9967a",_P="#8fbc8f",xP="#483d8b",wP="#2f4f4f",EP="#2f4f4f",bP="#00ced1",TP="#9400d3",SP="#ff1493",CP="#00bfff",PP="#696969",AP="#696969",IP="#1e90ff",RP="#b22222",kP="#fffaf0",MP="#228b22",DP="#ff00ff",NP="#dcdcdc",FP="#f8f8ff",BP="#daa520",LP="#ffd700",OP="#808080",UP="#008000",zP="#adff2f",GP="#808080",HP="#f0fff0",jP="#ff69b4",$P="#cd5c5c",VP="#4b0082",XP="#fffff0",WP="#f0e68c",YP="#fff0f5",qP="#e6e6fa",QP="#7cfc00",KP="#fffacd",ZP="#add8e6",JP="#f08080",eA="#e0ffff",tA="#fafad2",nA="#d3d3d3",rA="#90ee90",iA="#d3d3d3",sA="#ffb6c1",oA="#ffa07a",aA="#20b2aa",lA="#87cefa",uA="#778899",cA="#778899",hA="#b0c4de",dA="#ffffe0",fA="#00ff00",pA="#32cd32",mA="#faf0e6",gA="#ff00ff",yA="#800000",vA="#66cdaa",_A="#0000cd",xA="#ba55d3",wA="#9370db",EA="#3cb371",bA="#7b68ee",TA="#00fa9a",SA="#48d1cc",CA="#c71585",PA="#191970",AA="#f5fffa",IA="#ffe4e1",RA="#ffe4b5",kA="#ffdead",MA="#000080",DA="#fdf5e6",NA="#808000",FA="#6b8e23",BA="#ffa500",LA="#ff4500",OA="#da70d6",UA="#eee8aa",zA="#98fb98",GA="#afeeee",HA="#db7093",jA="#ffefd5",$A="#ffdab9",VA="#cd853f",XA="#ffc0cb",WA="#dda0dd",YA="#b0e0e6",qA="#800080",QA="#663399",KA="#ff0000",ZA="#bc8f8f",JA="#4169e1",eI="#8b4513",tI="#fa8072",nI="#f4a460",rI="#2e8b57",iI="#fff5ee",sI="#a0522d",oI="#c0c0c0",aI="#87ceeb",lI="#6a5acd",uI="#708090",cI="#708090",hI="#fffafa",dI="#00ff7f",fI="#4682b4",pI="#d2b48c",mI="#008080",gI="#d8bfd8",yI="#ff6347",vI="#40e0d0",_I="#ee82ee",xI="#f5deb3",wI="#ffffff",EI="#f5f5f5",bI="#ffff00",TI="#9acd32",SI={aliceblue:UC,antiquewhite:zC,aqua:GC,aquamarine:HC,azure:jC,beige:$C,bisque:VC,black:XC,blanchedalmond:WC,blue:YC,blueviolet:qC,brown:QC,burlywood:KC,cadetblue:ZC,chartreuse:JC,chocolate:eP,coral:tP,cornflowerblue:nP,cornsilk:rP,crimson:iP,cyan:sP,darkblue:oP,darkcyan:aP,darkgoldenrod:lP,darkgray:uP,darkgreen:cP,darkgrey:hP,darkkhaki:dP,darkmagenta:fP,darkolivegreen:pP,darkorange:mP,darkorchid:gP,darkred:yP,darksalmon:vP,darkseagreen:_P,darkslateblue:xP,darkslategray:wP,darkslategrey:EP,darkturquoise:bP,darkviolet:TP,deeppink:SP,deepskyblue:CP,dimgray:PP,dimgrey:AP,dodgerblue:IP,firebrick:RP,floralwhite:kP,forestgreen:MP,fuchsia:DP,gainsboro:NP,ghostwhite:FP,goldenrod:BP,gold:LP,gray:OP,green:UP,greenyellow:zP,grey:GP,honeydew:HP,hotpink:jP,indianred:$P,indigo:VP,ivory:XP,khaki:WP,lavenderblush:YP,lavender:qP,lawngreen:QP,lemonchiffon:KP,lightblue:ZP,lightcoral:JP,lightcyan:eA,lightgoldenrodyellow:tA,lightgray:nA,lightgreen:rA,lightgrey:iA,lightpink:sA,lightsalmon:oA,lightseagreen:aA,lightskyblue:lA,lightslategray:uA,lightslategrey:cA,lightsteelblue:hA,lightyellow:dA,lime:fA,limegreen:pA,linen:mA,magenta:gA,maroon:yA,mediumaquamarine:vA,mediumblue:_A,mediumorchid:xA,mediumpurple:wA,mediumseagreen:EA,mediumslateblue:bA,mediumspringgreen:TA,mediumturquoise:SA,mediumvioletred:CA,midnightblue:PA,mintcream:AA,mistyrose:IA,moccasin:RA,navajowhite:kA,navy:MA,oldlace:DA,olive:NA,olivedrab:FA,orange:BA,orangered:LA,orchid:OA,palegoldenrod:UA,palegreen:zA,paleturquoise:GA,palevioletred:HA,papayawhip:jA,peachpuff:$A,peru:VA,pink:XA,plum:WA,powderblue:YA,purple:qA,rebeccapurple:QA,red:KA,rosybrown:ZA,royalblue:JA,saddlebrown:eI,salmon:tI,sandybrown:nI,seagreen:rI,seashell:iI,sienna:sI,silver:oI,skyblue:aI,slateblue:lI,slategray:uI,slategrey:cI,snow:hI,springgreen:dI,steelblue:fI,tan:pI,teal:mI,thistle:gI,tomato:yI,turquoise:vI,violet:_I,wheat:xI,white:wI,whitesmoke:EI,yellow:bI,yellowgreen:TI};function mo(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function j1(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function dg(t){if(typeof t=="string"&&(t=SI[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,n,r]=t;t=e+e+n+n+r+r}return parseInt(t,16)}function CI(){const t=[],e=[];for(let r=0;r<32;r++)t[r]=r,e[r]=r;t[fe.NORMAL_NPM]=fe.NORMAL,t[fe.ADD_NPM]=fe.ADD,t[fe.SCREEN_NPM]=fe.SCREEN,e[fe.NORMAL]=fe.NORMAL_NPM,e[fe.ADD]=fe.ADD_NPM,e[fe.SCREEN]=fe.SCREEN_NPM;const n=[];return n.push(e),n.push(t),n}const $1=CI();function V1(t,e){return $1[e?1:0][t]}function PI(t,e,n,r){return n=n||new Float32Array(4),r||r===void 0?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function fg(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let n=t>>16&255,r=t>>8&255,i=t&255;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(e*255<<24)+(n<<16)+(r<<8)+i}function X1(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(r||r===void 0)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function AI(t,e=null){const n=t*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function W1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Vc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Hv(t){return!(t&t-1)&&!!t}function jv(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function oo(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}function Xs(t){return t===0?0:t<0?-1:1}let II=0;function is(){return++II}const Y1=class{constructor(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Dp=Y1;Dp.EMPTY=new Y1(0,0,0,0);const $v={},Zn=Object.create(null),Jr=Object.create(null);class Vv{constructor(e,n,r){this._canvas=ne.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||ne.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Xv(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function Wv(t,e,n,r,i){const s=4*e;for(let o=r,l=r*s+4*n;o<=i;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function RI(t){const{width:e,height:n}=t,r=t.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const s=r.getImageData(0,0,e,n).data;let o=0,l=0,c=e-1,d=n-1;for(;l<n&&Xv(s,e,l);)++l;if(l===n)return Dp.EMPTY;for(;Xv(s,e,d);)--d;for(;Wv(s,e,o,l,d);)++o;for(;Wv(s,e,c,l,d);)--c;return++c,++d,new Dp(o,l,c,d)}function kI(t){const e=RI(t),{width:n,height:r}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,n,r)}return{width:n,height:r,data:i}}let Iu;function MI(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Iu||(Iu=document.createElement("a")),Iu.href=t;const n=NC.parse(Iu.href),r=!n.port&&e.port===""||n.port===e.port;return n.hostname!==e.hostname||!r||n.protocol!==e.protocol?"anonymous":""}function Ei(t,e=1){var r;const n=(r=ne.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}var J=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(J||{});const Np=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Yv=(t,e)=>{var n;return(n=Np(t).priority)!=null?n:e},le={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Np).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(Np).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n](e):(i[n]=i[n]||[],i[n].push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{e[n.name]=n.ref},n=>{delete e[n.name]})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>Yv(s,n)-Yv(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};class Fp{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const DI=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function NI(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function FI(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const r=DI.replace(/%forloop%/gi,NI(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}return t}const uf=0,cf=1,hf=2,df=3,ff=4,pf=5;class zr{constructor(){this.data=0,this.blendMode=fe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<uf)}set blend(e){!!(this.data&1<<uf)!==e&&(this.data^=1<<uf)}get offsets(){return!!(this.data&1<<cf)}set offsets(e){!!(this.data&1<<cf)!==e&&(this.data^=1<<cf)}get culling(){return!!(this.data&1<<hf)}set culling(e){!!(this.data&1<<hf)!==e&&(this.data^=1<<hf)}get depthTest(){return!!(this.data&1<<df)}set depthTest(e){!!(this.data&1<<df)!==e&&(this.data^=1<<df)}get depthMask(){return!!(this.data&1<<pf)}set depthMask(e){!!(this.data&1<<pf)!==e&&(this.data^=1<<pf)}get clockwiseFrontFace(){return!!(this.data&1<<ff)}set clockwiseFrontFace(e){!!(this.data&1<<ff)!==e&&(this.data^=1<<ff)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==fe.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new zr;return e.depthTest=!1,e.blend=!0,e}}const Bp=[];function q1(t,e){if(!t)return null;let n="";if(typeof t=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(let r=Bp.length-1;r>=0;--r){const i=Bp[r];if(i.test&&i.test(t,n))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Hn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,r,i,s,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:f}=this;this._aliasCount++;for(let p=0,m=f.length;p<m;p++)f[p][d](e,n,r,i,s,o,l,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Hn.prototype,{dispatch:{value:Hn.prototype.emit},run:{value:Hn.prototype.emit}});class ol{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Hn("setRealSize"),this.onUpdate=new Hn("update"),this.onError=new Hn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class _l extends ol{constructor(e,n){const{width:r,height:i}=n||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e}upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Vn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const BI={scaleMode:Rr.NEAREST,format:Y.RGBA,alphaMode:Vn.NPM},Fs=class extends vl{constructor(t=null,e=null){super(),e=Object.assign({},Fs.defaultOptions,e);const{alphaMode:n,mipmap:r,anisotropicLevel:i,scaleMode:s,width:o,height:l,wrapMode:c,format:d,type:f,target:p,resolution:m,resourceOptions:v}=e;t&&!(t instanceof ol)&&(t=q1(t,v),t.internal=!0),this.resolution=m||ne.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=r,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=d,this.type=f,this.target=p,this.alphaMode=n,this.uid=is(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this}setSize(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)}setRealSize(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Hv(this.realWidth)&&Hv(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Jr[this.cacheId],delete Zn[this.cacheId],this.cacheId=null),this.dispose(),Fs.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,n=ne.STRICT_TEXTURE_CACHE){const r=typeof t=="string";let i=null;if(r)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${is()}`}i=t._pixiId}let s=Jr[i];if(r&&n&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Fs(t,e),s.cacheId=i,Fs.addToCache(s,i)),s}static fromBuffer(t,e,n,r){t=t||new Float32Array(e*n*4);const i=new _l(t,{width:e,height:n}),s=t instanceof Float32Array?de.FLOAT:de.UNSIGNED_BYTE;return new Fs(i,Object.assign({},BI,r||{width:e,height:n,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Jr[e]&&Jr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Jr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Jr[t];if(e){const n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete Jr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Jr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let _e=Fs;_e.defaultOptions={mipmap:hr.POW2,anisotropicLevel:0,scaleMode:Rr.LINEAR,wrapMode:Fr.CLAMP,alphaMode:Vn.UNPACK,target:io.TEXTURE_2D,format:Y.RGBA,type:de.UNSIGNED_BYTE};_e._globalBatch=0;class Lp{constructor(){this.texArray=null,this.blend=0,this.type=Ln.TRIANGLES,this.start=0,this.size=0,this.data=null}}let LI=0;class st{constructor(e,n=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=n,this.id=LI++,this.disposeRunner=new Hn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?lr.ELEMENT_ARRAY_BUFFER:lr.ARRAY_BUFFER}get index(){return this.type===lr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new st(e)}}class Xc{constructor(e,n=0,r=!1,i=de.FLOAT,s,o,l,c=1){this.buffer=e,this.size=n,this.normalized=r,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,n,r,i,s){return new Xc(e,n,r,i,s)}}const OI={Float32Array,Uint32Array,Int32Array,Uint8Array};function UI(t,e){let n=0,r=0;const i={};for(let c=0;c<t.length;c++)r+=e[c],n+=t[c].length;const s=new ArrayBuffer(n*4);let o=null,l=0;for(let c=0;c<t.length;c++){const d=e[c],f=t[c],p=W1(f);i[p]||(i[p]=new OI[p](s)),o=i[p];for(let m=0;m<f.length;m++){const v=(m/d|0)*r+l,_=m%d;o[v+_]=f[m]}l+=d}return new Float32Array(s)}const qv={5126:4,5123:2,5121:1};let zI=0;const GI={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class bi{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=zI++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Hn("disposeGeometry"),this.refCount=0}addAttribute(e,n,r=0,i=!1,s,o,l,c=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof st||(n instanceof Array&&(n=new Float32Array(n)),n=new st(n));const d=e.split("|");if(d.length>1){for(let p=0;p<d.length;p++)this.addAttribute(d[p],n,r,i,s);return this}let f=this.buffers.indexOf(n);return f===-1&&(this.buffers.push(n),f=this.buffers.length-1),this.attributes[e]=new Xc(f,r,i,s,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof st||(e instanceof Array&&(e=new Uint16Array(e)),e=new st(e)),e.type=lr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],r=new st;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),n.push(s.size*qv[s.type]/4),s.buffer=0}for(r.data=UI(e,n),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new bi;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new st(this.buffers[n].data.slice(0));for(const n in this.attributes){const r=this.attributes[n];e.attributes[n]=new Xc(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=lr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new bi,r=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let l=0;l<o.buffers.length;l++)r[l]=new GI[W1(o.buffers[l].data)](i[l]),n.buffers[l]=new st(r[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)r[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(n.attributes=o.attributes,o.indexBuffer){n.indexBuffer=n.buffers[o.buffers.indexOf(o.indexBuffer)],n.indexBuffer.type=lr.ELEMENT_ARRAY_BUFFER;let l=0,c=0,d=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===f&&(c+=m.size*qv[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let v=0;v<m.length;v++)n.indexBuffer.data[v+d]+=l;l+=e[p].buffers[f].data.length/c,d+=m.length}}return n}}class Q1 extends bi{constructor(e=!1){super(),this._buffer=new st(null,e,!1),this._indexBuffer=new st(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,de.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,de.FLOAT).addAttribute("aColor",this._buffer,4,!0,de.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,de.FLOAT).addIndex(this._indexBuffer)}}const Wc=Math.PI*2,HI=180/Math.PI,jI=Math.PI/180;var Ct=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Ct||{});class be{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new be(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Ru=[new be,new be,new be,new be];class Ee{constructor(e=0,n=0,r=0,i=0){this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i),this.type=Ct.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ee(0,0,0,0)}clone(){return new Ee(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const I=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=I)return!1;const X=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>X}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const l=Ru[0].set(e.left,e.top),c=Ru[1].set(e.left,e.bottom),d=Ru[2].set(e.right,e.top),f=Ru[3].set(e.right,e.bottom);if(d.x<=l.x||c.y<=l.y)return!1;const p=Math.sign(n.a*n.d-n.b*n.c);if(p===0||(n.apply(l,l),n.apply(c,c),n.apply(d,d),n.apply(f,f),Math.max(l.x,c.x,d.x,f.x)<=r||Math.min(l.x,c.x,d.x,f.x)>=i||Math.max(l.y,c.y,d.y,f.y)<=s||Math.min(l.y,c.y,d.y,f.y)>=o))return!1;const m=p*(c.y-l.y),v=p*(l.x-c.x),_=m*r+v*s,S=m*i+v*s,x=m*r+v*o,w=m*i+v*o;if(Math.max(_,S,x,w)<=m*l.x+v*l.y||Math.min(_,S,x,w)>=m*f.x+v*f.y)return!1;const T=p*(l.y-d.y),b=p*(d.x-l.x),C=T*r+b*s,D=T*i+b*s,R=T*r+b*o,M=T*i+b*o;return!(Math.max(C,D,R,M)<=T*l.x+b*l.y||Math.min(C,D,R,M)>=T*f.x+b*f.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class pg{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.radius=r,this.type=Ct.CIRC}clone(){return new pg(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}getBounds(){return new Ee(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class mg{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.width=r,this.height=i,this.type=Ct.ELIP}clone(){return new mg(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(n-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new Ee(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class ao{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.type=Ct.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new ao(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],c=this.points[s*2+1],d=this.points[o*2],f=this.points[o*2+1];c>n!=f>n&&e<(d-l)*((n-c)/(f-c))+l&&(r=!r)}return r}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}}class gg{constructor(e=0,n=0,r=0,i=0,s=20){this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s,this.type=Ct.RREC}clone(){return new gg(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Xe{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new be;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new be;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return n.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,n.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,n,r,i,s,o,l,c,d){return this.a=Math.cos(l+d)*s,this.b=Math.sin(l+d)*s,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),c=Math.atan2(r,n),d=Math.abs(l+c);return d<1e-5||Math.abs(Wc-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Xe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Xe}static get TEMP_MATRIX(){return new Xe}}const Gi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Hi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ji=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],$i=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Op=[],K1=[],ku=Math.sign;function $I(){for(let t=0;t<16;t++){const e=[];Op.push(e);for(let n=0;n<16;n++){const r=ku(Gi[t]*Gi[n]+ji[t]*Hi[n]),i=ku(Hi[t]*Gi[n]+$i[t]*Hi[n]),s=ku(Gi[t]*ji[n]+ji[t]*$i[n]),o=ku(Hi[t]*ji[n]+$i[t]*$i[n]);for(let l=0;l<16;l++)if(Gi[l]===r&&Hi[l]===i&&ji[l]===s&&$i[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new Xe;e.set(Gi[t],Hi[t],ji[t],$i[t],0,0),K1.push(e)}}$I();const Ke={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Gi[t],uY:t=>Hi[t],vX:t=>ji[t],vY:t=>$i[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Op[t][e],sub:(t,e)=>Op[t][Ke.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ke.S:Ke.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ke.E:Ke.W:e>0?t>0?Ke.SE:Ke.SW:t>0?Ke.NE:Ke.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=K1[Ke.inv(e)];i.tx=n,i.ty=r,t.append(i)}};class Mr{constructor(e,n,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Mr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const Z1=class{constructor(){this.worldTransform=new Xe,this.localTransform=new Xe,this.position=new Mr(this.onChange,this,0,0),this.scale=new Mr(this.onChange,this,1,1),this.pivot=new Mr(this.onChange,this,0,0),this.skew=new Mr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let wh=Z1;wh.IDENTITY=new Z1;var VI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,XI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Qv(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function mf(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function J1(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return mf(2*e);case"bvec3":return mf(3*e);case"bvec4":return mf(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const lo=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],WI={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},YI={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function qI(t,e){var r;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(r=t.uniforms[i])!=null&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let l=!1;for(let c=0;c<lo.length;c++)if(lo[c].test(s,o)){n.push(lo[c].code(i,o)),l=!0;break}if(!l){const d=(s.size===1&&!s.isArray?WI:YI)[s.type].replace("location",`ud["${i}"].location`);n.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${d};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const ew={};let Is=ew;function QI(){if(Is===ew||(Is==null?void 0:Is.isContextLost())){const t=ne.ADAPTER.createCanvas();let e;ne.PREFER_ENV>=hs.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Is=e}return Is}let Mu;function KI(){if(!Mu){Mu=vn.MEDIUM;const t=QI();t&&t.getShaderPrecisionFormat&&(Mu=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?vn.HIGH:vn.MEDIUM)}return Mu}function Kv(t,e){const n=t.getShaderSource(e).split(`
`).map((d,f)=>`${f}: ${d}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),l=[""];o.forEach(d=>{n[d-1]=`%c${n[d-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=n.join(`
`);l[0]=c,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function ZI(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||Kv(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||Kv(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const JI={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function tw(t){return JI[t]}let Du=null;const Zv={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function nw(t,e){if(!Du){const n=Object.keys(Zv);Du={};for(let r=0;r<n.length;++r){const i=n[r];Du[t[i]]=Zv[i]}}return Du[e]}function Jv(t,e,n){if(t.substring(0,9)!=="precision"){let r=e;return e===vn.HIGH&&n!==vn.HIGH&&(r=vn.MEDIUM),`precision ${r} float;
${t}`}else if(n!==vn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let da;function eR(){if(typeof da=="boolean")return da;try{da=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{da=!1}return da}let tR=0;const Nu={},Bs=class{constructor(t,e,n="pixi-shader",r={}){this.extra={},this.id=tR++,this.vertexSrc=t||Bs.defaultVertexSrc,this.fragmentSrc=e||Bs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=r,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Nu[n]?(Nu[n]++,n+=`-${Nu[n]}`):Nu[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=Jv(this.vertexSrc,Bs.defaultVertexPrecision,vn.HIGH),this.fragmentSrc=Jv(this.fragmentSrc,Bs.defaultFragmentPrecision,KI())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return XI}static get defaultFragmentSrc(){return VI}static from(t,e,n){const r=t+e;let i=$v[r];return i||($v[r]=i=new Bs(t,e,n)),i}};let On=Bs;On.defaultVertexPrecision=vn.HIGH;On.defaultFragmentPrecision=kr.apple.device?vn.HIGH:vn.MEDIUM;let nR=0;class jn{constructor(e,n,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=nR++,this.static=!!n,this.ubo=!!r,e instanceof st?(this.buffer=e,this.buffer.type=lr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new st(new Float32Array(1)),this.buffer.type=lr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,r){if(!this.ubo)this.uniforms[e]=new jn(n,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,r){return new jn(e,n,r)}static uboFrom(e,n){return new jn(e,n!=null?n:!0,!0)}}class ur{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof jn?this.uniformGroup=n:this.uniformGroup=new jn(n):this.uniformGroup=new jn({}),this.disposeRunner=new Hn("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const r in n.uniforms){const i=n.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,r){const i=On.from(e,n);return new ur(i,r)}}class rR{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=jn.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new On(this.vertexSrc,i)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Xe,default:this.defaultGroupCache[e]};return new ur(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let r=0;r<e;r++)r>0&&(n+=`
else `),r<e-1&&(n+=`if(vTextureId < ${r}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Up{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function iR(){return!kr.apple.device}function sR(t){let e=!0;const n=ne.ADAPTER.getNavigator();if(kr.tablet||kr.phone){if(kr.apple.device){const r=n.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(kr.android.device){const r=n.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}class Eh{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var oR=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,aR=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Rn=class extends Eh{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Q1,this.vertexSize=6,this.state=zr.for2d(),this.size=Rn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var t;return this._defaultMaxTextures=(t=this._defaultMaxTextures)!=null?t:sR(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){var t;return this._canUploadSameBuffer=(t=this._canUploadSameBuffer)!=null?t:iR(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Pe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return aR}static get defaultFragmentTemplate(){return oR}setShaderGenerator({vertex:t=Rn.defaultVertexSrc,fragment:e=Rn.defaultFragmentTemplate}={}){this.shaderGenerator=new rR(t,e)}contextChange(){const t=this.renderer.gl;ne.PREFER_ENV===hs.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Rn.defaultMaxTextures),this.maxTextures=FI(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Rn,n=this.size/4,r=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Lp);for(;e.length<r;)e.push(new Up);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){!t._texture.valid||(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,n=Rn._textureArrayPool,r=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++_e._globalBatch,l=0,c=n[0],d=0;r.copyBoundTextures(i,e);for(let f=0;f<this._bufferSize;++f){const p=t[f];t[f]=null,p._batchEnabled!==o&&(c.count>=e&&(r.boundArray(c,i,o,e),this.buildDrawCalls(c,d,f),d=f,c=n[++l],++o),p._batchEnabled=o,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(r.boundArray(c,i,o,e),this.buildDrawCalls(c,d,this._bufferSize),++l,++o);for(let f=0;f<i.length;f++)i[f]=null;_e._globalBatch=o}buildDrawCalls(t,e,n){const{_bufferedElements:r,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,l=Rn._drawCallPool;let c=this._dcIndex,d=this._aIndex,f=this._iIndex,p=l[c];p.start=this._iIndex,p.texArray=t;for(let m=e;m<n;++m){const v=r[m],_=v._texture.baseTexture,S=$1[_.alphaMode?1:0][v.blendMode];r[m]=null,e<m&&p.blend!==S&&(p.size=f-p.start,e=m,p=l[++c],p.texArray=t,p.start=f),this.packInterleavedGeometry(v,i,s,d,f),d+=v.vertexData.length/2*o,f+=v.indices.length,p.blend=S}e<n&&(p.size=f-p.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=f}bindAndClearTexArray(t){const e=this.renderer.texture;for(let n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:n}=this;Rn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:n}=this.renderer,r=Rn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:l,size:c,start:d,blend:f}=r[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,n.set(this.state),e.drawElements(l,c,e.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Rn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Vc(Math.ceil(t/8)),n=jv(e),r=e*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Fp(r*this.vertexSize*4)),i}getIndexBuffer(t){const e=Vc(Math.ceil(t/12)),n=jv(e),r=e*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i}packInterleavedGeometry(t,e,n,r,i){const{uint32View:s,float32View:o}=e,l=r/this.vertexSize,c=t.uvs,d=t.indices,f=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),v=m<1&&t._texture.baseTexture.alphaMode?fg(t._tintRGB,m):t._tintRGB+(m*255<<24);for(let _=0;_<f.length;_+=2)o[r++]=f[_],o[r++]=f[_+1],o[r++]=c[_],o[r++]=c[_+1],s[r++]=v,o[r++]=p;for(let _=0;_<d.length;_++)n[i++]=l+d[_]}};let Nn=Rn;Nn.defaultBatchSize=4096;Nn.extension={name:"batch",type:J.RendererPlugin};Nn._drawCallPool=[];Nn._textureArrayPool=[];le.add(Nn);var lR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,uR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ba=class extends ur{constructor(t,e,n){const r=On.from(t||ba.defaultVertexSrc,e||ba.defaultFragmentSrc);super(r,n),this.padding=0,this.resolution=ba.defaultResolution,this.multisample=ba.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new zr}apply(t,e,n,r,i){t.applyFilter(this,e,n,r)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return uR}static get defaultFragmentSrc(){return lR}};let Pt=ba;Pt.defaultResolution=1;Pt.defaultMultisample=lt.NONE;class rw{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?dg(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=j1(e),mo(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}rw.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"background"};le.add(rw);class iw{constructor(e){this.renderer=e,this.emptyRenderer=new Eh(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:r}=this.renderer.texture;for(let i=n-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,n,r,i){const{elements:s,ids:o,count:l}=e;let c=0;for(let d=0;d<l;d++){const f=s[d],p=f._batchLocation;if(p>=0&&p<i&&n[p]===f){o[d]=p;continue}for(;c<i;){const m=n[c];if(m&&m._batchEnabled===r&&m._batchLocation===c){c++;continue}o[d]=c,f._batchLocation=c,n[c]=f;break}}}destroy(){this.renderer=null}}iw.extension={type:J.RendererSystem,name:"batch"};le.add(iw);let e_=0;class sw{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=e_++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=e_++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let r;if(ne.PREFER_ENV>=hs.WEBGL2&&(r=e.getContext("webgl2",n)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}sw.extension={type:J.RendererSystem,name:"context"};le.add(sw);class cR extends _l{upload(e,n,r){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Vn.UNPACK);const s=n.realWidth,o=n.realHeight;return r.width===s&&r.height===o?i.texSubImage2D(n.target,0,0,0,s,o,n.format,r.type,this.data):(r.width=s,r.height=o,i.texImage2D(n.target,0,r.internalFormat,s,o,0,n.format,r.type,this.data)),!0}}class zp{constructor(e,n){this.width=Math.round(e||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Hn("disposeFramebuffer"),this.multisample=lt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new _e(null,{scaleMode:Rr.NEAREST,resolution:1,mipmap:hr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new _e(new cR(null,{width:this.width,height:this.height}),{scaleMode:Rr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:hr.OFF,format:Y.DEPTH_COMPONENT,type:de.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,n/s)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,n/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ow extends _e{constructor(e={}){var n;if(typeof e=="number"){const r=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3];e={width:r,height:i,scaleMode:s,resolution:o}}e.width=e.width||100,e.height=e.height||100,(n=e.multisample)!=null||(e.multisample=lt.NONE),super(null,e),this.mipmap=hr.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new zp(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ti extends ol{constructor(e){const n=e,r=n.naturalWidth||n.videoWidth||n.width,i=n.naturalHeight||n.videoHeight||n.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,r){r===void 0&&!n.startsWith("data:")?e.crossOrigin=MI(n):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,n,r,i){const s=e.gl,o=n.realWidth,l=n.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Vn.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&r.width===o&&r.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,r.type,i):(r.width=o,r.height=l,s.texImage2D(n.target,0,r.internalFormat,n.format,r.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),super.update()}dispose(){this.source=null}}class aw extends Ti{constructor(e,n){var r;if(n=n||{},typeof e=="string"){const i=new Image;Ti.crossOrigin(i,e,n.crossorigin),i.src=e,e=i}super(e),!e.complete&&!!this._width&&!!this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((r=n.createBitmap)!=null?r:ne.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,r)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?n(this.process()):n(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{r(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>n(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Vn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,r){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,r,this.bitmap),!this.preserveBitmap){let i=!0;const s=n._glTextures;for(const o in s){const l=s[o];if(l!==r&&l.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class lw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,l=e.height/2/s,c=e.x/i+o,d=e.y/s+l;r=Ke.add(r,Ke.NW),this.x0=c+o*Ke.uX(r),this.y0=d+l*Ke.uY(r),r=Ke.add(r,2),this.x1=c+o*Ke.uX(r),this.y1=d+l*Ke.uY(r),r=Ke.add(r,2),this.x2=c+o*Ke.uX(r),this.y2=d+l*Ke.uY(r),r=Ke.add(r,2),this.x3=c+o*Ke.uX(r),this.y3=d+l*Ke.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const t_=new lw;function Fu(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Z extends vl{constructor(e,n,r,i,s,o){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new Ee(0,0,1,1)),e instanceof Z&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=i,this.valid=!1,this._uvs=t_,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new be(o.x,o.y):new be(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;(n==null?void 0:n.url)&&Zn[n.url]&&Z.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Z.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),r=new Z(this.baseTexture,!this.noFrame&&e,n,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===t_&&(this._uvs=new lw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},r=ne.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof _e){if(!e.cacheId){const l=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${is()}`,_e.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${is()}`}s=e._pixiId}let o=Zn[s];if(i&&r&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof _e)?(n.resolution||(n.resolution=Ei(e)),o=new Z(new _e(e,n)),o.baseTexture.cacheId=s,_e.addToCache(o.baseTexture,s),Z.addToCache(o,s)):!o&&e instanceof _e&&(o=new Z(e),Z.addToCache(o,s)),o}static fromURL(e,n){const r=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),i=Z.from(e,Object.assign({resourceOptions:r},n),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,n,r,i){return new Z(_e.fromBuffer(e,n,r,i))}static fromLoader(e,n,r,i){const s=new _e(e,Object.assign({scaleMode:_e.defaultOptions.scaleMode,resolution:Ei(n)},i)),{resource:o}=s;o instanceof aw&&(o.url=n);const l=new Z(s);return r||(r=n),_e.addToCache(l.baseTexture,r),Z.addToCache(l,r),r!==n&&(_e.addToCache(l.baseTexture,n),Z.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),Zn[n]&&Zn[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),Zn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=Zn[e];if(n){const r=n.textureCacheIds.indexOf(e);return r>-1&&n.textureCacheIds.splice(r,1),delete Zn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)Zn[e.textureCacheIds[n]]===e&&delete Zn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:r,width:i,height:s}=e,o=n+i>this.baseTexture.width,l=r+s>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",d=`X: ${n} + ${i} = ${n+i} > ${this.baseTexture.width}`,f=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Z._EMPTY||(Z._EMPTY=new Z(new _e),Fu(Z._EMPTY),Fu(Z._EMPTY.baseTexture)),Z._EMPTY}static get WHITE(){if(!Z._WHITE){const e=ne.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),Z._WHITE=new Z(_e.from(e)),Fu(Z._WHITE),Fu(Z._WHITE.baseTexture)}return Z._WHITE}}class Si extends Z{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,r=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(n*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new Si(new ow(e))}}class uw{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,r=lt.NONE){const i=new ow(Object.assign({width:e,height:n,resolution:1,multisample:r},this.textureOptions));return new Si(i)}getOptimalTexture(e,n,r=1,i=lt.NONE){let s;e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=Vc(e),n=Vc(n),s=((e&65535)<<16|n&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,n,i)),o.filterPoolKey=s,o.setResolution(r),o}getFilterTexture(e,n,r){const i=this.getOptimalTexture(e.width,e.height,n||e.resolution,r||lt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const r=this.texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}uw.SCREEN_KEY=-1;class hR extends bi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class cw extends bi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new st(this.vertices),this.uvBuffer=new st(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+n.width/e.width,this.uvs[3]=i,this.uvs[4]=r+n.width/e.width,this.uvs[5]=i+n.height/e.height,this.uvs[6]=r,this.uvs[7]=i+n.height/e.height,r=n.x,i=n.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+n.width,this.vertices[3]=i,this.vertices[4]=r+n.width,this.vertices[5]=i+n.height,this.vertices[6]=r,this.vertices[7]=i+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class dR{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=lt.NONE,this.sourceFrame=new Ee,this.destinationFrame=new Ee,this.bindingSourceFrame=new Ee,this.bindingDestinationFrame=new Ee,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Bu=[new be,new be,new be,new be],gf=new Xe;class hw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new uw,this.statePool=[],this.quad=new hR,this.quadUv=new cw,this.tempRect=new Ee,this.activeState={},this.globalUniforms=new jn({outputFrame:new Ee,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){var _,S;const r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new dR,o=this.renderer.renderTexture;let l=n[0].resolution,c=n[0].multisample,d=n[0].padding,f=n[0].autoFit,p=(_=n[0].legacy)!=null?_:!0;for(let x=1;x<n.length;x++){const w=n[x];l=Math.min(l,w.resolution),c=Math.min(c,w.multisample),d=this.useMaxPadding?Math.max(d,w.padding):d+w.padding,f=f&&w.autoFit,p=p||((S=w.legacy)!=null?S:!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const m=this.tempRect.copyFrom(o.sourceFrame);r.projection.transform&&this.transformAABB(gf.copyFrom(r.projection.transform).invert(),m),f?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:r.resolution,o.sourceFrame,o.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=n,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),r.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),r=n.filters;this.activeState=n;const i=this.globalUniforms.uniforms;i.outputFrame=n.sourceFrame,i.resolution=n.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=n.destinationFrame.width,s[1]=n.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*n.resolution),o[1]=Math.round(s[1]*n.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=n.sourceFrame.width*s[2]-.5*o[2],l[3]=n.sourceFrame.height*s[3]-.5*o[3],n.legacy){const d=i.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,n.renderTexture,c.renderTexture,er.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let d=n.renderTexture,f=this.getOptimalFilterTexture(d.width,d.height,n.resolution);f.filterFrame=d.filterFrame;let p=0;for(p=0;p<r.length-1;++p){p===1&&n.multisample>1&&(f=this.getOptimalFilterTexture(d.width,d.height,n.resolution),f.filterFrame=d.filterFrame),r[p].apply(this,d,f,er.CLEAR,n);const m=d;d=f,f=m}r[p].apply(this,d,c.renderTexture,er.BLEND,n),p>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(f)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=er.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,r.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(n===er.CLEAR||n===er.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,r,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Ln.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Ln.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=n._texture,o=e.set(i.width,0,0,i.height,r.x,r.y),l=n.worldTransform.copyTo(Xe.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(n.anchor.x,n.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,r=1,i=lt.NONE){return this.texturePool.getOptimalTexture(e,n,r,i)}getFilterTexture(e,n,r){if(typeof e=="number"){const s=e;e=n,n=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,r||lt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const r=Bu[0],i=Bu[1],s=Bu[2],o=Bu[3];r.set(n.left,n.top),i.set(n.left,n.bottom),s.set(n.right,n.top),o.set(n.right,n.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(r.x,i.x,s.x,o.x),c=Math.min(r.y,i.y,s.y,o.y),d=Math.max(r.x,i.x,s.x,o.x),f=Math.max(r.y,i.y,s.y,o.y);n.x=l,n.y=c,n.width=d-l,n.height=f-c}roundFrame(e,n,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){const{a:o,b:l,c,d}=s;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?gf.copyFrom(s):gf.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(n),this.transformAABB(s.invert(),e)}}}hw.extension={type:J.RendererSystem,name:"filter"};le.add(hw);class fR{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=lt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const pR=new Ee;class dw{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new zp(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ee,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;ne.PREFER_ENV===hs.WEBGL_LEGACY&&(n=null,r=null),n?e.drawBuffers=i=>n.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,r=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const o=n.width>>r,l=n.height>>r,c=o/n.width;this.setViewport(n.x*c,n.y*c,o,l)}else{const o=e.width>>r,l=e.height>>r;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,r,i){const s=this.viewport;e=Math.round(e),n=Math.round(n),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==n)&&(s.x=e,s.y=n,s.width=r,s.height=i,this.gl.viewport(e,n,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,r,i,s=Tp.COLOR|Tp.DEPTH){const{gl:o}=this;o.clearColor(e,n,r,i),o.clear(s)}initFramebuffer(e){const{gl:n}=this,r=new fR(n.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:n}=this,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;n.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&r.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;r.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const d=s[c],f=d.parentTextureArray||d;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+c,d.target,f._glTextures[this.CONTEXT_UID].texture,n),l.push(r.COLOR_ATTACHMENT0+c))}if(l.length>1&&r.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const d=e.depthTexture;this.renderer.texture.bind(d,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,n)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil)):i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let r=lt.NONE;if(e<=1||n===null)return r;for(let i=0;i<n.length;i++)if(n[i]<=e){r=n[i];break}return r===1&&(r=lt.NONE),r}blit(e,n,r){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new zp(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}n||(n=pR,n.width=i.width,n.height=i.height),r||(r=n);const d=n.width===r.width&&n.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(n.left,n.top,n.right,n.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,n){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),n||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<n.length;r++)this.disposeFramebuffer(n[r],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil)return;e.stencil=!0;const r=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),n.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,n.multisample,s.DEPTH24_STENCIL8,r,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r,i),n.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ee}destroy(){this.renderer=null}}dw.extension={type:J.RendererSystem,name:"framebuffer"};le.add(dw);const yf={5126:4,5123:2,5121:1};class fw{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;ne.PREFER_ENV===hs.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,c)=>r.drawElementsInstancedANGLE(i,s,o,l,c),e.drawArraysInstanced=(i,s,o,l)=>r.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[n.program.id]||this.initGeometryVao(e,n,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.update(i)}}checkCompatibility(e,n){const r=e.attributes,i=n.attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n.attributeData,s=["g",e.id];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,n,r=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=n.program;l.glPrograms[s]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,l);const c=this.getSignature(e,l),d=e.glVertexArrayObjects[this.CONTEXT_UID];let f=d[c];if(f)return d[l.id]=f,f;const p=e.buffers,m=e.attributes,v={},_={};for(const S in p)v[S]=0,_[S]=0;for(const S in m)!m[S].size&&l.attributeData[S]?m[S].size=l.attributeData[S].size:m[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[S].buffer]+=m[S].size*yf[m[S].type];for(const S in m){const x=m[S],w=x.size;x.stride===void 0&&(v[x.buffer]===w*yf[x.type]?x.stride=0:x.stride=v[x.buffer]),x.start===void 0&&(x.start=_[x.buffer],_[x.buffer]+=w*yf[x.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let S=0;S<p.length;S++){const x=p[S];o.bind(x),r&&x._glBuffers[s].refCount++}return this.activateVao(e,l),d[l.id]=f,d[c]=f,i.bindVertexArray(null),o.unbind(lr.ARRAY_BUFFER),f}disposeGeometry(e,n){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!r){if(o)for(let c=0;c<s.length;c++){const d=s[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!n&&o.dispose(s[c],n))}if(!n){for(const c in r)if(c[0]==="g"){const d=r[c];this._activeVao===d&&this.unbind(),i.deleteVertexArray(d)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let r=0;r<n.length;r++)this.disposeGeometry(this.managedGeometries[n[r]],e)}activateVao(e,n){const r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in l){const f=l[d],p=o[f.buffer],m=p._glBuffers[i];if(n.attributeData[d]){c!==m&&(s.bind(p),c=m);const v=n.attributeData[d].location;if(r.enableVertexAttribArray(v),r.vertexAttribPointer(v,f.size,f.type||r.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)r.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,n||o.indexBuffer.data.length,c,(r||0)*l,i||1):s.drawElements(e,n||o.indexBuffer.data.length,c,(r||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,r,n||o.getSize(),i||1):s.drawArrays(e,r,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}fw.extension={type:J.RendererSystem,name:"geometry"};le.add(fw);const n_=new Xe;class yg{constructor(e,n){this._texture=e,this.mapCoord=new Xe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const r=n._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=n.orig,s=n.trim;s&&(n_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(n_));const o=n.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return l[0]=(n._frame.x+c+d)/o.width,l[1]=(n._frame.y+c+d)/o.height,l[2]=(n._frame.x+n._frame.width-c+d)/o.width,l[3]=(n._frame.y+n._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=n._frame.width===o.width&&n._frame.height===o.height&&n.rotate===0,!0}}var mR=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,gR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class yR extends Pt{constructor(e,n,r){let i=null;typeof e!="string"&&n===void 0&&r===void 0&&(i=e,e=void 0,n=void 0,r=void 0),super(e||gR,n||mR,r),this.maskSprite=i,this.maskMatrix=new Xe}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,r,i){const s=this._maskSprite,o=s._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new yg(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,r,i))}}class vR{constructor(e=null){this.type=ft.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Pt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ft.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class pw{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let r=n;if(!r.isMaskData){const s=this.maskDataPool.pop()||new vR;s.pooled=!0,s.maskObject=n,r=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==ft.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case ft.SCISSOR:this.renderer.scissor.push(r);break;case ft.STENCIL:this.renderer.stencil.push(r);break;case ft.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case ft.COLOR:this.pushColorMask(r);break}r.type===ft.SPRITE&&this.maskStack.push(r)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case ft.SCISSOR:this.renderer.scissor.pop(n);break;case ft.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case ft.SPRITE:this.popSpriteMask(n);break;case ft.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===ft.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=ft.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ft.SCISSOR:e.type=ft.STENCIL:e.type=ft.COLOR}pushSpriteMask(e){var f,p;const{maskObject:n}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new yR]));const s=this.renderer,o=s.renderTexture;let l,c;if(o.current){const m=o.current;l=e.resolution||m.resolution,c=(f=e.multisample)!=null?f:m.multisample}else l=e.resolution||s.resolution,c=(p=e.multisample)!=null?p:s.multisample;i[0].resolution=l,i[0].multisample=c,i[0].maskSprite=n;const d=r.filterArea;r.filterArea=n.getBounds(!0),s.filter.push(r,i),r.filterArea=d,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,r=e._colorMask=n&e.colorMask;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){const n=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==n&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}pw.extension={type:J.RendererSystem,name:"mask"};le.add(pw);class mw{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(i===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const r_=new Xe,i_=[],oc=class extends mw{constructor(t){super(t),this.glConst=ne.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){var o;if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:n}=t,{renderer:r}=this,i=r.renderTexture,s=n.getBounds(!0,(o=i_.pop())!=null?o:new Ee);this.roundFrameToPixels(s,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:n,c:r,d:i}=t;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||oc.isMatrixRotated(e.worldTransform)||oc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,e,n,r,i){oc.isMatrixRotated(i)||(i=i?r_.copyFrom(i):r_.identity(),i.translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.renderer.filter.transformAABB(i,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&i_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let gw=oc;gw.extension={type:J.RendererSystem,name:"scissor"};le.add(gw);class yw extends mw{constructor(e){super(e),this.glConst=ne.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,n.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}yw.extension={type:J.RendererSystem,name:"stencil"};le.add(yw);class vw{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Pe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}vw.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"_plugin"};le.add(vw);class _w{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Xe,this.transform=null}update(e,n,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,n,r,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/n.width*2,s.d=o*(1/n.height*2),s.tx=-1-n.x*s.a,s.ty=-o-n.y*s.d}setTransform(e){}destroy(){this.renderer=null}}_w.extension={type:J.RendererSystem,name:"projection"};le.add(_w);const _R=new wh;class xw{constructor(e){this.renderer=e,this._tempMatrix=new Xe}generateTexture(e,n){const{region:r,...i}=n||{},s=r||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Si.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=_R,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}}xw.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"textureGenerator"};le.add(xw);const Oi=new Ee,fa=new Ee;class ww{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ee,this.destinationFrame=new Ee,this.viewportFrame=new Ee}bind(e=null,n,r){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,n||(Oi.width=e.frame.width,Oi.height=e.frame.height,n=Oi),r||(fa.x=e.frame.x,fa.y=e.frame.y,fa.width=n.width,fa.height=n.height,r=fa),o=s.framebuffer):(l=i.resolution,n||(Oi.width=i._view.screen.width,Oi.height=i._view.screen.height,n=Oi),r||(r=Oi,r.width=n.width,r.height=n.height));const c=this.viewportFrame;c.x=r.x*l,c.y=r.y*l,c.width=r.width*l,c.height=r.height*l,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(r,n,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(r)}clear(e,n){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=r.width!==i.width||r.height!==i.height;if(s){let{x:o,y:l,width:c,height:d}=this.viewportFrame;o=Math.round(o),l=Math.round(l),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,l,c,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],n),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ww.extension={type:J.RendererSystem,name:"renderTexture"};le.add(ww);class xR{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function wR(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=nw(e,s.type),l={type:o,name:s.name,size:tw(o),location:e.getAttribLocation(t,s.name)};n[s.name]=l}return n}function ER(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),c=nw(e,s.type);n[o]={name:o,index:i,type:c,size:s.size,isArray:l,value:J1(c,s.size)}}return n}function bR(t,e){var c;const n=Qv(t,t.VERTEX_SHADER,e.vertexSrc),r=Qv(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=(c=e.extra)==null?void 0:c.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||ZI(t,i,n,r),e.attributeData=wR(i,t),e.uniformData=ER(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const d=Object.keys(e.attributeData);d.sort((f,p)=>f>p?1:-1);for(let f=0;f<d.length;f++)e.attributeData[d[f]].location=f,t.bindAttribLocation(i,f,d[f]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);const o={};for(const d in e.uniformData){const f=e.uniformData[d];o[d]={location:t.getUniformLocation(i,d),value:J1(f.type,f.size)}}return new xR(i,o)}function TR(t,e,n,r,i){n.buffer.update(i)}const SR={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Ew={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function CR(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let n=0,r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(n=Ew[o.data.type],o.data.size>1&&(n=Math.max(n,16)*o.data.size),o.dataLen=n,r%n!==0&&r<16){const l=r%n%16;r+=l,i+=l}r+n>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=n,r=n):(o.offset=i,r+=n,i+=n)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function PR(t,e){const n=[];for(const r in t)e[r]&&n.push(e[r]);return n.sort((r,i)=>r.index-i.index),n}function AR(t,e){if(!t.autoManage)return{size:0,syncFunc:TR};const n=PR(t.uniforms,e),{uboElements:r,size:i}=CR(n),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<r.length;o++){const l=r[o],c=t.uniforms[l.data.name],d=l.data.name;let f=!1;for(let p=0;p<lo.length;p++){const m=lo[p];if(m.codeUbo&&m.test(l.data,c)){s.push(`offset = ${l.offset/4};`,lo[p].codeUbo(l.data.name,c)),f=!0;break}}if(!f)if(l.data.size>1){const p=tw(l.data.type),m=Math.max(Ew[l.data.type]/16,1),v=p/m,_=(4-v%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=SR[l.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${l.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let IR=0;const Lu={textureCount:0,uboCount:0};class bw{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=IR++}systemCheck(){if(!eR())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),n||(Lu.textureCount=0,Lu.uboCount=0,this.syncUniformGroup(e.uniformGroup,Lu)),i}setUniforms(e){const n=this.shader.program,r=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,n){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,n))}syncUniforms(e,n,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=qI(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,n);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,Lu,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[n])}createSyncBufferGroup(e,n,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(n.program,r);n.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(n.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=AR(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return n.uniformGroups[e.id]=l.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,r=e.program,i=bR(n,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}bw.extension={type:J.RendererSystem,name:"shader"};le.add(bw);class Tw{constructor(e){this.renderer=e}run(e){const n=this.renderer;n.emitWithCustomOptions(n.runners.init,e),e.hello&&console.log(`PixiJS 7.1.1 - ${n.rendererLogId} - https://pixijs.com`),n.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}Tw.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"startup"};le.add(Tw);function RR(t,e=[]){return e[fe.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.ADD]=[t.ONE,t.ONE],e[fe.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.NONE]=[0,0],e[fe.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[fe.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[fe.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[fe.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[fe.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[fe.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[fe.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[fe.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[fe.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[fe.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[fe.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const kR=0,MR=1,DR=2,NR=3,FR=4,BR=5,Gp=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=fe.NONE,this._blendEq=!1,this.map=[],this.map[kR]=this.setBlend,this.map[MR]=this.setOffset,this.map[DR]=this.setCullFace,this.map[NR]=this.setDepthTest,this.map[FR]=this.setFrontFace,this.map[BR]=this.setDepthMask,this.checks=[],this.defaultState=new zr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=RR(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,n=0;for(;e;)e&1&&this.map[n].call(this,!!(t.data&1<<n)),e=e>>1,n++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Gp.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Gp.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const n=this.checks.indexOf(t);e&&n===-1?this.checks.push(t):!e&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let Sw=Gp;Sw.extension={type:J.RendererSystem,name:"state"};le.add(Sw);class LR extends vl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var i;this.addRunners(...e.runners);const n=((i=e.priority)!=null?i:[]).filter(s=>e.systems[s]),r=[...n,...Object.keys(e.systems).filter(s=>!n.includes(s))];for(const s of r)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(n=>{this.runners[n]=new Hn(n)})}addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,n){const r=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=r.find(o=>this._systemsHash[o]===i);i[e.name](n[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ac=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ac.defaultMaxIdle,this.checkCountMax=ac.defaultCheckCountMax,this.mode=ac.defaultMode}postrender(){!this.renderer.objectRenderer.renderingToScreen||(this.count++,this.mode!==cg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){let r=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[r++]=e[i]);e.length=r}}unload(t){const e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(let r=t.children.length-1;r>=0;r--)this.unload(t.children[r])}destroy(){this.renderer=null}};let Fn=ac;Fn.defaultMode=cg.AUTO;Fn.defaultMaxIdle=60*60;Fn.defaultCheckCountMax=60*10;Fn.extension={type:J.RendererSystem,name:"textureGC"};le.add(Fn);class vf{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=de.UNSIGNED_BYTE,this.internalFormat=Y.RGBA,this.samplerType=0}}function OR(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[de.UNSIGNED_BYTE]:{[Y.RGBA]:t.RGBA8,[Y.RGB]:t.RGB8,[Y.RG]:t.RG8,[Y.RED]:t.R8,[Y.RGBA_INTEGER]:t.RGBA8UI,[Y.RGB_INTEGER]:t.RGB8UI,[Y.RG_INTEGER]:t.RG8UI,[Y.RED_INTEGER]:t.R8UI,[Y.ALPHA]:t.ALPHA,[Y.LUMINANCE]:t.LUMINANCE,[Y.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[de.BYTE]:{[Y.RGBA]:t.RGBA8_SNORM,[Y.RGB]:t.RGB8_SNORM,[Y.RG]:t.RG8_SNORM,[Y.RED]:t.R8_SNORM,[Y.RGBA_INTEGER]:t.RGBA8I,[Y.RGB_INTEGER]:t.RGB8I,[Y.RG_INTEGER]:t.RG8I,[Y.RED_INTEGER]:t.R8I},[de.UNSIGNED_SHORT]:{[Y.RGBA_INTEGER]:t.RGBA16UI,[Y.RGB_INTEGER]:t.RGB16UI,[Y.RG_INTEGER]:t.RG16UI,[Y.RED_INTEGER]:t.R16UI,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[de.SHORT]:{[Y.RGBA_INTEGER]:t.RGBA16I,[Y.RGB_INTEGER]:t.RGB16I,[Y.RG_INTEGER]:t.RG16I,[Y.RED_INTEGER]:t.R16I},[de.UNSIGNED_INT]:{[Y.RGBA_INTEGER]:t.RGBA32UI,[Y.RGB_INTEGER]:t.RGB32UI,[Y.RG_INTEGER]:t.RG32UI,[Y.RED_INTEGER]:t.R32UI,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[de.INT]:{[Y.RGBA_INTEGER]:t.RGBA32I,[Y.RGB_INTEGER]:t.RGB32I,[Y.RG_INTEGER]:t.RG32I,[Y.RED_INTEGER]:t.R32I},[de.FLOAT]:{[Y.RGBA]:t.RGBA32F,[Y.RGB]:t.RGB32F,[Y.RG]:t.RG32F,[Y.RED]:t.R32F,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[de.HALF_FLOAT]:{[Y.RGBA]:t.RGBA16F,[Y.RGB]:t.RGB16F,[Y.RG]:t.RG16F,[Y.RED]:t.R16F},[de.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:t.RGB565},[de.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:t.RGBA4},[de.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:t.RGB5_A1},[de.UNSIGNED_INT_2_10_10_10_REV]:{[Y.RGBA]:t.RGB10_A2,[Y.RGBA_INTEGER]:t.RGB10_A2UI},[de.UNSIGNED_INT_10F_11F_11F_REV]:{[Y.RGB]:t.R11F_G11F_B10F},[de.UNSIGNED_INT_5_9_9_9_REV]:{[Y.RGB]:t.RGB9_E5},[de.UNSIGNED_INT_24_8]:{[Y.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[de.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Y.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[de.UNSIGNED_BYTE]:{[Y.RGBA]:t.RGBA,[Y.RGB]:t.RGB,[Y.ALPHA]:t.ALPHA,[Y.LUMINANCE]:t.LUMINANCE,[Y.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[de.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:t.RGB},[de.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:t.RGBA},[de.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:t.RGBA}},e}class Cw{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new _e,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=OR(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let i=0;i<n;i++)this.boundTextures[i]=null;this.emptyTextures={};const r=new vf(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new vf(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,n=0){const{gl:r}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,r.activeTexture(r.TEXTURE0+n)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(n.activeTexture(n.TEXTURE0+i),this.currentLocation=i),n.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(!!r)for(let s=e-1;s>=0;--s){const o=n[s];o&&o._glTextures[i].samplerType!==Sp.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const n=new vf(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var r,i;n.internalFormat=(i=(r=this.internalFormats[e.type])==null?void 0:r[e.format])!=null?i:e.format,this.webGLVersion===2&&e.type===de.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var i;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const r=this.renderer;if(this.initTextureType(e,n),(i=e.resource)!=null&&i.upload(r,e,n))n.samplerType!==Sp.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=r.gl;(n.width!==s||n.height!==o||n.dirtyId<0)&&(n.width=s,n.height=o,l.texImage2D(e.target,0,n.internalFormat,s,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const i=this.managedTextures.indexOf(e);i!==-1&&oo(this.managedTextures,i,1)}}updateTextureStyle(e){var r;const n=e._glTextures[this.CONTEXT_UID];!n||((e.mipmap===hr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Fr.CLAMP:n.wrapMode=e.wrapMode,(r=e.resource)!=null&&r.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const r=this.gl;if(n.mipmap&&e.mipmap!==hr.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,n.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Rr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Rr.LINEAR){const s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Rr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Rr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}Cw.extension={type:J.RendererSystem,name:"texture"};le.add(Cw);class Pw{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:r,renderer:i}=this;n&&i.shader.bind(n),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:r,CONTEXT_UID:i}=this,s=n.createTransformFeedback();e._glTransformFeedbacks[i]=s,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];!l||(r.buffer.update(l),l._glBuffers[i].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,n){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&s.dispose(l,n))}!r||(n||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Pw.extension={type:J.RendererSystem,name:"transformFeedback"};le.add(Pw);class Aw{constructor(e){this.renderer=e}init(e){this.screen=new Ee(0,0,e.width,e.height),this.element=e.view||ne.ADAPTER.createCanvas(),this.resolution=e.resolution||ne.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Aw.extension={type:[J.RendererSystem,J.CanvasRendererSystem],name:"_view"};le.add(Aw);ne.PREFER_ENV=hs.WEBGL2;ne.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(ne,{WRAP_MODE:{get(){return _e.defaultOptions.wrapMode},set(t){Pe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),_e.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return _e.defaultOptions.scaleMode},set(t){Pe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),_e.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return _e.defaultOptions.mipmap},set(t){Pe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),_e.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return _e.defaultOptions.anisotropicLevel},set(t){Pe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),_e.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Pe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Pt.defaultResolution},set(t){Pt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Pe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Pt.defaultMultisample},set(t){Pt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Nn.defaultMaxTextures},set(t){Pe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Nn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Nn.defaultBatchSize},set(t){Pe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Nn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Nn.canUploadSameBuffer},set(t){Pe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Nn.canUploadSameBuffer=t}},GC_MODE:{get(){return Fn.defaultMode},set(t){Pe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Fn.defaultMode=t}},GC_MAX_IDLE:{get(){return Fn.defaultMaxIdle},set(t){Pe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Fn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Fn.defaultCheckCountMax},set(t){Pe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Fn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return On.defaultVertexPrecision},set(t){Pe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),On.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return On.defaultFragmentPrecision},set(t){Pe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),On.defaultFragmentPrecision=t}}});var ss=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ss||{});class _f{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=r,this.once=i}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const nn=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _f(null,null,1/0),this.deltaMS=1/nn.targetFPMS,this.elapsedMS=1/nn.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,n=ss.NORMAL){return this._addListener(new _f(t,e,n))}addOnce(t,e,n=ss.NORMAL){return this._addListener(new _f(t,e,n,!0))}_addListener(t){let e=this._head.next,n=this._head;if(!e)t.connect(n);else{for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,e){let n=this._head.next;for(;n;)n.match(t,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*nn.targetFPMS;const n=this._head;let r=n.next;for(;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,nn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!nn._shared){const t=nn._shared=new nn;t.autoStart=!0,t._protected=!0}return nn._shared}static get system(){if(!nn._system){const t=nn._system=new nn;t.autoStart=!0,t._protected=!0}return nn._system}};let ut=nn;ut.targetFPMS=.06;Object.defineProperties(ne,{TARGET_FPMS:{get(){return ut.targetFPMS},set(t){Pe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ut.targetFPMS=t}}});class Iw{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ss.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ut.shared:new ut,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}Iw.extension=J.Application;le.add(Iw);const Rw=[];le.handleByList(J.Renderer,Rw);function UR(t){for(const e of Rw)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var zR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,GR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const HR=zR,kw=GR;class Mw{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}n>=lt.HIGH?this.multisample=lt.HIGH:n>=lt.MEDIUM?this.multisample=lt.MEDIUM:n>=lt.LOW?this.multisample=lt.LOW:this.multisample=lt.NONE}destroy(){}}Mw.extension={type:J.RendererSystem,name:"_multisample"};le.add(Mw);class jR{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Dw{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);n.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[n]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[n]=e,r.bindBufferBase(r.UNIFORM_BUFFER,n,s.buffer)}}bindBufferRange(e,n,r){const{gl:i,CONTEXT_UID:s}=this;r=r||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,n||0,o.buffer,r*256,256)}update(e){const{gl:n,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,n.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const s=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,s)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(n||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let r=0;r<n.length;r++)this.dispose(this.managedBuffers[n[r]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:r}=this;return e._glBuffers[n]=new jR(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}Dw.extension={type:J.RendererSystem,name:"buffer"};le.add(Dw);class Nw{constructor(e){this.renderer=e}render(e,n){const r=this.renderer;let i,s,o,l;if(n&&(i=n.renderTexture,s=n.clear,o=n.transform,l=n.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=o,!r.context.isLost){if(i||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s!=null?s:r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(n.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Nw.extension={type:J.RendererSystem,name:"objectRenderer"};le.add(Nw);const Hp=class extends LR{constructor(t){var r;super(),t=Object.assign({},ne.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new jn({projectionMatrix:new Xe},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Hp.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Pe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const n={hello:t.hello,_plugin:Hp.__plugins,background:{alpha:t.backgroundAlpha,color:(r=t.background)!=null?r:t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.startup.run(n),this.options=t}static test(t){return t!=null&&t.forceCanvas?!1:OC()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Pe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Pe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Pe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){Pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Pe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let So=Hp;So.extension={type:J.Renderer,priority:1};So.__plugins={};So.__systems={};le.handleByMap(J.RendererPlugin,So.__plugins);le.handleByMap(J.RendererSystem,So.__systems);le.add(So);class Fw extends ol{constructor(e,n){const{width:r,height:i}=n||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new _e;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof ol?this.addResourceAt(e[r],r):this.addResourceAt(q1(e[r],n),r))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const n=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(n).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),Promise.resolve(this)}),this._load}}class $R extends Fw{constructor(e,n){const{width:r,height:i}=n||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:r,height:i}),s&&this.initFromArray(s,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=io.TEXTURE_2D_ARRAY}upload(e,n,r){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;r.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,n.format,r.type,null);for(let c=0;c<i;c++){const d=o[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,n.format,r.type,d.resource.source))}return!0}}class VR extends Ti{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Ta=class extends Fw{constructor(t,e){const{width:n,height:r,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Ta.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:r});for(let o=0;o<Ta.SIDES;o++)this.items[o].target=io.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=io.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=io.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,n){const r=this.itemDirtyIds;for(let i=0;i<Ta.SIDES;i++){const s=this.items[i];(r[i]<s.dirtyId||n.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,n),r[i]=s.dirtyId):r[i]<-1&&(t.gl.texImage2D(s.target,0,n.internalFormat,e.realWidth,e.realHeight,0,e.format,n.type,null),r[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Ta.SIDES}};let Bw=Ta;Bw.SIDES=6;class Ws extends Ti{constructor(e,n){var s;n=n||{};let r,i;typeof e=="string"?(r=Ws.EMPTY,i=e):(r=e,i=null),super(r),this.url=i,this.crossOrigin=(s=n.crossOrigin)!=null?s:!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const r=await ne.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await r.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Vn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;n(r),this.onError.emit(r)}}),this._load)}upload(e,n,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,r)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return Ws._EMPTY=(e=Ws._EMPTY)!=null?e:ne.ADAPTER.createCanvas(0,0),Ws._EMPTY}}const lc=class extends Ti{constructor(t,e){e=e||{},super(ne.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},lc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ti.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{!this._resolve||(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,n=t.height;if(!e||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let r=e*this.scale,i=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(r=this._overrideWidth||this._overrideHeight/n*e,i=this._overrideHeight||this._overrideWidth/e*n),r=Math.round(r),i=Math.round(i);const s=this.source;s.width=r,s.height=i,s._pixiId=`canvas_${is()}`,s.getContext("2d").drawImage(t,0,0,e,n,0,0,r,i),this._resolve(),this._resolve=null}}static getSize(t){const e=lc.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&lc.SVG_XML.test(t)}};let al=lc;al.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;al.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const jp=class extends Ti{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const r=t[0].src||t[0];Ti.crossOrigin(n,r,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:l}=t[i];o=o||t[i];const c=o.split("?").shift().toLowerCase(),d=c.slice(c.lastIndexOf(".")+1);l=l||jp.MIME_TYPES[d]||`video/${d}`,s.src=o,s.type=l,n.appendChild(s)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=ut.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ut.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||jp.TYPES.includes(e)}};let vg=jp;vg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];vg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Bp.push(Ws,aw,VR,vg,al,_l,Bw,$R);class Yc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ee.EMPTY:(e=e||new Ee(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:r,b:i,c:s,d:o,tx:l,ty:c}=e,d=r*n.x+s*n.y+l,f=i*n.x+o*n.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];n=o<n?o:n,r=l<r?l:r,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],n=o<n?o:n,r=l<r?l:r,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],n=o<n?o:n,r=l<r?l:r,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],n=o<n?o:n,r=l<r?l:r,i=o>i?o:i,s=l>s?l:s,this.minX=n,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,n,r,i,s){this.addFrameMatrix(e.worldTransform,n,r,i,s)}addFrameMatrix(e,n,r,i,s){const o=e.a,l=e.b,c=e.c,d=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,_=this.maxX,S=this.maxY,x=o*n+c*r+f,w=l*n+d*r+p;m=x<m?x:m,v=w<v?w:v,_=x>_?x:_,S=w>S?w:S,x=o*i+c*r+f,w=l*i+d*r+p,m=x<m?x:m,v=w<v?w:v,_=x>_?x:_,S=w>S?w:S,x=o*n+c*s+f,w=l*n+d*s+p,m=x<m?x:m,v=w<v?w:v,_=x>_?x:_,S=w>S?w:S,x=o*i+c*s+f,w=l*i+d*s+p,m=x<m?x:m,v=w<v?w:v,_=x>_?x:_,S=w>S?w:S,this.minX=m,this.minY=v,this.maxX=_,this.maxY=S}addVertexData(e,n,r){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let c=n;c<r;c+=2){const d=e[c],f=e[c+1];i=d<i?d:i,s=f<s?f:s,o=d>o?d:o,l=f>l?f:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,n,r,i){this.addVerticesMatrix(e.worldTransform,n,r,i)}addVerticesMatrix(e,n,r,i,s=0,o=s){const l=e.a,c=e.b,d=e.c,f=e.d,p=e.tx,m=e.ty;let v=this.minX,_=this.minY,S=this.maxX,x=this.maxY;for(let w=r;w<i;w+=2){const T=n[w],b=n[w+1],C=l*T+d*b+p,D=f*b+c*T+m;v=Math.min(v,C-s),S=Math.max(S,C+s),_=Math.min(_,D-o),x=Math.max(x,D+o)}this.minX=v,this.minY=_,this.maxX=S,this.maxY=x}addBounds(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,n){const r=e.minX>n.minX?e.minX:n.minX,i=e.minY>n.minY?e.minY:n.minY,s=e.maxX<n.maxX?e.maxX:n.maxX,o=e.maxY<n.maxY?e.maxY:n.maxY;if(r<=s&&i<=o){const l=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=r<l?r:l,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>f?o:f}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const r=e.minX>n.x?e.minX:n.x,i=e.minY>n.y?e.minY:n.y,s=e.maxX<n.x+n.width?e.maxX:n.x+n.width,o=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(r<=s&&i<=o){const l=this.minX,c=this.minY,d=this.maxX,f=this.maxY;this.minX=r<l?r:l,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>f?o:f}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,r,i,s,o){e-=s,n-=o,r+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>i?this.maxY:i}}class Ye extends vl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new wh,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Yc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Object.defineProperty(Ye.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ee),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Yc);const n=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=r,this.transform=n,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,n,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,r,i){return n&&(e=n.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,r=1,i=1,s=0,o=0,l=0,c=0,d=0){return this.position.x=e,this.position.y=n,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new XR),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*HI}set angle(e){this.transform.rotation=e*jI}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class XR extends Ye{constructor(){super(...arguments),this.sortDirty=null}}Ye.prototype.displayObjectUpdateTransform=Ye.prototype.updateTransform;const WR=new Xe;function YR(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const $p=class extends Ye{constructor(){super(),this.children=[],this.sortableChildren=$p.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);oo(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],n=this.children.indexOf(e);if(n===-1)return null;e.parent=null,e.transform._parentID=-1,oo(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this),this.emit("childRemoved",e,this,n)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,oo(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const n=t,r=e,i=r-n;let s;if(i>0&&i<=r){s=this.children.splice(n,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,n=this.children.length;e<n;++e){const r=this.children[e];r._lastSortedIndex=e,!t&&r.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(YR),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const n=super.getLocalBounds(t);if(!e)for(let r=0,i=this.children.length;r<i;++r){const s=this.children[r];s.visible&&s.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let n,r;this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==$p.prototype._render&&(n=this.getBounds(!0));const i=t.projection.transform;if(i&&(r?(r=WR.copyFrom(r),r.prepend(i)):r=i),n&&e.intersects(n,r))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s],c=l.cullable;l.cullable=c||!this.cullArea,l.render(t),l.cullable=c}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||((e=this.filters)==null?void 0:e.length))this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,r=this.children.length;n<r;++n)this.children[n].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<e.length;l++)e[l].enabled&&this._enabledFilters.push(e[l])}const r=e&&((i=this._enabledFilters)==null?void 0:i.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==ft.NONE));if(r&&t.batch.flush(),e&&((s=this._enabledFilters)==null?void 0:s.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(t)}r&&t.batch.flush(),n&&t.mask.pop(this),e&&((o=this._enabledFilters)==null?void 0:o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(e)for(let r=0;r<n.length;++r)n[r].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Gt=$p;Gt.defaultSortableChildren=!1;Gt.prototype.containerUpdateTransform=Gt.prototype.updateTransform;Object.defineProperties(ne,{SORTABLE_CHILDREN:{get(){return Gt.defaultSortableChildren},set(t){Pe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Gt.defaultSortableChildren=t}}});const pa=new be,qR=new Uint16Array([0,1,2,0,2,3]);class $n extends Gt{constructor(e){super(),this._anchor=new Mr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=fe.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||Z.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=qR,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ne.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Xs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Xs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,r=n.a,i=n.b,s=n.c,o=n.d,l=n.tx,c=n.ty,d=this.vertexData,f=e.trim,p=e.orig,m=this._anchor;let v=0,_=0,S=0,x=0;if(f?(_=f.x-m._x*p.width,v=_+f.width,x=f.y-m._y*p.height,S=x+f.height):(_=-m._x*p.width,v=_+p.width,x=-m._y*p.height,S=x+p.height),d[0]=r*_+s*x+l,d[1]=o*x+i*_+c,d[2]=r*v+s*x+l,d[3]=o*x+i*v+c,d[4]=r*v+s*S+l,d[5]=o*S+i*v+c,d[6]=r*_+s*S+l,d[7]=o*S+i*_+c,this._roundPixels){const w=ne.RESOLUTION;for(let T=0;T<d.length;++T)d[T]=Math.round(d[T]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,c=s.c,d=s.d,f=s.tx,p=s.ty,m=-i._x*r.width,v=m+r.width,_=-i._y*r.height,S=_+r.height;n[0]=o*m+c*_+f,n[1]=d*_+l*m+p,n[2]=o*v+c*_+f,n[3]=d*_+l*v+p,n[4]=o*v+c*S+f,n[5]=d*S+l*v+p,n[6]=o*m+c*S+f,n[7]=d*S+l*m+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Yc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,pa);const n=this._texture.orig.width,r=this._texture.orig.height,i=-n*this.anchor.x;let s=0;return pa.x>=i&&pa.x<i+n&&(s=-r*this.anchor.y,pa.y>=s&&pa.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,n){const r=e instanceof Z?e:Z.from(e,n);return new $n(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=Xs(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=Xs(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Z.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Lw=new Xe;Ye.prototype._cacheAsBitmap=!1;Ye.prototype._cacheData=null;Ye.prototype._cacheAsBitmapResolution=null;Ye.prototype._cacheAsBitmapMultisample=null;class QR{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Ye.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new QR),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Ye.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Ye.prototype._initCachedDisplayObject=function(e){var m,v,_;if((m=this._cacheData)!=null&&m.sprite)return;const n=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((v=this.filters)!=null&&v.length){const S=this.filters[0].padding;r.pad(S)}r.ceil(ne.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,c=Si.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(_=this.cacheAsBitmapMultisample)!=null?_:e.multisample}),d=`cacheAsBitmap_${is()}`;this._cacheData.textureCacheId=d,_e.addToCache(c.baseTexture,d),Z.addToCache(c,d);const f=this.transform.localTransform.copyTo(Lw).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const p=new $n(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};Ye.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Ye.prototype._initCachedDisplayObjectCanvas=function(e){var f;if((f=this._cacheData)!=null&&f.sprite)return;const n=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;n.ceil(ne.RESOLUTION);const o=Si.create({width:n.width,height:n.height}),l=`cacheAsBitmap_${is()}`;this._cacheData.textureCacheId=l,_e.addToCache(o.baseTexture,l),Z.addToCache(o,l);const c=Lw;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=n.x,c.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const d=new $n(o);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(n.x/n.width),d.anchor.y=-(n.y/n.height),d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)};Ye.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Ye.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Ye.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_e.removeFromCache(this._cacheData.textureCacheId),Z.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Ye.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};Ye.prototype.name=null;Gt.prototype.getChildByName=function(e,n){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(n)for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};Ye.prototype.getGlobalPosition=function(e=new be,n=!1){return this.parent?this.parent.toGlobal(this.position,e,n):(e.x=this.position.x,e.y=this.position.y),e};var KR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class ZR extends Pt{constructor(e=1){super(HR,KR,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const JR={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},e2=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function t2(t){const e=JR[t],n=e.length;let r=e2,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=s.replace("%index%",l.toString());o=l,l>=n&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const n2=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function r2(t,e){const n=Math.ceil(t/2);let r=n2,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}class Vp extends Pt{constructor(e,n=8,r=4,i=Pt.defaultResolution,s=5){const o=r2(s,e),l=t2(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=r,this.blur=n}apply(e,n,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/n.width):this.uniforms.strength=1/r.height*(r.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=n,c=s;this.state.blend=!1,e.applyFilter(this,l,c,er.CLEAR);for(let d=1;d<this.passes-1;d++){e.bindAndClear(l,er.BLIT),this.uniforms.uSampler=c;const f=c;c=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class i2 extends Pt{constructor(e=8,n=4,r=Pt.defaultResolution,i=5){super(),this.blurXFilter=new Vp(!0,e,n,r,i),this.blurYFilter=new Vp(!1,e,n,r,i),this.resolution=r,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,n,l,er.CLEAR),this.blurYFilter.apply(e,l,r,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,n,r,i):this.blurXFilter.apply(e,n,r,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var s2=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Xp extends Pt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(kw,s2,e),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const r=e>>16&255,i=e>>8&255,s=e&255,o=[r/255,0,0,0,0,0,i/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),c=r+(1-r)*o,d=o*(1-r)-l*i,f=o*(1-r)+l*i,p=o*(1-r)+l*i,m=r+o*(1-r),v=o*(1-r)-l*i,_=o*(1-r)-l*i,S=o*(1-r)+l*i,x=r+o*(1-r),w=[c,d,f,0,0,p,m,v,0,0,_,S,x,0,0,0,0,0,1,0];this._loadMatrix(w,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e=e||.2,n=n||.15,r=r||16770432,i=i||3375104;const o=(r>>16&255)/255,l=(r>>8&255)/255,c=(r&255)/255,d=(i>>16&255)/255,f=(i>>8&255)/255,p=(i&255)/255,m=[.3,.59,.11,0,0,o,l,c,e,0,d,f,p,n,0,o-d,l-f,c-p,0,0];this._loadMatrix(m,s)}night(e,n){e=e||.1;const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Xp.prototype.grayscale=Xp.prototype.greyscale;var o2=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,a2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class l2 extends Pt{constructor(e,n){const r=new Xe;e.renderable=!1,super(a2,o2,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,n==null&&(n=20),this.scale=new be(n,n)}apply(e,n,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,n,r,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var u2=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,c2=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class h2 extends Pt{constructor(){super(c2,u2)}}var d2=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class f2 extends Pt{constructor(e=.5,n=Math.random()){super(kw,d2,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const s_={AlphaFilter:ZR,BlurFilter:i2,BlurFilterPass:Vp,ColorMatrixFilter:Xp,DisplacementFilter:l2,FXAAFilter:h2,NoiseFilter:f2};Object.entries(s_).forEach(([t,e])=>{Object.defineProperty(s_,t,{get(){return Pe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class xl{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=xl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new be,this.page=new be,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class qc extends xl{constructor(){super(...arguments),this.client=new be,this.movement=new be,this.offset=new be,this.global=new be,this.screen=new be}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,l,c,d,f,p,m,v,_,S){throw new Error("Method not implemented.")}}class kn extends qc{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Wp extends qc{constructor(){super(...arguments),this.DOM_DELTA_LINE=0,this.DOM_DELTA_PAGE=1,this.DOM_DELTA_PIXEL=2}}const p2=2048,m2=new be,xf=new be;class g2{constructor(e){this.dispatch=new vl,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){const r=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,m2.set(e,n),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const i=r.children;if(i)for(let s=0;s<i.length;s++)this.all(e,n,i[s]);e.currentTarget=r,this.notifyTarget(e,n)}propagationPath(e){const n=[e];for(let r=0;r<p2&&e!==this.rootTarget;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestRecursive(e,n,r,i,s){if(!e||!e.visible||s(e,r))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let l=o.length-1;l>=0;l--){const c=o[l],d=this.hitTestRecursive(c,n||c.interactive,r,i,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;return(d.length>0||e.interactive)&&d.push(e),d}}}return n&&i(e,r)?e.interactive?[e]:[]:null}hitPruneFn(e,n){var r;if(e.hitArea&&(e.worldTransform.applyInverse(n,xf),!e.hitArea.contains(xf.x,xf.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((r=i.containsPoint)!=null&&r.call(i,n)))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var s,o;n=n!=null?n:e.type;const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var l,c;if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e),r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==n.target){const d=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,d,s);if(this.dispatchEvent(f,"pointerout"),r&&this.dispatchEvent(f,"mouseout"),!n.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!n.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),r&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(s!==n.target){const d=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(n,d);this.dispatchEvent(f,"pointerover"),r&&this.dispatchEvent(f,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==n.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const v=this.clonePointerEvent(n,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),r&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(f)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](n,"pointermove"),this.all(n,"globalpointermove"),n.pointerType==="touch"&&(this[o](n,"touchmove"),this.all(n,"globaltouchmove")),r&&(this[o](n,"mousemove"),this.all(n,"globalmousemove"),this.cursor=(c=n.target)==null?void 0:c.cursor),i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const l=r.button===2;this.dispatchEvent(r,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let l=s;for(;l&&!r.composedPath().includes(l);){if(r.currentTarget=l,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const c=r.button===2;this.notifyTarget(r,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(r,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:n});const c=i.clicksByButton[e.button];c.target===l.target&&n-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=n,l.detail=c.clickCount,l.pointerType==="mouse"?this.dispatchEvent(l,"click"):l.pointerType==="touch"&&this.dispatchEvent(l,"tap"),this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Wp)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(kn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r!=null?r:this.hitTest(i.global.x,i.global.y),typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(Wp);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(kn);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n!=null?n:r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof kn&&n instanceof kn&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof qc&&n instanceof qc&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const r=e.currentTarget._events[n];if(!!r)if("fn"in r)r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].fn.call(r[i].context,e)}}const y2=1,v2={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Ow{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new g2(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new kn(null),this.rootWheelEvent=new Wp(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:n}=this.renderer;this.setTargetElement(e),this.resolution=n}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const l=this.bootstrapEvent(this.rootPointerEvent,i[s]);l.type+=r,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const n=this.normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this.bootstrapEvent(this.rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,r){let i;this.domElement.parentElement?i=this.domElement.getBoundingClientRect():i={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=y2),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=v2[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}}Ow.extension={name:"events",type:[J.RendererSystem,J.CanvasRendererSystem]};le.add(Ow);const _2={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof xl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Ye.mixin(_2);const x2={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Ye.mixin(x2);const w2=9,Ou=100,E2=0,b2=0,o_=2,a_=1,T2=-1e3,S2=-1e3,C2=2;class Uw{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(kr.tablet||kr.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${Ou}px`,n.style.height=`${Ou}px`,n.style.position="absolute",n.style.top=`${E2}px`,n.style.left=`${b2}px`,n.style.zIndex=o_.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${a_}px`,e.style.height=`${a_}px`,e.style.position="absolute",e.style.top=`${T2}px`,e.style.left=`${S2}px`,e.style.zIndex=C2.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this.updateAccessibleObjects(n[r])}update(){const e=performance.now();if(kr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:r,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,d=i/o*c,f=s/l*c;let p=this.div;p.style.left=`${n}px`,p.style.top=`${r}px`,p.style.width=`${o}px`,p.style.height=`${l}px`;for(let m=0;m<this.children.length;m++){const v=this.children[m];if(v.renderId!==this.renderId)v._accessibleActive=!1,oo(this.children,m,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,m--;else{p=v._accessibleDiv;let _=v.hitArea;const S=v.worldTransform;v.hitArea?(p.style.left=`${(S.tx+_.x*S.a)*d}px`,p.style.top=`${(S.ty+_.y*S.d)*f}px`,p.style.width=`${_.width*S.a*d}px`,p.style.height=`${_.height*S.d*f}px`):(_=v.getBounds(),this.capHitArea(_),p.style.left=`${_.x*d}px`,p.style.top=`${_.y*f}px`,p.style.width=`${_.width*d}px`,p.style.height=`${_.height*f}px`,p.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&p.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==p.title||v.tabIndex!==p.tabIndex)&&(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${Ou}px`,n.style.height=`${Ou}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=o_.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:r}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new xl(i),{target:r});i.rootTarget=this.renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===w2&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Uw.extension={name:"accessibility",type:[J.RendererPlugin,J.CanvasRendererPlugin]};le.add(Uw);const Yp=class{constructor(t){this.stage=new Gt,t=Object.assign({forceCanvas:!1},t),this.renderer=UR(t),Yp._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const n=Yp._plugins.slice(0);n.reverse(),n.forEach(r=>{r.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let wl=Yp;wl._plugins=[];le.handleByList(J.Application,wl._plugins);class zw{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{!this._resizeTo||(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}zw.extension=J.Application;le.add(zw);const l_={loader:J.LoadParser,resolver:J.ResolveParser,cache:J.CacheParser,detection:J.DetectionParser};le.handle(J.Asset,t=>{const e=t.ref;Object.entries(l_).filter(([n])=>!!e[n]).forEach(([n,r])=>{var i;return le.add(Object.assign(e[n],{extension:(i=e[n].extension)!=null?i:r}))})},t=>{const e=t.ref;Object.keys(l_).filter(n=>!!e[n]).forEach(n=>le.remove(e[n]))});class P2{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Gw(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function bh(t,e){const n=t.split("?")[0],r=At.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Br=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"?e(n):n):t),qp=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t};function Hw(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const l=s[o];n<e.length-1?Hw(t.replace(r[n],l),e,n+1,r,i):i.push(t.replace(r[n],l))}}function A2(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),Hw(t,i,0,n,r)}else r.push(t);return r}const Qc=t=>!Array.isArray(t);class I2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Br(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(n)){i=c.getCacheableAssets(r,n);break}}i||(i={},r.forEach(l=>{i[l]=n}));const s=Object.keys(i),o={cacheKeys:s,keys:r};if(r.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==n&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),n instanceof Z){const l=n;r.forEach(c=>{l.baseTexture!==Z.EMPTY.baseTexture&&_e.addToCache(l.baseTexture,c),Z.addToCache(l,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ma=new I2;class R2{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var s,o;let i=null;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.load&&((s=c.test)==null?void 0:s.call(c,e,n,this))){i=await c.load(e,n,this),r.parser=c;break}}if(!r.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];c.parse&&c.parse&&await((o=c.testParse)==null?void 0:o.call(c,i,n,this))&&(i=await c.parse(i,n,this)||i,r.parser=c)}return i})(),r}async load(e,n){let r=0;const i={},s=Qc(e),o=Br(e,d=>({src:d})),l=o.length,c=o.map(async d=>{const f=At.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,d)),i[d.src]=await this.promiseCache[f].promise,n&&n(++r/l)}catch(p){throw delete this.promiseCache[f],delete i[d.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=Br(e,i=>({src:i})).map(async i=>{var l,c;const s=At.toAbsolute(i.src),o=this.promiseCache[s];if(o){const d=await o.promise;(c=(l=o.parser)==null?void 0:l.unload)==null||c.call(l,d,i,this),delete this.promiseCache[s]}});await Promise.all(r)}get parsers(){return this._parsers}}var fr=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(fr||{});const k2={extension:{type:J.LoadParser,priority:fr.Low},test(t){return At.extname(t).toLowerCase()===".json"},async load(t){return await(await ne.ADAPTER.fetch(t)).json()}};le.add(k2);const M2={extension:{type:J.LoadParser,priority:fr.Low},test(t){return At.extname(t).toLowerCase()===".txt"},async load(t){return await(await ne.ADAPTER.fetch(t)).text()}};le.add(M2);const D2=["normal","bold","100","200","300","400","500","600","700","800","900"],N2=[".ttf",".otf",".woff",".woff2"],F2=["font/ttf","font/otf","font/woff","font/woff2"];function B2(t){const e=At.extname(t);return At.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const L2={extension:{type:J.LoadParser,priority:fr.Low},test(t){return Gw(t,F2)||bh(t,N2)},async load(t,e){var r,i,s,o,l,c;if(!globalThis.navigator.onLine)throw new Error("[loadWebFont] Cannot load font - navigator is offline");const n=ne.ADAPTER.getFontFaceSet();if(n){const d=[],f=(i=(r=e.data)==null?void 0:r.family)!=null?i:B2(t),p=(l=(o=(s=e.data)==null?void 0:s.weights)==null?void 0:o.filter(v=>D2.includes(v)))!=null?l:["normal"],m=(c=e.data)!=null?c:{};for(let v=0;v<p.length;v++){const _=p[v],S=new FontFace(f,`url(${encodeURI(t)})`,{...m,weight:_});await S.load(),n.add(S),d.push(S)}return d.length===1?d[0]:d}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ne.ADAPTER.getFontFaceSet().delete(e))}};le.add(L2);let u_=0,wf;const O2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",U2={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${O2}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},z2={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Ef;class G2{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const n=URL.createObjectURL(new Blob([U2.code],{type:"application/javascript"})),r=new Worker(n);r.addEventListener("message",i=>{r.terminate(),URL.revokeObjectURL(n),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){wf===void 0&&(wf=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<wf&&(Ef||(Ef=URL.createObjectURL(new Blob([z2.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Ef),e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this.queue.push({id:e,arguments:n,resolve:i,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),r=n.id;this.resolveHash[u_]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:u_++,id:r})}}const c_=new G2;function Th(t,e,n){const r=new Z(t);return r.baseTexture.on("dispose",()=>{delete e.promiseCache[n]}),r}const H2=[".jpeg",".jpg",".png",".webp",".avif"],j2=["image/jpeg","image/png","image/webp","image/avif"];async function $2(t){const e=await ne.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const ll={extension:{type:J.LoadParser,priority:fr.High},config:{preferWorkers:!0},test(t){return Gw(t,j2)||bh(t,H2)},async load(t,e,n){let r=null;globalThis.createImageBitmap?this.config.preferWorkers&&await c_.isImageBitmapSupported()?r=await c_.loadImageBitmap(t):r=await $2(t):r=await new Promise(s=>{r=new Image,r.crossOrigin="anonymous",r.src=t,r.complete?s(r):r.onload=()=>{s(r)}});const i=new _e(r,{resolution:Ei(t),...e.data});return i.resource.src=t,Th(i,n,t)},unload(t){t.destroy(!0)}};le.add(ll);const V2={extension:{type:J.LoadParser,priority:fr.High},test(t){return At.extname(t).toLowerCase()===".svg"},async testParse(t){return al.test(t)},async parse(t,e,n){var o,l,c;const r=new al(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),i=new _e(r,{resolution:Ei(t),...e==null?void 0:e.data});i.resource.src=t;const s=Th(i,n,t);return(c=(l=e==null?void 0:e.data)==null?void 0:l.resourceOptions)!=null&&c.autoLoad||await r.load(),s},async load(t,e){return(await ne.ADAPTER.fetch(t)).text()},unload:ll.unload};le.add(V2);class X2{constructor(){this._bundleIdConnector="-",this._createBundleAssetId=(e,n)=>`${e}${this._bundleIdConnector}${n}`,this._extractAssetIdFromBundle=(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,""),this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var n,r,i;if(this._bundleIdConnector=(n=e.connector)!=null?n:this._bundleIdConnector,this._createBundleAssetId=(r=e.createBundleAssetId)!=null?r:this._createBundleAssetId,this._extractAssetIdFromBundle=(i=e.extractAssetIdFromBundle)!=null?i:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this._preferredOrder=[],this._resolverHash={},this._assetMap={},this._rootPath=null,this._basePath=null,this._manifest=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];Array.isArray(n)?n.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);r.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{r.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(n).forEach(i=>{r.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],n[i])}),this._bundles[e]=r}add(e,n,r){const i=Br(e);i.forEach(o=>{this._assetMap[o]&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(n)||(typeof n=="string"?n=A2(n):n=[n]);const s=n.map(o=>{var c;let l=o;if(typeof o=="string"){let d=!1;for(let f=0;f<this._parsers.length;f++){const p=this._parsers[f];if(p.test(o)){l=p.parse(o),d=!0;break}}d||(l={src:o})}return l.format||(l.format=l.src.split(".").pop()),l.alias||(l.alias=i),(this._basePath||this._rootPath)&&(l.src=At.toAbsolute(l.src,this._basePath,this._rootPath)),l.src=this._appendDefaultSearchParams(l.src),l.data=(c=l.data)!=null?c:r,l});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const n=Qc(e);e=Br(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const c in o){const d=o[c];l[this._extractAssetIdFromBundle(i,c)]=d}r[i]=l}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=Qc(e);e=Br(e);const r={};return e.forEach(i=>{var s;if(!this._resolverHash[i])if(this._assetMap[i]){let o=this._assetMap[i];const l=this._getPreferredOrder(o),c=o[0];l==null||l.priority.forEach(d=>{l.params[d].forEach(f=>{const p=o.filter(m=>m[d]?m[d]===f:!1);p.length&&(o=p)})}),this._resolverHash[i]=(s=o[0])!=null?s:c}else{let o=i;(this._basePath||this._rootPath)&&(o=At.toAbsolute(o,this._basePath,this._rootPath)),o=this._appendDefaultSearchParams(o),this._resolverHash[i]={src:o}}r[i]=this._resolverHash[i]}),n?r[e[0]]:r}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}}class W2{constructor(){this._detections=[],this._initialized=!1,this.resolver=new X2,this.loader=new R2,this.cache=ma,this._backgroundLoader=new P2(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,l,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const n=(o=(s=e.texturePreference)==null?void 0:s.resolution)!=null?o:1,r=typeof n=="number"?[n]:n;let i=[];if((l=e.texturePreference)!=null&&l.format){const d=(c=e.texturePreference)==null?void 0:c.format;i=typeof d=="string"?[d]:d;for(const f of this._detections)await f.test()||(i=await f.remove(i))}else for(const d of this._detections)await d.test()&&(i=await d.add(i));this.resolver.prefer({params:{format:i,resolution:r}})}add(e,n,r){this.resolver.add(e,n,r)}async load(e,n){this._initialized||await this.init();const r=Qc(e),i=Br(e).map(l=>typeof l!="string"?(this.resolver.add(l.src,l),l.src):l),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,c=0;const d=()=>{n==null||n(++l/c)},f=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,d).then(v=>{s[p]=v})});return await Promise.all(f),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ma.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=ma.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(r,n);this._backgroundLoader.active=!0;const o={};return r.forEach((l,c)=>{const d=s[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[i[c]]=d,ma.set(f,d)}),o}async unload(e){this._initialized||await this.init();const n=Br(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Br(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{ma.remove(r.src)}),await this.loader.unload(n)}get detections(){return this._detections}get preferWorkers(){return ll.config.preferWorkers}set preferWorkers(e){ll.config.preferWorkers=e}}const Uu=new W2;le.handleByList(J.LoadParser,Uu.loader.parsers).handleByList(J.ResolveParser,Uu.resolver.parsers).handleByList(J.CacheParser,Uu.cache.parsers).handleByList(J.DetectionParser,Uu.detections);const Y2={extension:J.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof Z),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};le.add(Y2);const q2={extension:{type:J.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ne.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};le.add(q2);const Q2={extension:{type:J.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ne.ADAPTER.fetch(t).then(n=>n.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};le.add(Q2);const h_=["png","jpg","jpeg"],K2={extension:{type:J.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...h_],remove:async t=>t.filter(e=>!h_.includes(e))};le.add(K2);const Z2={extension:J.ResolveParser,test:ll.test,parse:t=>{var e,n;return{resolution:parseFloat((n=(e=ne.RETINA_PREFIX.exec(t))==null?void 0:e[1])!=null?n:"1"),format:t.split(".").pop(),src:t}}};le.add(Z2);var sn=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(sn||{});const Kc={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let Tr,Ls;function d_(){Ls={s3tc:Tr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Tr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Tr.getExtension("WEBGL_compressed_texture_etc"),etc1:Tr.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Tr.getExtension("WEBGL_compressed_texture_pvrtc")||Tr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Tr.getExtension("WEBGL_compressed_texture_atc"),astc:Tr.getExtension("WEBGL_compressed_texture_astc")}}const J2={extension:{type:J.DetectionParser,priority:2},test:async()=>{const e=ne.ADAPTER.createCanvas().getContext("webgl");return e?(Tr=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Ls||d_();const e=[];for(const n in Ls)!Ls[n]||e.push(n);return[...e,...t]},remove:async t=>(Ls||d_(),t.filter(e=>!(e in Ls)))};le.add(J2);class ek extends _l{constructor(e,n={width:1,height:1,autoLoad:!0}){let r,i;typeof e=="string"?(r=e,i=new Uint8Array):(r=null,i=e),super(i,n),this.origin=r,this.buffer=i?new Fp(i):null,this.origin&&n.autoLoad!==!1&&this.load(),i!=null&&i.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const r=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(r),this.buffer=new Fp(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),this}}class Ji extends ek{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=Ji._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||Ji._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,r){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,l=this.levels;o<l;o++){const{levelID:c,levelWidth:d,levelHeight:f,levelBuffer:p}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,c,this.format,d,f,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Ji._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,n,r,i,s,o,l){const c=new Array(r);let d=e.byteOffset,f=o,p=l,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*Kc[n];for(let S=0;S<r;S++)c[S]={levelID:S,levelWidth:r>1?f:m,levelHeight:r>1?p:v,levelBuffer:new Uint8Array(e.buffer,d,_)},d+=_,f=f>>1||1,p=p>>1||1,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*Kc[n];return c}}const bf=4,zu=124,tk=32,f_=20,nk=542327876,Gu={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},rk={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Hu={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},ik=1,sk=2,ok=4,ak=64,lk=512,uk=131072,ck=827611204,hk=861165636,dk=894720068,fk=808540228,pk=4,mk={[ck]:sn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[hk]:sn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[dk]:sn.COMPRESSED_RGBA_S3TC_DXT5_EXT},gk={[70]:sn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:sn.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:sn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:sn.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:sn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:sn.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:sn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:sn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:sn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function yk(t){const e=new Uint32Array(t);if(e[0]!==nk)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,zu/Uint32Array.BYTES_PER_ELEMENT),i=r[Gu.HEIGHT],s=r[Gu.WIDTH],o=r[Gu.MIPMAP_COUNT],l=new Uint32Array(t,Gu.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,tk/Uint32Array.BYTES_PER_ELEMENT),c=l[ik];if(c&ok){const d=l[rk.FOURCC];if(d!==fk){const b=mk[d],C=bf+zu,D=new Uint8Array(t,C);return[new Ji(D,{format:b,width:s,height:i,levels:o})]}const f=bf+zu,p=new Uint32Array(e.buffer,f,f_/Uint32Array.BYTES_PER_ELEMENT),m=p[Hu.DXGI_FORMAT],v=p[Hu.RESOURCE_DIMENSION],_=p[Hu.MISC_FLAG],S=p[Hu.ARRAY_SIZE],x=gk[m];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(_===pk)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const w=new Array,T=bf+zu+f_;if(S===1)w.push(new Uint8Array(t,T));else{const b=Kc[x];let C=0,D=s,R=i;for(let I=0;I<o;I++){const z=Math.max(1,D+3&-4),X=Math.max(1,R+3&-4),$=z*X*b;C+=$,D=D>>>1,R=R>>>1}let M=T;for(let I=0;I<S;I++)w.push(new Uint8Array(t,M,C)),M+=C}return w.map(b=>new Ji(b,{format:x,width:s,height:i,levels:o}))}throw c&ak?new Error("DDSParser does not support uncompressed texture data."):c&lk?new Error("DDSParser does not supported YUV uncompressed texture data."):c&uk?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&sk?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const p_=[171,75,84,88,32,49,49,187,13,10,26,10],vk=67305985,An={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Qp=64,m_={[de.UNSIGNED_BYTE]:1,[de.UNSIGNED_SHORT]:2,[de.INT]:4,[de.UNSIGNED_INT]:4,[de.FLOAT]:4,[de.HALF_FLOAT]:8},_k={[Y.RGBA]:4,[Y.RGB]:3,[Y.RG]:2,[Y.RED]:1,[Y.LUMINANCE]:1,[Y.LUMINANCE_ALPHA]:2,[Y.ALPHA]:1},xk={[de.UNSIGNED_SHORT_4_4_4_4]:2,[de.UNSIGNED_SHORT_5_5_5_1]:2,[de.UNSIGNED_SHORT_5_6_5]:2};function wk(t,e,n=!1){const r=new DataView(e);if(!Ek(t,r))return null;const i=r.getUint32(An.ENDIANNESS,!0)===vk,s=r.getUint32(An.GL_TYPE,i),o=r.getUint32(An.GL_FORMAT,i),l=r.getUint32(An.GL_INTERNAL_FORMAT,i),c=r.getUint32(An.PIXEL_WIDTH,i),d=r.getUint32(An.PIXEL_HEIGHT,i)||1,f=r.getUint32(An.PIXEL_DEPTH,i)||1,p=r.getUint32(An.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=r.getUint32(An.NUMBER_OF_FACES,i),v=r.getUint32(An.NUMBER_OF_MIPMAP_LEVELS,i),_=r.getUint32(An.BYTES_OF_KEY_VALUE_DATA,i);if(d===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const S=4,x=4,w=c+3&-4,T=d+3&-4,b=new Array(p);let C=c*d;s===0&&(C=w*T);let D;if(s!==0?m_[s]?D=m_[s]*_k[o]:D=xk[s]:D=Kc[l],D===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const R=n?Tk(r,_,i):null;let I=C*D,z=c,X=d,$=w,q=T,L=Qp+_;for(let B=0;B<v;B++){const ue=r.getUint32(L,i);let he=L+4;for(let Q=0;Q<p;Q++){let xe=b[Q];xe||(xe=b[Q]=new Array(v)),xe[B]={levelID:B,levelWidth:v>1||s!==0?z:$,levelHeight:v>1||s!==0?X:q,levelBuffer:new Uint8Array(e,he,I)},he+=I}L+=ue+4,L=L%4!==0?L+4-L%4:L,z=z>>1||1,X=X>>1||1,$=z+S-1&~(S-1),q=X+x-1&~(x-1),I=$*q*D}return s!==0?{uncompressed:b.map(B=>{let ue=B[0].levelBuffer,he=!1;return s===de.FLOAT?ue=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):s===de.UNSIGNED_INT?(he=!0,ue=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):s===de.INT&&(he=!0,ue=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new _l(ue,{width:B[0].levelWidth,height:B[0].levelHeight}),type:s,format:he?bk(o):o}}),kvData:R}:{compressed:b.map(B=>new Ji(null,{format:l,width:c,height:d,levels:v,levelBuffers:B})),kvData:R}}function Ek(t,e){for(let n=0;n<p_.length;n++)if(e.getUint8(n)!==p_[n])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function bk(t){switch(t){case Y.RGBA:return Y.RGBA_INTEGER;case Y.RGB:return Y.RGB_INTEGER;case Y.RG:return Y.RG_INTEGER;case Y.RED:return Y.RED_INTEGER;default:return t}}function Tk(t,e,n){const r=new Map;let i=0;for(;i<e;){const s=t.getUint32(Qp+i,n),o=Qp+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const d=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,s-c-1);r.set(d,f),i+=4+s+l}return r}const Sk={extension:{type:J.LoadParser,priority:fr.High},test(t){return bh(t,".dds")},async load(t,e,n){const i=await(await ne.ADAPTER.fetch(t)).arrayBuffer(),o=yk(i).map(l=>{const c=new _e(l,{mipmap:hr.OFF,alphaMode:Vn.NO_PREMULTIPLIED_ALPHA,resolution:Ei(t),...e.data});return Th(c,n,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};le.add(Sk);const Ck={extension:{type:J.LoadParser,priority:fr.High},test(t){return bh(t,".ktx")},async load(t,e,n){const i=await(await ne.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:l}=wk(t,i),c=s!=null?s:o,d={mipmap:hr.OFF,alphaMode:Vn.NO_PREMULTIPLIED_ALPHA,resolution:Ei(t),...e.data},f=c.map(p=>{c===o&&Object.assign(d,{type:p.type,format:p.format});const m=new _e(p,d);return m.ktxKeyValueData=l,Th(m,n,t)});return f.length===1?f[0]:f},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};le.add(Ck);const Pk={extension:J.ResolveParser,test:t=>{const n=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(n)},parse:t=>{var r,i,s,o;if(t.split("?")[0].split(".").pop()==="ktx"){const l=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(l.some(c=>t.endsWith(c)))return{resolution:parseFloat((i=(r=ne.RETINA_PREFIX.exec(t))==null?void 0:r[1])!=null?i:"1"),format:l.find(c=>t.endsWith(c)),src:t}}return{resolution:parseFloat((o=(s=ne.RETINA_PREFIX.exec(t))==null?void 0:s[1])!=null?o:"1"),format:t.split(".").pop(),src:t}}};le.add(Pk);const g_=new Ee,y_=4,Kp=class{constructor(t){this.renderer=t}async image(t,e,n){const r=new Image;return r.src=await this.base64(t,e,n),r}async base64(t,e,n){const r=this.canvas(t);if(r.toDataURL!==void 0)return r.toDataURL(e,n);if(r.convertToBlob!==void 0){const i=await r.convertToBlob({type:e,quality:n});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const n=this.renderer;let r,i=!1,s,o=!1;t&&(t instanceof Si?s=t:(s=this.renderer.generateTexture(t),o=!0)),s?(r=s.baseTexture.resolution,e=e!=null?e:s.frame,i=!1,n.renderTexture.bind(s)):(r=n.resolution,e||(e=g_,e.width=n.width,e.height=n.height),i=!0,n.renderTexture.bind(null));const l=Math.round(e.width*r),c=Math.round(e.height*r);let d=new Vv(l,c,1);const f=new Uint8Array(y_*l*c),p=n.gl;p.readPixels(Math.round(e.x*r),Math.round(e.y*r),l,c,p.RGBA,p.UNSIGNED_BYTE,f);const m=d.context.getImageData(0,0,l,c);if(Kp.arrayPostDivide(f,m.data),d.context.putImageData(m,0,0),i){const v=new Vv(d.width,d.height,1);v.context.scale(1,-1),v.context.drawImage(d.canvas,0,-c),d.destroy(),d=v}return o&&s.destroy(!0),d.canvas}pixels(t,e){const n=this.renderer;let r,i,s=!1;t&&(t instanceof Si?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(r=i.baseTexture.resolution,e=e!=null?e:i.frame,n.renderTexture.bind(i)):(r=n.resolution,e||(e=g_,e.width=n.width,e.height=n.height),n.renderTexture.bind(null));const o=Math.round(e.width*r),l=Math.round(e.height*r),c=new Uint8Array(y_*o*l),d=n.gl;return d.readPixels(Math.round(e.x*r),Math.round(e.y*r),o,l,d.RGBA,d.UNSIGNED_BYTE,c),s&&i.destroy(!0),Kp.arrayPostDivide(c,c),c}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let n=0;n<t.length;n+=4){const r=e[n+3]=t[n+3];r!==0?(e[n]=Math.round(Math.min(t[n]*255/r,255)),e[n+1]=Math.round(Math.min(t[n+1]*255/r,255)),e[n+2]=Math.round(Math.min(t[n+2]*255/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}}};let jw=Kp;jw.extension={name:"extract",type:J.RendererSystem};le.add(jw);const Zc={build(t){const e=t.points;let n,r,i,s,o,l;if(t.type===Ct.CIRC){const _=t.shape;n=_.x,r=_.y,o=l=_.radius,i=s=0}else if(t.type===Ct.ELIP){const _=t.shape;n=_.x,r=_.y,o=_.width,l=_.height,i=s=0}else{const _=t.shape,S=_.width/2,x=_.height/2;n=_.x+S,r=_.y+x,o=l=Math.max(0,Math.min(_.radius,Math.min(S,x))),i=S-o,s=x-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s;return}let f=0,p=c*4+(i?2:0)+2,m=p,v=d;{const _=i+o,S=s,x=n+_,w=n-_,T=r+S;if(e[f++]=x,e[f++]=T,e[--p]=T,e[--p]=w,s){const b=r-S;e[m++]=w,e[m++]=b,e[--v]=b,e[--v]=x}}for(let _=1;_<c;_++){const S=Math.PI/2*(_/c),x=i+Math.cos(S)*o,w=s+Math.sin(S)*l,T=n+x,b=n-x,C=r+w,D=r-w;e[f++]=T,e[f++]=C,e[--p]=C,e[--p]=b,e[m++]=b,e[m++]=D,e[--v]=D,e[--v]=T}{const _=i,S=s+l,x=n+_,w=n-_,T=r+S,b=r-S;e[f++]=x,e[f++]=T,e[--v]=b,e[--v]=x,i&&(e[f++]=w,e[f++]=T,e[--v]=b,e[--v]=w)}},triangulate(t,e){const n=t.points,r=e.points,i=e.indices;if(n.length===0)return;let s=r.length/2;const o=s;let l,c;if(t.type!==Ct.RREC){const f=t.shape;l=f.x,c=f.y}else{const f=t.shape;l=f.x+f.width/2,c=f.y+f.height/2}const d=t.matrix;r.push(t.matrix?d.a*l+d.c*c+d.tx:l,t.matrix?d.b*l+d.d*c+d.ty:c),s++,r.push(n[0],n[1]);for(let f=2;f<n.length;f+=2)r.push(n[f],n[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function v_(t,e=!1){const n=t.length;if(n<6)return;let r=0;for(let i=0,s=t[n-2],o=t[n-1];i<n;i+=2){const l=t[i],c=t[i+1];r+=(l-s)*(c+o),s=l,o=c}if(!e&&r>0||e&&r<=0){const i=n/2;for(let s=i+i%2;s<n;s+=2){const o=n-s-2,l=n-s-1,c=s,d=s+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[d]]=[t[d],t[l]]}}}const $w={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let n=t.points;const r=t.holes,i=e.points,s=e.indices;if(n.length>=6){v_(n,!1);const o=[];for(let d=0;d<r.length;d++){const f=r[d];v_(f.points,!0),o.push(n.length/2),n=n.concat(f.points)}const l=hg.exports(n,o,2);if(!l)return;const c=i.length/2;for(let d=0;d<l.length;d+=3)s.push(l[d]+c),s.push(l[d+1]+c),s.push(l[d+2]+c);for(let d=0;d<n.length;d++)i.push(n[d])}}},Ak={build(t){const e=t.shape,n=e.x,r=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(n,r,n+i,r,n+i,r+s,n,r+s)},triangulate(t,e){const n=t.points,r=e.points;if(n.length===0)return;const i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},Ik={build(t){Zc.build(t)},triangulate(t,e){Zc.triangulate(t,e)}};var si=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(si||{}),Qi=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Qi||{});const go={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class __{static curveTo(e,n,r,i,s,o){const l=o[o.length-2],d=o[o.length-1]-n,f=l-e,p=i-n,m=r-e,v=Math.abs(d*m-f*p);if(v<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==n)&&o.push(e,n),null;const _=d*d+f*f,S=p*p+m*m,x=d*p+f*m,w=s*Math.sqrt(_)/v,T=s*Math.sqrt(S)/v,b=w*x/_,C=T*x/S,D=w*m+T*f,R=w*p+T*d,M=f*(T+b),I=d*(T+b),z=m*(w+C),X=p*(w+C),$=Math.atan2(I-R,M-D),q=Math.atan2(X-R,z-D);return{cx:D+e,cy:R+n,radius:s,startAngle:$,endAngle:q,anticlockwise:f*p>m*d}}static arc(e,n,r,i,s,o,l,c,d){const f=l-o,p=go._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/Wc)*40),m=f/(p*2),v=m*2,_=Math.cos(m),S=Math.sin(m),x=p-1,w=x%1/x;for(let T=0;T<=x;++T){const b=T+w*T,C=m+o+v*b,D=Math.cos(C),R=-Math.sin(C);d.push((_*D+S*R)*s+r,(_*-R+S*D)*s+i)}}}class Rk{constructor(){this.reset()}begin(e,n,r){this.reset(),this.style=e,this.start=n,this.attribStart=r}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class _g{static curveLength(e,n,r,i,s,o,l,c){let f=0,p=0,m=0,v=0,_=0,S=0,x=0,w=0,T=0,b=0,C=0,D=e,R=n;for(let M=1;M<=10;++M)p=M/10,m=p*p,v=m*p,_=1-p,S=_*_,x=S*_,w=x*e+3*S*p*r+3*_*m*s+v*l,T=x*n+3*S*p*i+3*_*m*o+v*c,b=D-w,C=R-T,D=w,R=T,f+=Math.sqrt(b*b+C*C);return f}static curveTo(e,n,r,i,s,o,l){const c=l[l.length-2],d=l[l.length-1];l.length-=2;const f=go._segmentsCount(_g.curveLength(c,d,e,n,r,i,s,o));let p=0,m=0,v=0,_=0,S=0;l.push(c,d);for(let x=1,w=0;x<=f;++x)w=x/f,p=1-w,m=p*p,v=m*p,_=w*w,S=_*w,l.push(v*c+3*m*w*e+3*p*_*r+S*s,v*d+3*m*w*n+3*p*_*i+S*o)}}function x_(t,e,n,r,i,s,o,l){const c=t-n*i,d=e-r*i,f=t+n*s,p=e+r*s;let m,v;o?(m=r,v=-n):(m=-r,v=n);const _=c+m,S=d+v,x=f+m,w=p+v;return l.push(_,S),l.push(x,w),2}function Ui(t,e,n,r,i,s,o,l){const c=n-t,d=r-e;let f=Math.atan2(c,d),p=Math.atan2(i-t,s-e);l&&f<p?f+=Math.PI*2:!l&&f>p&&(p+=Math.PI*2);let m=f;const v=p-f,_=Math.abs(v),S=Math.sqrt(c*c+d*d),x=(15*_*Math.sqrt(S)/Math.PI>>0)+1,w=v/x;if(m+=w,l){o.push(t,e),o.push(n,r);for(let T=1,b=m;T<x;T++,b+=w)o.push(t,e),o.push(t+Math.sin(b)*S,e+Math.cos(b)*S);o.push(t,e),o.push(i,s)}else{o.push(n,r),o.push(t,e);for(let T=1,b=m;T<x;T++,b+=w)o.push(t+Math.sin(b)*S,e+Math.cos(b)*S),o.push(t,e);o.push(i,s),o.push(t,e)}return x*2}function kk(t,e){const n=t.shape;let r=t.points||n.points.slice();const i=e.closePointEps;if(r.length===0)return;const s=t.lineStyle,o=new be(r[0],r[1]),l=new be(r[r.length-2],r[r.length-1]),c=n.type!==Ct.POLY||n.closeStroke,d=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(c){r=r.slice(),d&&(r.pop(),r.pop(),l.set(r[r.length-2],r[r.length-1]));const Q=(o.x+l.x)*.5,xe=(l.y+o.y)*.5;r.unshift(Q,xe),r.push(Q,xe)}const f=e.points,p=r.length/2;let m=r.length;const v=f.length/2,_=s.width/2,S=_*_,x=s.miterLimit*s.miterLimit;let w=r[0],T=r[1],b=r[2],C=r[3],D=0,R=0,M=-(T-C),I=w-b,z=0,X=0,$=Math.sqrt(M*M+I*I);M/=$,I/=$,M*=_,I*=_;const q=s.alignment,L=(1-q)*2,B=q*2;c||(s.cap===Qi.ROUND?m+=Ui(w-M*(L-B)*.5,T-I*(L-B)*.5,w-M*L,T-I*L,w+M*B,T+I*B,f,!0)+2:s.cap===Qi.SQUARE&&(m+=x_(w,T,M,I,L,B,!0,f))),f.push(w-M*L,T-I*L),f.push(w+M*B,T+I*B);for(let Q=1;Q<p-1;++Q){w=r[(Q-1)*2],T=r[(Q-1)*2+1],b=r[Q*2],C=r[Q*2+1],D=r[(Q+1)*2],R=r[(Q+1)*2+1],M=-(T-C),I=w-b,$=Math.sqrt(M*M+I*I),M/=$,I/=$,M*=_,I*=_,z=-(C-R),X=b-D,$=Math.sqrt(z*z+X*X),z/=$,X/=$,z*=_,X*=_;const xe=b-w,Ce=T-C,j=b-D,U=R-C,N=xe*j+Ce*U,H=Ce*j-U*xe,V=H<0;if(Math.abs(H)<.001*Math.abs(N)){f.push(b-M*L,C-I*L),f.push(b+M*B,C+I*B),N>=0&&(s.join===si.ROUND?m+=Ui(b,C,b-M*L,C-I*L,b-z*L,C-X*L,f,!1)+4:m+=2,f.push(b-z*B,C-X*B),f.push(b+z*L,C+X*L));continue}const se=(-M+w)*(-I+C)-(-M+b)*(-I+T),me=(-z+D)*(-X+C)-(-z+b)*(-X+R),we=(xe*me-j*se)/H,Te=(U*se-Ce*me)/H,Ie=(we-b)*(we-b)+(Te-C)*(Te-C),Fe=b+(we-b)*L,ke=C+(Te-C)*L,Me=b-(we-b)*B,Ae=C-(Te-C)*B,Rt=Math.min(xe*xe+Ce*Ce,j*j+U*U),Je=V?L:B,Ii=Rt+Je*Je*S;Ie<=Ii?s.join===si.BEVEL||Ie/S>x?(V?(f.push(Fe,ke),f.push(b+M*B,C+I*B),f.push(Fe,ke),f.push(b+z*B,C+X*B)):(f.push(b-M*L,C-I*L),f.push(Me,Ae),f.push(b-z*L,C-X*L),f.push(Me,Ae)),m+=2):s.join===si.ROUND?V?(f.push(Fe,ke),f.push(b+M*B,C+I*B),m+=Ui(b,C,b+M*B,C+I*B,b+z*B,C+X*B,f,!0)+4,f.push(Fe,ke),f.push(b+z*B,C+X*B)):(f.push(b-M*L,C-I*L),f.push(Me,Ae),m+=Ui(b,C,b-M*L,C-I*L,b-z*L,C-X*L,f,!1)+4,f.push(b-z*L,C-X*L),f.push(Me,Ae)):(f.push(Fe,ke),f.push(Me,Ae)):(f.push(b-M*L,C-I*L),f.push(b+M*B,C+I*B),s.join===si.ROUND?V?m+=Ui(b,C,b+M*B,C+I*B,b+z*B,C+X*B,f,!0)+2:m+=Ui(b,C,b-M*L,C-I*L,b-z*L,C-X*L,f,!1)+2:s.join===si.MITER&&Ie/S<=x&&(V?(f.push(Me,Ae),f.push(Me,Ae)):(f.push(Fe,ke),f.push(Fe,ke)),m+=2),f.push(b-z*L,C-X*L),f.push(b+z*B,C+X*B),m+=2)}w=r[(p-2)*2],T=r[(p-2)*2+1],b=r[(p-1)*2],C=r[(p-1)*2+1],M=-(T-C),I=w-b,$=Math.sqrt(M*M+I*I),M/=$,I/=$,M*=_,I*=_,f.push(b-M*L,C-I*L),f.push(b+M*B,C+I*B),c||(s.cap===Qi.ROUND?m+=Ui(b-M*(L-B)*.5,C-I*(L-B)*.5,b-M*L,C-I*L,b+M*B,C+I*B,f,!1)+2:s.cap===Qi.SQUARE&&(m+=x_(b,C,M,I,L,B,!1,f)));const ue=e.indices,he=go.epsilon*go.epsilon;for(let Q=v;Q<m+v-2;++Q)w=f[Q*2],T=f[Q*2+1],b=f[(Q+1)*2],C=f[(Q+1)*2+1],D=f[(Q+2)*2],R=f[(Q+2)*2+1],!(Math.abs(w*(C-R)+b*(R-T)+D*(T-C))<he)&&ue.push(Q,Q+1,Q+2)}function Mk(t,e){let n=0;const r=t.shape,i=t.points||r.points,s=r.type!==Ct.POLY||r.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,c=i.length/2,d=o.length/2;let f=d;for(o.push(i[0],i[1]),n=1;n<c;n++)o.push(i[n*2],i[n*2+1]),l.push(f,f+1),f++;s&&l.push(f,d)}function w_(t,e){t.lineStyle.native?Mk(t,e):kk(t,e)}class xg{static curveLength(e,n,r,i,s,o){const l=e-2*r+s,c=n-2*i+o,d=2*r-2*e,f=2*i-2*n,p=4*(l*l+c*c),m=4*(l*d+c*f),v=d*d+f*f,_=2*Math.sqrt(p+m+v),S=Math.sqrt(p),x=2*p*S,w=2*Math.sqrt(v),T=m/S;return(x*_+S*m*(_-w)+(4*v*p-m*m)*Math.log((2*S+T+_)/(T+w)))/(4*x)}static curveTo(e,n,r,i,s){const o=s[s.length-2],l=s[s.length-1],c=go._segmentsCount(xg.curveLength(o,l,e,n,r,i));let d=0,f=0;for(let p=1;p<=c;++p){const m=p/c;d=o+(e-o)*m,f=l+(n-l)*m,s.push(d+(e+(r-e)*m-d)*m,f+(n+(i-n)*m-f)*m)}}}const Tf={[Ct.POLY]:$w,[Ct.CIRC]:Zc,[Ct.ELIP]:Zc,[Ct.RECT]:Ak,[Ct.RREC]:Ik},E_=[],ju=[];class Jc{constructor(e,n=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=n,this.matrix=i,this.type=e.type}clone(){return new Jc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Rs=new be,Vw=class extends Q1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Yc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ju.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),E_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,n=null,r=null){const i=new Jc(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const n=new Jc(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let n=0;n<e.length;++n){const r=e[n];if(!!r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(t,Rs):Rs.copyFrom(t),r.shape.contains(Rs.x,Rs.y))){let i=!1;if(r.holes){for(let s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(Rs.x,Rs.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let n=null,r=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],r=n.style);for(let l=this.shapeIndex;l<e.length;l++){this.shapeIndex++;const c=e[l],d=c.fillStyle,f=c.lineStyle;Tf[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(d.visible||f.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const v=m===0?d:f;if(!v.visible)continue;const _=v.texture.baseTexture,S=this.indices.length,x=this.points.length/2;_.wrapMode=Fr.REPEAT,m===0?this.processFill(c):this.processLine(c);const w=this.points.length/2-x;w!==0&&(n&&!this._compareStyles(r,v)&&(n.end(S,x),n=null),n||(n=E_.pop()||new Rk,n.begin(v,S,x),this.batches.push(n),r=v),this.addUvs(this.points,t,v.texture,x,w,v.matrix))}}const i=this.indices.length,s=this.points.length/2;if(n&&n.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,n=t.length;e<n;e++){const r=t[e];for(let i=0;i<r.size;i++){const s=r.start+i;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<Vw.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++_e._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),ju.push(this.drawCalls[f]);this.drawCalls.length=0;const e=this.colors,n=this.textureIds;let r=ju.pop();r||(r=new Lp,r.texArray=new Up),r.texArray.count=0,r.start=0,r.size=0,r.type=Ln.TRIANGLES;let i=0,s=null,o=0,l=!1,c=Ln.TRIANGLES,d=0;this.drawCalls.push(r);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,v=p.style,_=v.texture.baseTexture;l!==!!v.native&&(l=!!v.native,c=l?Ln.LINES:Ln.TRIANGLES,s=null,i=m,t++),s!==_&&(s=_,_._batchEnabled!==t&&(i===m&&(t++,i=0,r.size>0&&(r=ju.pop(),r||(r=new Lp,r.texArray=new Up),this.drawCalls.push(r)),r.start=d,r.size=0,r.texArray.count=0,r.type=c),_.touched=1,_._batchEnabled=t,_._batchLocation=i,_.wrapMode=Fr.REPEAT,r.texArray.elements[r.texArray.count++]=_,i++)),r.size+=p.size,d+=p.size,o=_._batchLocation,this.addColors(e,v.color,v.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,o,p.attribSize,p.attribStart)}_e._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let l=0;for(let c=0;c<t.length/2;c++)s[l++]=t[c*2],s[l++]=t[c*2+1],s[l++]=e[c*2],s[l++]=e[c*2+1],o[l++]=n[c],s[l++]=r[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?$w.triangulate(t,this):Tf[t.type].triangulate(t,this)}processLine(t){w_(t,this);for(let e=0;e<t.holes.length;e++)w_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const n=t[e];Tf[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let n=0;n<t.length/2;n++){const r=t[n*2],i=t[n*2+1];t[n*2]=e.a*r+e.c*i+e.tx,t[n*2+1]=e.b*r+e.d*i+e.ty}}addColors(t,e,n,r,i=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=fg(s,n);t.length=Math.max(t.length,i+r);for(let l=0;l<r;l++)t[i+l]=o}addTextureIds(t,e,n,r=0){t.length=Math.max(t.length,r+n);for(let i=0;i<n;i++)t[r+i]=e}addUvs(t,e,n,r,i,s=null){let o=0;const l=e.length,c=n.frame;for(;o<i;){let f=t[(r+o)*2],p=t[(r+o)*2+1];if(s){const m=s.a*f+s.c*p+s.tx;p=s.b*f+s.d*p+s.ty,f=m}o++,e.push(f/c.width,p/c.height)}const d=n.baseTexture;(c.width<d.width||c.height<d.height)&&this.adjustUvs(e,n,l,i)}adjustUvs(t,e,n,r){const i=e.baseTexture,s=1e-6,o=n+r*2,l=e.frame,c=l.width/i.width,d=l.height/i.height;let f=l.x/l.width,p=l.y/l.height,m=Math.floor(t[n]+s),v=Math.floor(t[n+1]+s);for(let _=n+2;_<o;_+=2)m=Math.min(m,Math.floor(t[_]+s)),v=Math.min(v,Math.floor(t[_+1]+s));f-=m,p-=v;for(let _=n;_<o;_+=2)t[_]=(t[_]+f)*c,t[_+1]=(t[_+1]+p)*d}};let Xw=Vw;Xw.BATCHABLE_SIZE=100;class Sh{constructor(){this.color=16777215,this.alpha=1,this.texture=Z.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Sh;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=Z.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class wg extends Sh{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Qi.BUTT,this.join=si.MITER,this.miterLimit=10}clone(){const e=new wg;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const Dk=new Float32Array(3),Sf={},uc=class extends Gt{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Sh,this._lineStyle=new wg,this._matrix=null,this._holeMode=!1,this.state=zr.for2d(),this._geometry=t||new Xw,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=fe.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new uc(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,n=1,r=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:Z.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Qi.BUTT,join:si.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ao,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ao,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return(r!==t||i!==e)&&n.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,n,r){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),xg.curveTo(t,e,n,r,i),this}bezierCurveTo(t,e,n,r,i,s){return this._initCurve(),_g.curveTo(t,e,n,r,i,s,this.currentPath.points),this}arcTo(t,e,n,r,i){this._initCurve(t,e);const s=this.currentPath.points,o=__.curveTo(t,e,n,r,i,s);if(o){const{cx:l,cy:c,radius:d,startAngle:f,endAngle:p,anticlockwise:m}=o;this.arc(l,c,d,f,p,m)}return this}arc(t,e,n,r,i,s=!1){if(r===i)return this;if(!s&&i<=r?i+=Wc:s&&r<=i&&(r+=Wc),i-r===0)return this;const l=t+Math.cos(r)*n,c=e+Math.sin(r)*n,d=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const p=Math.abs(f[f.length-2]-l),m=Math.abs(f[f.length-1]-c);p<d&&m<d||f.push(l,c)}else this.moveTo(l,c),f=this.currentPath.points;return __.arc(l,c,t,e,n,r,i,s,f),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:Z.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:Z.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,n,r){return this.drawShape(new Ee(t,e,n,r))}drawRoundedRect(t,e,n,r,i){return this.drawShape(new gg(t,e,n,r,i))}drawCircle(t,e,n){return this.drawShape(new pg(t,e,n))}drawEllipse(t,e,n,r){return this.drawShape(new mg(t,e,n,r))}drawPolygon(...t){let e,n=!0;const r=t[0];r.points?(n=r.closeStroke,e=r.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new ao(e);return i.closeStroke=n,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ct.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let r=0;r<n;r++){const i=t.batches[r],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),l=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),d={vertexData:o,blendMode:e,indices:c,uvs:l,_batchRGB:mo(s),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=d}}_renderBatched(t){if(!!this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,n=this.batches.length;e<n;e++){const r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}}_renderDirect(t){const e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,s=e.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*i,s.tint[1]=(r>>8&255)/255*i,s.tint[2]=(r&255)/255*i,s.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(let l=0,c=o.length;l<c;l++)this._renderDrawCallDirect(t,n.drawCalls[l])}_renderDrawCallDirect(t,e){const{texArray:n,type:r,size:i,start:s}=e,o=n.count;for(let l=0;l<o;l++)t.texture.bind(n.elements[l],l);t.geometry.draw(r,i,s)}_resolveDirectShader(t){let e=this.shader;const n=this.pluginName;if(!e){if(!Sf[n]){const{maxTextures:r}=t.plugins[n],i=new Int32Array(r);for(let l=0;l<r;l++)i[l]=l;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Xe,default:jn.from({uSamplers:i},!0)},o=t.plugins[n]._shader.program;Sf[n]=new ur(o,s)}e=Sf[n]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:n,maxX:r,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,n,r,i)}containsPoint(t){return this.worldTransform.applyInverse(t,uc._TEMP_POINT),this._geometry.containsPoint(uc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=mo(this.tint,Dk);for(let e=0;e<this.batches.length;e++){const n=this.batches[e],r=n._batchRGB,i=t[0]*r[0]*255,s=t[1]*r[1]*255,o=t[2]*r[2]*255,l=(i<<16)+(s<<8)+(o|0);n._tintRGB=(l>>16)+(l&65280)+((l&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,l=e.ty,c=this._geometry.points,d=this.vertexData;let f=0;for(let p=0;p<c.length;p+=2){const m=c[p],v=c[p+1];d[f++]=n*m+i*v+o,d[f++]=s*v+r*m+l}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let cr=uc;cr.curves=go;cr._TEMP_POINT=new be;class Nk{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const Cf=new be,b_=new ao,Ww=class extends Gt{constructor(t,e,n,r=Ln.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=n||zr.for2d(),this.drawMode=r,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ne.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ln.TRIANGLES&&e.length<Ww.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const i=this.transform.worldTransform,s=i.a,o=i.b,l=i.c,c=i.d,d=i.tx,f=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const v=n[m*2],_=n[m*2+1];p[m*2]=s*v+l*_+d,p[m*2+1]=o*v+c*_+f}if(this._roundPixels){const m=ne.RESOLUTION;for(let v=0;v<p.length;++v)p[v]=Math.round(p[v]*m)/m}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Nk(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Cf);const e=this.geometry.getBuffer("aVertexPosition").data,n=b_.points,r=this.geometry.getIndex().data,i=r.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const l=r[o]*2,c=r[o+1]*2,d=r[o+2]*2;if(n[0]=e[l],n[1]=e[l+1],n[2]=e[c],n[3]=e[c+1],n[4]=e[d],n[5]=e[d+1],b_.contains(Cf.x,Cf.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let yo=Ww;yo.BATCHABLE_SIZE=100;class Ch extends bi{constructor(e,n,r){super();const i=new st(e),s=new st(n,!0),o=new st(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,de.FLOAT).addAttribute("aTextureCoord",s,2,!1,de.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Fk=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Bk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ul extends ur{constructor(e,n){const r={uSampler:e,alpha:1,uTextureMatrix:Xe.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(r,n.uniforms),super(n.program||On.from(Bk,Fk),r),this._colorDirty=!1,this.uvMatrix=new yg(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this.tint=n.tint,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;X1(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Lk extends Ch{constructor(e=100,n=100,r=10,i=10){super(),this.segWidth=r,this.segHeight=i,this.width=e,this.height=n,this.build()}build(){const e=this.segWidth*this.segHeight,n=[],r=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,c=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,m=f/this.segWidth|0;n.push(p*l,m*c),r.push(p/s,m/o)}const d=s*o;for(let f=0;f<d;f++){const p=f%s,m=f/s|0,v=m*this.segWidth+p,_=m*this.segWidth+p+1,S=(m+1)*this.segWidth+p,x=(m+1)*this.segWidth+p+1;i.push(v,_,S,_,x,S)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class Ok extends Ch{constructor(e=200,n,r=0){super(new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6)),this.points=n,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const n=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,c=e[0];const d=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const _=c.x-e[m].x,S=c.y-e[m].y,x=Math.sqrt(_*_+S*S);c=e[m],l+=x/d}else l=m/(f-1);s[v]=l,s[v+1]=0,s[v+2]=l,s[v+3]=1}let p=0;for(let m=0;m<f-1;m++){const v=m*2;o[p++]=v,o[p++]=v+1,o[p++]=v+2,o[p++]=v+2,o[p++]=v+1,o[p++]=v+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,l=e.length;for(let c=0;c<l;c++){const d=e[c],f=c*4;c<e.length-1?r=e[c+1]:r=d,s=-(r.x-n.x),i=r.y-n.y;const p=Math.sqrt(i*i+s*s),m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=p,s/=p,i*=m,s*=m,o[f]=d.x+i,o[f+1]=d.y+s,o[f+2]=d.x-i,o[f+3]=d.y-s,n=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class Uk extends yo{constructor(e,n,r){const i=new Lk(e.width,e.height,n,r),s=new ul(Z.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:n,height:r}=this.shader.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const $u=10;class zk extends Uk{constructor(e,n=$u,r=$u,i=$u,s=$u){super(Z.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=n,this._rightWidth=i,this._topHeight=r,this._bottomHeight=s,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(n,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const r=1/this._origWidth,i=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=r*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-r*this._rightWidth,n[9]=n[11]=n[13]=n[15]=i*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Gk extends yo{constructor(e=Z.EMPTY,n,r,i,s){const o=new Ch(n,r,i);o.getBuffer("aVertexPosition").static=!1;const l=new ul(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Hk extends yo{constructor(e,n,r=0){const i=new Ok(e.height,n,r),s=new ul(e);r>0&&(e.baseTexture.wrapMode=Fr.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),super._render(e)}}class jk extends Gt{constructor(e=1500,n,r=16384,i=!1){super();const s=16384;r>s&&(r=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=fe.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(n),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tint}set tint(e){this._tint=e,mo(e,this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const n=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class T_{constructor(e,n,r){this.geometry=new bi,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||de.FLOAT,offset:s.offset},n[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new st(AI(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=n,n+=l.size,this.dynamicStride+=l.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new st(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new st(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===de.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===de.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,n,r){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,n,r,s.type===de.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,r){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,n,r,s.type===de.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var $k=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Vk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Yw extends Eh{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Xe,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:de.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ur.from(Vk,$k,{}),this.state=zr.for2d()}render(e){const n=e.children,r=e._maxSize,i=e._batchSize,s=this.renderer;let o=n.length;if(o===0)return;o>r&&!e.autoResize&&(o=r);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=n[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=V1(e.blendMode,d),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=PI(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,_=0;v<o;v+=i,_+=1){let S=o-v;S>i&&(S=i),_>=l.length&&l.push(this._generateOneMoreBuffer(e));const x=l[_];x.uploadDynamic(n,v,S);const w=e._bufferUpdateIDs[_]||0;m=m||x._updateID<w,m&&(x._updateID=e._updateID,x.uploadStatic(n,v,S)),s.geometry.bind(x.geometry),f.drawElements(f.TRIANGLES,S*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],r=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<r;o+=i)n.push(new T_(this.properties,s,i));return n}_generateOneMoreBuffer(e){const n=e._batchSize,r=e._properties;return new T_(this.properties,r,n)}uploadVertices(e,n,r,i,s,o){let l=0,c=0,d=0,f=0;for(let p=0;p<r;++p){const m=e[n+p],v=m._texture,_=m.scale.x,S=m.scale.y,x=v.trim,w=v.orig;x?(c=x.x-m.anchor.x*w.width,l=c+x.width,f=x.y-m.anchor.y*w.height,d=f+x.height):(l=w.width*(1-m.anchor.x),c=w.width*-m.anchor.x,d=w.height*(1-m.anchor.y),f=w.height*-m.anchor.y),i[o]=c*_,i[o+1]=f*S,i[o+s]=l*_,i[o+s+1]=f*S,i[o+s*2]=l*_,i[o+s*2+1]=d*S,i[o+s*3]=c*_,i[o+s*3+1]=d*S,o+=s*4}}uploadPosition(e,n,r,i,s,o){for(let l=0;l<r;l++){const c=e[n+l].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,n,r,i,s,o){for(let l=0;l<r;l++){const c=e[n+l].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,n,r,i,s,o){for(let l=0;l<r;++l){const c=e[n+l]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,n,r,i,s,o){for(let l=0;l<r;++l){const c=e[n+l],d=c._texture.baseTexture.alphaMode>0,f=c.alpha,p=f<1&&d?fg(c._tintRGB,f):c._tintRGB+(f*255<<24);i[o]=p,i[o+s]=p,i[o+s*2]=p,i[o+s*3]=p,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Yw.extension={name:"particle",type:J.RendererPlugin};le.add(Yw);var Ph=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Ph||{});const Vu={willReadFrequently:!0},ae=class{static get experimentalLetterSpacingSupported(){let t=ae._experimentalLetterSpacingSupported;if(t!==void 0){const e=ne.ADAPTER.getCanvasRenderingContext2D().prototype;t=ae._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,n,r,i,s,o,l,c){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=c}static measureText(t,e,n,r=ae._canvas){n=n==null?e.wordWrap:n;const i=e.toFontString(),s=ae.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=r.getContext("2d",Vu);o.font=i;const c=(n?ae.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let f=0;for(let _=0;_<c.length;_++){const S=ae._measureText(c[_],e.letterSpacing,o);d[_]=S,f=Math.max(f,S)}let p=f+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);const m=e.lineHeight||s.fontSize+e.strokeThickness;let v=Math.max(m,s.fontSize+e.strokeThickness*2)+(c.length-1)*(m+e.leading);return e.dropShadow&&(v+=e.dropShadowDistance),new ae(t,e,p,v,c,d,m+e.leading,f,s)}static _measureText(t,e,n){let r=!1;ae.experimentalLetterSpacingSupported&&(ae.experimentalLetterSpacing?(n.letterSpacing=`${e}px`,n.textLetterSpacing=`${e}px`,r=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let i=n.measureText(t).width;return i>0&&(r?i-=e:i+=(ae.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,n=ae._canvas){const r=n.getContext("2d",Vu);let i=0,s="",o="";const l=Object.create(null),{letterSpacing:c,whiteSpace:d}=e,f=ae.collapseSpaces(d),p=ae.collapseNewlines(d);let m=!f;const v=e.wordWrapWidth+c,_=ae.tokenize(t);for(let S=0;S<_.length;S++){let x=_[S];if(ae.isNewline(x)){if(!p){o+=ae.addLine(s),m=!f,s="",i=0;continue}x=" "}if(f){const T=ae.isBreakingSpace(x),b=ae.isBreakingSpace(s[s.length-1]);if(T&&b)continue}const w=ae.getFromCache(x,c,l,r);if(w>v)if(s!==""&&(o+=ae.addLine(s),s="",i=0),ae.canBreakWords(x,e.breakWords)){const T=ae.wordWrapSplit(x);for(let b=0;b<T.length;b++){let C=T[b],D=C,R=1;for(;T[b+R];){const I=T[b+R];if(!ae.canBreakChars(D,I,x,b,e.breakWords))C+=I;else break;D=I,R++}b+=R-1;const M=ae.getFromCache(C,c,l,r);M+i>v&&(o+=ae.addLine(s),m=!1,s="",i=0),s+=C,i+=M}}else{s.length>0&&(o+=ae.addLine(s),s="",i=0);const T=S===_.length-1;o+=ae.addLine(x,!T),m=!1,s="",i=0}else w+i>v&&(m=!1,o+=ae.addLine(s),s="",i=0),(s.length>0||!ae.isBreakingSpace(x)||m)&&(s+=x,i+=w)}return o+=ae.addLine(s,!1),o}static addLine(t,e=!0){return t=ae.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,n,r){let i=n[t];return typeof i!="number"&&(i=ae._measureText(t,e,r)+e,n[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const n=t[e];if(!ae.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ae._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ae._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let n="";if(typeof t!="string")return e;for(let r=0;r<t.length;r++){const i=t[r],s=t[r+1];if(ae.isBreakingSpace(i,s)||ae.isNewline(i)){n!==""&&(e.push(n),n=""),e.push(i);continue}n+=i}return n!==""&&e.push(n),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,n,r,i){return!0}static wordWrapSplit(t){return ae.graphemeSegmenter(t)}static measureFont(t){if(ae._fonts[t])return ae._fonts[t];const e={ascent:0,descent:0,fontSize:0},n=ae._canvas,r=ae._context;r.font=t;const i=ae.METRICS_STRING+ae.BASELINE_SYMBOL,s=Math.ceil(r.measureText(i).width);let o=Math.ceil(r.measureText(ae.BASELINE_SYMBOL).width);const l=Math.ceil(ae.HEIGHT_MULTIPLIER*o);if(o=o*ae.BASELINE_MULTIPLIER|0,s===0||l===0)return ae._fonts[t]=e,e;n.width=s,n.height=l,r.fillStyle="#f00",r.fillRect(0,0,s,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(i,0,o);const c=r.getImageData(0,0,s,l).data,d=c.length,f=s*4;let p=0,m=0,v=!1;for(p=0;p<o;++p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){v=!0;break}if(!v)m+=f;else break}for(e.ascent=o-p,m=d-f,v=!1,p=l;p>o;--p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){v=!0;break}if(!v)m-=f;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,ae._fonts[t]=e,e}static clearMetrics(t=""){t?delete ae._fonts[t]:ae._fonts={}}static get _canvas(){if(!ae.__canvas){let t;try{const e=new OffscreenCanvas(0,0),n=e.getContext("2d",Vu);if(n!=null&&n.measureText)return ae.__canvas=e,e;t=ne.ADAPTER.createCanvas()}catch{t=ne.ADAPTER.createCanvas()}t.width=t.height=10,ae.__canvas=t}return ae.__canvas}static get _context(){return ae.__context||(ae.__context=ae._canvas.getContext("2d",Vu)),ae.__context}};let St=ae;St.METRICS_STRING="|\xC9q\xC5";St.BASELINE_SYMBOL="M";St.BASELINE_MULTIPLIER=1.4;St.HEIGHT_MULTIPLIER=2;St.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();St.experimentalLetterSpacing=!1;St._fonts={};St._newlines=[10,13];St._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const Xk=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Sa=class{constructor(t){this.styleID=0,this.reset(),Af(this,t,t)}clone(){const t={};return Af(t,this,Sa.defaultStyle),new Sa(t)}reset(){Af(this,Sa.defaultStyle,Sa.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Pf(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Pf(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){Wk(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Pf(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let n=e.length-1;n>=0;n--){let r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&!Xk.includes(r)&&(r=`"${r}"`),e[n]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let os=Sa;os.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ph.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function S_(t){return typeof t=="number"?j1(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Pf(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=S_(t[e]);return t}else return S_(t)}function Wk(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function Af(t,e,n){for(const r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}const Yk={texture:!0,children:!1,baseTexture:!0},Zp=class extends $n{constructor(t,e,n){var s;let r=!1;n||(n=ne.ADAPTER.createCanvas(),r=!0),n.width=3,n.height=3;const i=Z.from(n);i.orig=new Ee,i.trim=new Ee,super(i),this._ownCanvas=r,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=(s=Zp.defaultResolution)!=null?s:ne.RESOLUTION,this._autoResolution=Zp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return St.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Pe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),St.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,r=St.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=r.width,s=r.height,o=r.lines,l=r.lineHeight,c=r.lineWidths,d=r.maxLineWidth,f=r.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;let p,m;const v=e.dropShadow?2:1;for(let _=0;_<v;++_){const S=e.dropShadow&&_===0,x=S?Math.ceil(Math.max(1,s)+e.padding*2):0,w=x*this._resolution;if(S){n.fillStyle="black",n.strokeStyle="black";const b=e.dropShadowColor,C=mo(typeof b=="number"?b:dg(b)),D=e.dropShadowBlur*this._resolution,R=e.dropShadowDistance*this._resolution;n.shadowColor=`rgba(${C[0]*255},${C[1]*255},${C[2]*255},${e.dropShadowAlpha})`,n.shadowBlur=D,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*R,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*R+w}else n.fillStyle=this._generateFillStyle(e,o,r),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let T=(l-f.fontSize)/2;l-f.fontSize<0&&(T=0);for(let b=0;b<o.length;b++)p=e.strokeThickness/2,m=e.strokeThickness/2+b*l+f.ascent+T,e.align==="right"?p+=d-c[b]:e.align==="center"&&(p+=(d-c[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[b],p+e.padding,m+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[b],p+e.padding,m+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,n,r=!1){const s=this._style.letterSpacing;let o=!1;if(St.experimentalLetterSpacingSupported&&(St.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n);return}let l=e;const c=St.graphemeSegmenter(t);let d=this.context.measureText(t).width,f=0;for(let p=0;p<c.length;++p){const m=c[p];r?this.context.strokeText(m,l,n):this.context.fillText(m,l,n);let v="";for(let _=p+1;_<c.length;++_)v+=c[_];f=this.context.measureText(v).width,l+=d-f+s,d=f}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=kI(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,n=this._style,r=n.trim?0:n.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-r*2,e.orig.height=e._frame.height-r*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,n){const r=t.fill;if(Array.isArray(r)){if(r.length===1)return r[0]}else return r;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,l=this.canvas.width/this._resolution-s-o*2,c=this.canvas.height/this._resolution-s-o*2,d=r.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(r[0]),f.unshift(0),d.push(r[r.length-1]),f.push(1),t.fillGradientType===Ph.LINEAR_VERTICAL){i=this.context.createLinearGradient(l/2,o,l/2,c+o);const p=n.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<e.length;m++){const v=n.lineHeight*(m-1)+p,_=n.lineHeight*m;let S=_;m>0&&v>_&&(S=(_+v)/2);const x=_+p,w=n.lineHeight*(m+1);let T=x;m+1<e.length&&w<x&&(T=(x+w)/2);const b=(T-S)/c;for(let C=0;C<d.length;C++){let D=0;typeof f[C]=="number"?D=f[C]:D=C/d.length;let R=Math.min(1,Math.max(0,S/c+D*b));R=Number(R.toFixed(5)),i.addColorStop(R,d[C])}}}else{i=this.context.createLinearGradient(o,c/2,l+o,c/2);const p=d.length+1;let m=1;for(let v=0;v<d.length;v++){let _;typeof f[v]=="number"?_=f[v]:_=m/p,i.addColorStop(_,d[v]),m++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Yk,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Xs(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Xs(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof os?this._style=t:this._style=new os(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let El=Zp;El.defaultAutoResolution=!0;class qk{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Qk(t,e){var r;let n=!1;if((r=t==null?void 0:t._textures)!=null&&r.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Z){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),n=!0)}}return n}function Kk(t,e){if(t.baseTexture instanceof _e){const n=t.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Zk(t,e){if(t._texture&&t._texture instanceof Z){const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Jk(t,e){return e instanceof El?(e.updateText(!0),!0):!1}function eM(t,e){if(e instanceof os){const n=e.toFontString();return St.measureFont(n),!0}return!1}function tM(t,e){if(t instanceof El){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const n=t._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function nM(t,e){return t instanceof os?(e.includes(t)||e.push(t),!0):!1}const qw=class{constructor(t){this.limiter=new qk(qw.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{!this.queue||this.prepareItems()},this.registerFindHook(tM),this.registerFindHook(nM),this.registerFindHook(Qk),this.registerFindHook(Kk),this.registerFindHook(Zk),this.registerUploadHook(Jk),this.registerUploadHook(eM)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ut.system.addOnce(this.tick,this,ss.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ut.system.addOnce(this.tick,this,ss.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,n=t.length;e<n;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Gt)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&ut.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let eh=qw;eh.uploadsPerFrame=4;Object.defineProperties(ne,{UPLOADS_PER_FRAME:{get(){return eh.uploadsPerFrame},set(t){Pe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),eh.uploadsPerFrame=t}}});function Qw(t,e){return e instanceof _e?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function rM(t,e){if(!(e instanceof cr))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:r}=n;for(let i=0;i<r.length;i++){const{texture:s}=r[i].style;s&&Qw(t,s.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function iM(t,e){return t instanceof cr?(e.push(t),!0):!1}class Kw extends eh{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(iM),this.registerUploadHook(Qw),this.registerUploadHook(rM)}}Kw.extension={name:"prepare",type:J.RendererSystem};le.add(Kw);class cl extends $n{constructor(e,n=!0){super(e[0]instanceof Z?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=n,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ut.shared.add(this.update,this,ss.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=this.animationSpeed*e,r=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=n/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(Z.from(e[r]));return new cl(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(Z.from(e[r]));return new cl(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Z)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const ga=new be;class Eg extends $n{constructor(e,n=100,r=100){super(e),this.tileTransform=new wh,this._width=n,this._height=r,this.uvMatrix=this.texture.uvMatrix||new yg(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,r,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ga);const n=this._width,r=this._height,i=-n*this.anchor._x;if(ga.x>=i&&ga.x<i+n){const s=-r*this.anchor._y;if(ga.y>=s&&ga.y<s+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,n){const r=e instanceof Z?e:Z.from(e,n);return new Eg(r,n.width,n.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var sM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,oM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,aM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,C_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,lM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Xu=new Xe;class Zw extends Eh{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new cw,this.state=zr.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=ur.from(C_,lM,n),this.shader=e.context.webGLVersion>1?ur.from(oM,sM,n):ur.from(C_,aM,n)}render(e){const n=this.renderer,r=this.quad;let i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=r.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,r.invalidate();const l=e._texture,c=l.baseTexture,d=c.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;m&&(c._glTextures[n.CONTEXT_UID]?m=c.wrapMode!==Fr.CLAMP:c.wrapMode===Fr.CLAMP&&(c.wrapMode=Fr.REPEAT));const v=m?this.simpleShader:this.shader,_=l.width,S=l.height,x=e._width,w=e._height;Xu.set(f.a*_/x,f.b*_/w,f.c*S/x,f.d*S/w,f.tx/x,f.ty/w),Xu.invert(),m?Xu.prepend(p.mapCoord):(v.uniforms.uMapCoord=p.mapCoord.toArray(!0),v.uniforms.uClampFrame=p.uClampFrame,v.uniforms.uClampOffset=p.uClampOffset),v.uniforms.uTransform=Xu.toArray(!0),v.uniforms.uColor=X1(e.tint,e.worldAlpha,v.uniforms.uColor,d),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=l,n.shader.bind(v),n.geometry.bind(r),this.state.blendMode=V1(e.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Zw.extension={name:"tilingSprite",type:J.RendererPlugin};le.add(Zw);const Ca=class{constructor(t,e,n=null){this.linkedSheets=[],this._texture=t instanceof Z?t:null,this.baseTexture=t instanceof _e?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let n=Ei(t,null);return n===null&&(n=parseFloat(e!=null?e:"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ca.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const n=Ca.BATCH_SIZE;for(;e-t<n&&e<this._frameKeys.length;){const r=this._frameKeys[e],i=this._frames[r],s=i.frame;if(s){let o=null,l=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,d=new Ee(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?o=new Ee(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ee(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(l=new Ee(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new Z(this.baseTexture,o,d,l,i.rotated?2:0,i.anchor),Z.addToCache(this.textures[r],r)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let n=0;n<t[e].length;n++){const r=t[e][n];this.animations[e].push(this.textures[r])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ca.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ca.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Jp=Ca;Jp.BATCH_SIZE=1e3;const uM=["jpg","png","jpeg","avif","webp"];function Jw(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=At.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const l=Jw([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,l)})}return r}const cM={extension:J.Asset,cache:{test:t=>t instanceof Jp,getCacheableAssets:(t,e)=>Jw(t,e,!1)},resolver:{test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&uM.includes(i)},parse:t=>{var n,r;const e=t.split(".");return{resolution:parseFloat((r=(n=ne.RETINA_PREFIX.exec(t))==null?void 0:n[1])!=null?r:"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:J.LoadParser,priority:fr.Normal},async testParse(t,e){return At.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var d,f;let r=At.dirname(e.src);r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");let i=r+t.meta.image;i=qp(i,e.src);const o=(await n.load([i]))[i],l=new Jp(o.baseTexture,t,e.src);await l.parse();const c=(d=t==null?void 0:t.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(c)){const p=[];for(const v of c){if(typeof v!="string")continue;let _=r+v;(f=e.data)!=null&&f.ignoreMultiPack||(_=qp(_,e.src),p.push(n.load({src:_,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(p);l.linkedSheets=m,m.forEach(v=>{v.linkedSheets=[l].concat(l.linkedSheets.filter(_=>_!==v))})}return l},unload(t){t.destroy(!0)}}};le.add(cM);class th{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class cc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in n){const o=n[s].match(/^[a-z]+/gm)[0],l=n[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in l){const f=l[d].split("="),p=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),_=isNaN(v)?m:v;c[p]=_}r[o].push(c)}const i=new th;return r.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),r.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),r.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),r.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),r.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),r.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class em{static test(e){const n=e;return"getElementsByTagName"in n&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new th,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<r.length;d++)n.info.push({face:r[d].getAttribute("face"),size:parseInt(r[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)n.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)n.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const f=o[d];n.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let d=0;d<l.length;d++)n.kerning.push({first:parseInt(l[d].getAttribute("first"),10),second:parseInt(l[d].getAttribute("second"),10),amount:parseInt(l[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)n.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return n}}class tm{static test(e){return typeof e=="string"&&e.includes("<font>")?em.test(ne.ADAPTER.parseXML(e)):!1}static parse(e){return em.parse(ne.ADAPTER.parseXML(e))}}const If=[cc,em,tm];function hM(t){for(let e=0;e<If.length;e++)if(If[e].test(t))return If[e];return null}function dM(t,e,n,r,i,s){const o=n.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=n.dropShadow?n.dropShadowDistance:0,d=n.padding||0,f=t.width/r-c-d*2,p=t.height/r-c-d*2,m=o.slice(),v=n.fillGradientStops.slice();if(!v.length){const _=m.length+1;for(let S=1;S<_;++S)v.push(S/_)}if(m.unshift(o[0]),v.unshift(0),m.push(o[o.length-1]),v.push(1),n.fillGradientType===Ph.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,d,f/2,p+d);let _=0;const x=(s.fontProperties.fontSize+n.strokeThickness)/p;for(let w=0;w<i.length;w++){const T=s.lineHeight*w;for(let b=0;b<m.length;b++){let C=0;typeof v[b]=="number"?C=v[b]:C=b/m.length;const D=T/p+C*x;let R=Math.max(_,D);R=Math.min(R,1),l.addColorStop(R,m[b]),_=R}}}else{l=e.createLinearGradient(d,p/2,f+d,p/2);const _=m.length+1;let S=1;for(let x=0;x<m.length;x++){let w;typeof v[x]=="number"?w=v[x]:w=S/_,l.addColorStop(w,m[x]),S++}}return l}function fM(t,e,n,r,i,s,o){const l=n.text,c=n.fontProperties;e.translate(r,i),e.scale(s,s);const d=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=dM(t,e,o,s,[l],n),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=mo(typeof p=="number"?p:dg(p)),v=o.dropShadowBlur*s,_=o.dropShadowDistance*s;e.shadowColor=`rgba(${m[0]*255},${m[1]*255},${m[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=v,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*_,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*_}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,d,f+n.lineHeight-c.descent),o.fill&&e.fillText(l,d,f+n.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function hc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function eE(t){return Array.from?Array.from(t):t.split("")}function pM(t){typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...eE(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Mn=class{constructor(t,e,n){var d,f;const[r]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,l=Ei(s.file),c={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/l,this.chars={},this.pageTextures=c;for(let p=0;p<t.page.length;p++){const{id:m,file:v}=t.page[p];c[m]=e instanceof Array?e[p]:e[v],(o==null?void 0:o.fieldType)&&o.fieldType!=="none"&&(c[m].baseTexture.alphaMode=Vn.NO_PREMULTIPLIED_ALPHA,c[m].baseTexture.mipmap=hr.OFF)}for(let p=0;p<t.char.length;p++){const{id:m,page:v}=t.char[p];let{x:_,y:S,width:x,height:w,xoffset:T,yoffset:b,xadvance:C}=t.char[p];_/=l,S/=l,x/=l,w/=l,T/=l,b/=l,C/=l;const D=new Ee(_+c[v].frame.x/l,S+c[v].frame.y/l,x,w);this.chars[m]={xOffset:T,yOffset:b,xAdvance:C,kerning:{},texture:new Z(c[v].baseTexture,D),page:v}}for(let p=0;p<t.kerning.length;p++){let{first:m,second:v,amount:_}=t.kerning[p];m/=l,v/=l,_/=l,this.chars[v]&&(this.chars[v].kerning[m]=_)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=(f=(d=o==null?void 0:o.fieldType)==null?void 0:d.toLowerCase())!=null?f:"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,n){let r;if(t instanceof th)r=t;else{const s=hM(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof Z&&(e=[e]);const i=new Mn(r,e,n);return Mn.available[i.font]=i,i}static uninstall(t){const e=Mn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Mn.available[t]}static from(t,e,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:r,padding:i,resolution:s,textureWidth:o,textureHeight:l,...c}=Object.assign({},Mn.defaultOptions,n),d=pM(r),f=e instanceof os?e:new os(e),p=o,m=new th;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let v=0,_=0,S,x,w,T=0;const b=[];for(let D=0;D<d.length;D++){S||(S=ne.ADAPTER.createCanvas(),S.width=o,S.height=l,x=S.getContext("2d"),w=new _e(S,{resolution:s,...c}),b.push(new Z(w)),m.page.push({id:b.length-1,file:""}));const R=d[D],M=St.measureText(R,f,!1,S),I=M.width,z=Math.ceil(M.height),X=Math.ceil((f.fontStyle==="italic"?2:1)*I);if(_>=l-z*s){if(_===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--D,S=null,x=null,w=null,_=0,v=0,T=0;continue}if(T=Math.max(z+M.fontProperties.descent,T),X*s+v>=p){if(v===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--D,_+=T*s,_=Math.ceil(_),v=0,T=0;continue}fM(S,x,M,v,_,s,f);const $=hc(M.text);m.char.push({id:$,page:b.length-1,x:v/s,y:_/s,width:X,height:z,xoffset:0,yoffset:0,xadvance:I-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),v+=(X+2*i)*s,v=Math.ceil(v)}for(let D=0,R=d.length;D<R;D++){const M=d[D];for(let I=0;I<R;I++){const z=d[I],X=x.measureText(M).width,$=x.measureText(z).width,L=x.measureText(M+z).width-(X+$);L&&m.kerning.push({first:hc(M),second:hc(z),amount:L})}}const C=new Mn(m,b,!0);return Mn.available[t]!==void 0&&Mn.uninstall(t),Mn.available[t]=C,C}};let qt=Mn;qt.ALPHA=[["a","z"],["A","Z"]," "];qt.NUMERIC=[["0","9"]];qt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];qt.ASCII=[[" ","~"]];qt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Mn.ALPHANUMERIC};qt.available={};var mM=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,gM=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const P_=[],A_=[],I_=[],tE=class extends Gt{constructor(t,e={}){super(),this._tint=16777215;const{align:n,tint:r,maxWidth:i,letterSpacing:s,fontName:o,fontSize:l}=Object.assign({},tE.styleDefaults,e);if(!qt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tint=r,this._font=void 0,this._fontName=o,this._fontSize=l,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Mr(()=>{this.dirty=!0},this,0,0),this._roundPixels=ne.ROUND_PIXELS,this.dirty=!0,this._resolution=ne.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var X;const t=qt.available[this._fontName],e=this.fontSize,n=e/t.size,r=new be,i=[],s=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=eE(l),d=this._maxWidth*t.size/e,f=t.distanceFieldType==="none"?P_:A_;let p=null,m=0,v=0,_=0,S=-1,x=0,w=0,T=0,b=0;for(let $=0;$<c.length;$++){const q=c[$],L=hc(q);if(/(?:\s)/.test(q)&&(S=$,x=m,b++),q==="\r"||q===`
`){s.push(m),o.push(-1),v=Math.max(v,m),++_,++w,r.x=0,r.y+=t.lineHeight,p=null,b=0;continue}const B=t.chars[L];if(!B)continue;p&&B.kerning[p]&&(r.x+=B.kerning[p]);const ue=I_.pop()||{texture:Z.EMPTY,line:0,charCode:0,prevSpaces:0,position:new be};ue.texture=B.texture,ue.line=_,ue.charCode=L,ue.position.x=Math.round(r.x+B.xOffset+this._letterSpacing/2),ue.position.y=Math.round(r.y+B.yOffset),ue.prevSpaces=b,i.push(ue),m=ue.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),r.x+=B.xAdvance+this._letterSpacing,T=Math.max(T,B.yOffset+B.texture.height),p=L,S!==-1&&d>0&&r.x>d&&(++w,oo(i,1+S-w,1+$-S),$=S,S=-1,s.push(x),o.push(i.length>0?i[i.length-1].prevSpaces:0),v=Math.max(v,x),_++,r.x=0,r.y+=t.lineHeight,p=null,b=0)}const C=c[c.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(m=x),s.push(m),v=Math.max(v,m),o.push(-1));const D=[];for(let $=0;$<=_;$++){let q=0;this._align==="right"?q=v-s[$]:this._align==="center"?q=(v-s[$])/2:this._align==="justify"&&(q=o[$]<0?0:(v-s[$])/o[$]),D.push(q)}const R=i.length,M={},I=[],z=this._activePagesMeshData;f.push(...z);for(let $=0;$<R;$++){const q=i[$].texture,L=q.baseTexture.uid;if(!M[L]){let B=f.pop();if(!B){const he=new Ch;let Q,xe;t.distanceFieldType==="none"?(Q=new ul(Z.EMPTY),xe=fe.NORMAL):(Q=new ul(Z.EMPTY,{program:On.from(gM,mM),uniforms:{uFWidth:0}}),xe=fe.NORMAL_NPM);const Ce=new yo(he,Q);Ce.blendMode=xe,B={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Ce,vertices:null,uvs:null,indices:null}}B.index=0,B.indexCount=0,B.vertexCount=0,B.uvsCount=0,B.total=0;const{_textureCache:ue}=this;ue[L]=ue[L]||new Z(q.baseTexture),B.mesh.texture=ue[L],B.mesh.tint=this._tint,I.push(B),M[L]=B}M[L].total++}for(let $=0;$<z.length;$++)I.includes(z[$])||this.removeChild(z[$].mesh);for(let $=0;$<I.length;$++)I[$].mesh.parent!==this&&this.addChild(I[$].mesh);this._activePagesMeshData=I;for(const $ in M){const q=M[$],L=q.total;if(!(((X=q.indices)==null?void 0:X.length)>6*L)||q.vertices.length<yo.BATCHABLE_SIZE*2)q.vertices=new Float32Array(4*2*L),q.uvs=new Float32Array(4*2*L),q.indices=new Uint16Array(6*L);else{const B=q.total,ue=q.vertices;for(let he=B*4*2;he<ue.length;he++)ue[he]=0}q.mesh.size=6*L}for(let $=0;$<R;$++){const q=i[$];let L=q.position.x+D[q.line]*(this._align==="justify"?q.prevSpaces:1);this._roundPixels&&(L=Math.round(L));const B=L*n,ue=q.position.y*n,he=q.texture,Q=M[he.baseTexture.uid],xe=he.frame,Ce=he._uvs,j=Q.index++;Q.indices[j*6+0]=0+j*4,Q.indices[j*6+1]=1+j*4,Q.indices[j*6+2]=2+j*4,Q.indices[j*6+3]=0+j*4,Q.indices[j*6+4]=2+j*4,Q.indices[j*6+5]=3+j*4,Q.vertices[j*8+0]=B,Q.vertices[j*8+1]=ue,Q.vertices[j*8+2]=B+xe.width*n,Q.vertices[j*8+3]=ue,Q.vertices[j*8+4]=B+xe.width*n,Q.vertices[j*8+5]=ue+xe.height*n,Q.vertices[j*8+6]=B,Q.vertices[j*8+7]=ue+xe.height*n,Q.uvs[j*8+0]=Ce.x0,Q.uvs[j*8+1]=Ce.y0,Q.uvs[j*8+2]=Ce.x1,Q.uvs[j*8+3]=Ce.y1,Q.uvs[j*8+4]=Ce.x2,Q.uvs[j*8+5]=Ce.y2,Q.uvs[j*8+6]=Ce.x3,Q.uvs[j*8+7]=Ce.y3}this._textWidth=v*n,this._textHeight=(r.y+t.lineHeight)*n;for(const $ in M){const q=M[$];if(this.anchor.x!==0||this.anchor.y!==0){let he=0;const Q=this._textWidth*this.anchor.x,xe=this._textHeight*this.anchor.y;for(let Ce=0;Ce<q.total;Ce++)q.vertices[he++]-=Q,q.vertices[he++]-=xe,q.vertices[he++]-=Q,q.vertices[he++]-=xe,q.vertices[he++]-=Q,q.vertices[he++]-=xe,q.vertices[he++]-=Q,q.vertices[he++]-=xe}this._maxLineHeight=T*n;const L=q.mesh.geometry.getBuffer("aVertexPosition"),B=q.mesh.geometry.getBuffer("aTextureCoord"),ue=q.mesh.geometry.getIndex();L.data=q.vertices,B.data=q.uvs,ue.data=q.indices,L.update(),B.update(),ue.update()}for(let $=0;$<i.length;$++)I_.push(i[$]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:n,size:r}=qt.available[this._fontName];if(n!=="none"){const{a:i,b:s,c:o,d:l}=this.worldTransform,c=Math.sqrt(i*i+s*s),d=Math.sqrt(o*o+l*l),f=(Math.abs(c)+Math.abs(d))/2,p=this.fontSize/r,m=t._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=f*e*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=qt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!qt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){var t;return(t=this._fontSize)!=null?t:qt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t==null?"":t),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=qt.available[this._fontName].distanceFieldType==="none"?P_:A_;r.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],r.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=Z.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._textureCache=null,super.destroy(t)}};let nE=tE;nE.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const yM=[".xml",".fnt"],vM={extension:{type:J.LoadParser,priority:fr.Normal},test(t){return yM.includes(At.extname(t).toLowerCase())},async testParse(t){return cc.test(t)||tm.test(t)},async parse(t,e,n){const r=cc.test(t)?cc.parse(t):tm.parse(t),{src:i}=e,{page:s}=r,o=[];for(let d=0;d<s.length;++d){const f=s[d].file;let p=At.join(At.dirname(i),f);p=qp(p,i),o.push(p)}const l=await n.load(o),c=o.map(d=>l[d]);return qt.install(r,c,!0)},async load(t,e){return(await ne.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};le.add(vM);function R_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R_(Object(n),!0).forEach(function(r){gt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ci(t){return(Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function _M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ah(){return(Ah=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function nm(t){return(nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bg(t,e){return(bg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function rE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iE(t,e,n){return(iE=rE()?Reflect.construct:function(r,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(r,o));return s&&bg(l,s.prototype),l}).apply(null,arguments)}function ei(t,e){if(t==null)return{};var n,r,i=function(o,l){if(o==null)return{};var c,d,f={},p=Object.keys(o);for(d=0;d<p.length;d++)c=p[d],l.indexOf(c)>=0||(f[c]=o[c]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wM(t,e){return!e||typeof e!="object"&&typeof e!="function"?Sr(t):e}function Or(t){return function(e){if(Array.isArray(e))return Rf(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(!!e){if(typeof e=="string")return Rf(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rf(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ct(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]}var EM=function(t){return t==null};function Pa(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Or(t);else{if(t===null||Ci(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(n){return!EM(n)&&!isNaN(n)}).map(Number)}function k_(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function kf(t){return t instanceof be||t instanceof Mr}var nh=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Mf(t,e,n){if(kf(t[e])&&kf(n))t[e].copyFrom(n);else if(kf(t[e])){var r=Pa(n);ct(r!==void 0&&r.length>0&&r.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(n),Ci(n)),t[e].set(r.shift(),r.shift())}else t[e]=n}var ks,sE=function(t){var e,n=t;if(!Array.isArray(n)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");n=Object.keys(t)}var r={};return n.forEach(function(i){r[i]=!0}),function(i){return r[i]!==void 0}},oE=function(t){return function(){return!t.apply(void 0,arguments)}},bM=(gt(ks={},"children",!0),gt(ks,"parent",!0),gt(ks,"worldAlpha",!0),gt(ks,"worldTransform",!0),gt(ks,"worldVisible",!0),ks),rm={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Kn=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=function(l){return requestAnimationFrame(function(){var c,d;l==null||(c=l.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,c){if(n.hasOwnProperty(l))return ct(c.typeofs.some(function(d){return Ci(n[l])===d})||c.instanceofs.some(function(d){return n[l]instanceof d}),"".concat(t," ").concat(l," prop is invalid")),n[l]};if(n.texture)return ct(n.texture instanceof Z,"".concat(t," texture needs to be typeof `PIXI.Texture`")),n.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,Z]});ct(!!s,"".concat(t," could not get texture from props"));var o=Z.from(s);return o.__reactpixi={root:e},o.once("update",r),o.once("loaded",r),o.valid&&r(o),o},TM=oE(sE([].concat(Or(Object.keys(bM)),Or(nh))));function Jn(t,e,n){var r=!1;if(ct(Ye.prototype.isPrototypeOf(t),"instance needs to be typeof `PIXI.DisplayObject`, got `%s`",Ci(t)),!n.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<nh.length;o++){var l=nh[o];e[l]!==n[l]&&(r=!0,typeof e[l]=="function"&&i&&t.removeListener(l,e[l]),typeof n[l]=="function"&&s&&t.on(l,n[l]))}var c=Object.keys(n||{});if(!n.overwriteProps){for(var d=c.filter(TM),f=0;f<d.length;f++){var p=d[f],m=n[p];n[p]!==e[p]&&(r=!0),m!==void 0?Mf(t,p,m):p in rm?(console.warn("setting default value: ".concat(p,", from: ").concat(t[p]," to: ").concat(m," for"),t),r=!0,Mf(t,p,rm[p])):console.warn("ignoring prop: ".concat(p,", from ").concat(t[p]," to ").concat(m," for"),t)}return r}for(var v=0;v<c.length;v++){var _=c[v];e[_]!==n[_]&&(r=!0,Mf(t,_,n[_]))}}var SM=["draw","geometry"],CM=["image","texture"],PM=["image","texture"],AM=["textures","isPlaying","initialFrame"],IM=["tileScale","tilePosition","image","texture"],RM=["image","texture"],kM=["image","texture"],MM=Object.freeze({__proto__:null,BitmapText:function(t,e){var n=e.text,r=e.style;return new nE(n,r)},Container:function(){return new Gt},Graphics:function(t,e){var n=e.geometry;ct(!n||n instanceof cr,"Graphics geometry needs to be a `PIXI.Graphics`");var r=n?new cr(n.geometry):new cr;return r.applyProps=function(i,s,o){var l=o.draw;o.geometry;var c=Jn(i,s,ei(o,SM));return s.draw!==l&&typeof l=="function"&&(c=!0,l.call(r,r)),c},r},NineSlicePlane:function(t,e){var n=e.leftWidth,r=n===void 0?10:n,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,c=e.bottomHeight,d=c===void 0?10:c,f=Kn("NineSlicePlane",t,e),p=new zk(f,r,s,l,d);return p.applyProps=function(m,v,_){var S=_.image,x=_.texture,w=Jn(m,v,ei(_,CM));return(S||x)&&(x!==v.texture&&(w=!0),m.texture=Kn("NineSlicePlane",t,_)),w},p},ParticleContainer:function(t,e){var n=e.maxSize,r=n===void 0?1500:n,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,c=Kt(Kt({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=Kt(Kt({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new jk(r,c,s,l);return f.willUnmount=function(p,m,v){p.destroy(d)},f},Sprite:function(t,e){var n=new $n(Kn("Sprite",t,e));return n.applyProps=function(r,i,s){var o=s.image,l=s.texture,c=Jn(r,i,ei(s,PM));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),r.texture=Kn("Sprite",t,s)),c},n},Text:function(t,e){var n=e.text,r=n===void 0?"":n,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new El(r,s);return o?(l.updateText(),new $n(l.texture)):l},TilingSprite:function(t,e){var n=e.width,r=n===void 0?100:n,i=e.height,s=i===void 0?100:i,o=Kn("TilingSprite",t,e),l=new Eg(o,r,s);return l.applyProps=function(c,d,f){var p=f.tileScale,m=f.tilePosition,v=f.image,_=f.texture,S=Jn(c,d,ei(f,IM));if(m){var x,w=Pa(m);(x=c.tilePosition).set.apply(x,Or(w)),S=!k_(Pa(d.tilePosition),w)||S}if(p){var T,b=Pa(p);(T=c.tileScale).set.apply(T,Or(b)),S=!k_(Pa(d.tileScale),b)||S}return(v||_)&&(_!==d.texture&&(S=!0),c.texture=Kn("Sprite",t,f)),S},l},SimpleMesh:function(t,e){var n=Kn("Mesh",t,e),r=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?Ln.TRIANGLES:o,c=new Gk(n,r,i,s,l);return c.applyProps=function(d,f,p){var m=p.image,v=p.texture,_=Jn(d,f,ei(p,RM));return(m||v)&&(v!==f.texture&&(_=!0),d.texture=Kn("Mesh",t,p)),_},c},SimpleRope:function(t,e){var n=Kn("SimpleRope",t,e),r=e.points,i=new Hk(n,r);return i.applyProps=function(s,o,l){var c=l.image,d=l.texture,f=ei(l,kM);ct(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=Jn(s,o,f);return(c||d)&&(d!==o.texture&&(p=!0),s.texture=Kn("SimpleRope",t,l)),p},i},AnimatedSprite:function(t,e){var n=e.textures,r=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(d){return d.map(function(f){return ct(f instanceof Z||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time: number }`"),f})},c=r?cl.fromImages(r):new cl(l(n));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(d,f,p){var m=p.textures,v=p.isPlaying,_=p.initialFrame,S=Jn(d,f,ei(p,AM));if(m&&f.textures!==m&&(d.textures=l(m),S=!0),v!==f.isPlaying||_!==f.initialFrame){var x=typeof _=="number"?_:c.currentFrame||0;c[v?"gotoAndPlay":"gotoAndStop"](x),S=!0}return S},c}}),ln={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},DM=Object.keys(ln).reduce(function(t,e){return Kt(Kt({},t),{},gt({},e,MM[e]))},{}),aE={};function NM(t,e){return ct(!!t,"Expect type to be defined, got `%s`",t),ct(!ln[t],"Component `%s` could not be created, already exists in default components.",t),aE[t]=e,t}var FM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function En(t,e){return t(e={exports:{}},e.exports),e.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/}var M_=Object.getOwnPropertySymbols,BM=Object.prototype.hasOwnProperty,LM=Object.prototype.propertyIsEnumerable;function OM(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var UM=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if(Object.getOwnPropertyNames(e).map(function(i){return e[i]}).join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(i){r[i]=i}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(t,e){for(var n,r,i=OM(t),s=1;s<arguments.length;s++){for(var o in n=Object(arguments[s]))BM.call(n,o)&&(i[o]=n[o]);if(M_){r=M_(n);for(var l=0;l<r.length;l++)LM.call(n,r[l])&&(i[r[l]]=n[r[l]])}}return i},at=En(function(t,e){var n,r,i,s;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}if(typeof window>"u"||typeof MessageChannel!="function"){var d=null,f=null,p=function(){if(d!==null)try{var N=e.unstable_now();d(!0,N),d=null}catch(H){throw setTimeout(p,0),H}};n=function(N){d!==null?setTimeout(n,0,N):(d=N,setTimeout(p,0))},r=function(N,H){f=setTimeout(N,H)},i=function(){clearTimeout(f)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var _=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var S=!1,x=null,w=-1,T=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},s=function(){},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5};var C=new MessageChannel,D=C.port2;C.port1.onmessage=function(){if(x!==null){var N=e.unstable_now();b=N+T;try{x(!0,N)?D.postMessage(null):(S=!1,x=null)}catch(H){throw D.postMessage(null),H}}else S=!1},n=function(N){x=N,S||(S=!0,D.postMessage(null))},r=function(N,H){w=m(function(){N(e.unstable_now())},H)},i=function(){v(w),w=-1}}function R(N,H){var V=N.length;N.push(H);e:for(;;){var se=V-1>>>1,me=N[se];if(!(me!==void 0&&0<z(me,H)))break e;N[se]=H,N[V]=me,V=se}}function M(N){return(N=N[0])===void 0?null:N}function I(N){var H=N[0];if(H!==void 0){var V=N.pop();if(V!==H){N[0]=V;e:for(var se=0,me=N.length;se<me;){var we=2*(se+1)-1,Te=N[we],Ie=we+1,Fe=N[Ie];if(Te!==void 0&&0>z(Te,V))Fe!==void 0&&0>z(Fe,Te)?(N[se]=Fe,N[Ie]=V,se=Ie):(N[se]=Te,N[we]=V,se=we);else{if(!(Fe!==void 0&&0>z(Fe,V)))break e;N[se]=Fe,N[Ie]=V,se=Ie}}}return H}return null}function z(N,H){var V=N.sortIndex-H.sortIndex;return V!==0?V:N.id-H.id}var X=[],$=[],q=1,L=null,B=3,ue=!1,he=!1,Q=!1;function xe(N){for(var H=M($);H!==null;){if(H.callback===null)I($);else{if(!(H.startTime<=N))break;I($),H.sortIndex=H.expirationTime,R(X,H)}H=M($)}}function Ce(N){if(Q=!1,xe(N),!he)if(M(X)!==null)he=!0,n(j);else{var H=M($);H!==null&&r(Ce,H.startTime-N)}}function j(N,H){he=!1,Q&&(Q=!1,i()),ue=!0;var V=B;try{for(xe(H),L=M(X);L!==null&&(!(L.expirationTime>H)||N&&!e.unstable_shouldYield());){var se=L.callback;if(typeof se=="function"){L.callback=null,B=L.priorityLevel;var me=se(L.expirationTime<=H);H=e.unstable_now(),typeof me=="function"?L.callback=me:L===M(X)&&I(X),xe(H)}else I(X);L=M(X)}if(L!==null)var we=!0;else{var Te=M($);Te!==null&&r(Ce,Te.startTime-H),we=!1}return we}finally{L=null,B=V,ue=!1}}var U=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){he||ue||(he=!0,n(j))},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return M(X)},e.unstable_next=function(N){switch(B){case 1:case 2:case 3:var H=3;break;default:H=B}var V=B;B=H;try{return N()}finally{B=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(N,H){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=B;B=N;try{return H()}finally{B=V}},e.unstable_scheduleCallback=function(N,H,V){var se=e.unstable_now();switch(typeof V=="object"&&V!==null?V=typeof(V=V.delay)=="number"&&0<V?se+V:se:V=se,N){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return N={id:q++,callback:H,priorityLevel:N,startTime:V,expirationTime:me=V+me,sortIndex:-1},V>se?(N.sortIndex=V,R($,N),M(X)===null&&N===M($)&&(Q?i():Q=!0,r(Ce,V-se))):(N.sortIndex=me,R(X,N),he||ue||(he=!0,n(j))),N},e.unstable_wrapCallback=function(N){var H=B;return function(){var V=B;B=H;try{return N.apply(this,arguments)}finally{B=V}}}});at.unstable_now,at.unstable_shouldYield,at.unstable_forceFrameRate,at.unstable_IdlePriority,at.unstable_ImmediatePriority,at.unstable_LowPriority,at.unstable_NormalPriority,at.unstable_Profiling,at.unstable_UserBlockingPriority,at.unstable_cancelCallback,at.unstable_continueExecution,at.unstable_getCurrentPriorityLevel,at.unstable_getFirstCallbackNode,at.unstable_next,at.unstable_pauseExecution,at.unstable_requestPaint,at.unstable_runWithPriority,at.unstable_scheduleCallback,at.unstable_wrapCallback;var dt=En(function(t,e){});dt.unstable_now,dt.unstable_shouldYield,dt.unstable_forceFrameRate,dt.unstable_IdlePriority,dt.unstable_ImmediatePriority,dt.unstable_LowPriority,dt.unstable_NormalPriority,dt.unstable_Profiling,dt.unstable_UserBlockingPriority,dt.unstable_cancelCallback,dt.unstable_continueExecution,dt.unstable_getCurrentPriorityLevel,dt.unstable_getFirstCallbackNode,dt.unstable_next,dt.unstable_pauseExecution,dt.unstable_requestPaint,dt.unstable_runWithPriority,dt.unstable_scheduleCallback,dt.unstable_wrapCallback;var im=En(function(t){t.exports=at});im.unstable_scheduleCallback,im.unstable_cancelCallback;var zM=En(function(t){/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.exports=function(e){var n={},r=UM,i=sr,s=im;function o(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,d=60106,f=60107,p=60108,m=60114,v=60109,_=60110,S=60112,x=60113,w=60120,T=60115,b=60116,C=60121,D=60129,R=60130,M=60131;if(typeof Symbol=="function"&&Symbol.for){var I=Symbol.for;c=I("react.element"),d=I("react.portal"),f=I("react.fragment"),p=I("react.strict_mode"),m=I("react.profiler"),v=I("react.provider"),_=I("react.context"),S=I("react.forward_ref"),x=I("react.suspense"),w=I("react.suspense_list"),T=I("react.memo"),b=I("react.lazy"),C=I("react.block"),I("react.scope"),D=I("react.debug_trace_mode"),R=I("react.offscreen"),M=I("react.legacy_hidden")}var z=typeof Symbol=="function"&&Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:typeof(a=z&&a[z]||a["@@iterator"])=="function"?a:null}function $(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case f:return"Fragment";case d:return"Portal";case m:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Consumer";case v:return(a._context.displayName||"Context")+".Provider";case S:var u=a.render;return u=u.displayName||u.name||"",a.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case T:return $(a.type);case C:return $(a._render);case b:u=a._payload,a=a._init;try{return $(a(u))}catch{}}return null}function q(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do(1026&(u=a).flags)!=0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function L(a){if(q(a)!==a)throw Error(o(188))}function B(a){var u=a.alternate;if(!u){if((u=q(a))===null)throw Error(o(188));return u!==a?null:a}for(var h=a,g=u;;){var y=h.return;if(y===null)break;var E=y.alternate;if(E===null){if((g=y.return)!==null){h=g;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===h)return L(y),a;if(E===g)return L(y),u;E=E.sibling}throw Error(o(188))}if(h.return!==g.return)h=y,g=E;else{for(var P=!1,A=y.child;A;){if(A===h){P=!0,h=y,g=E;break}if(A===g){P=!0,g=y,h=E;break}A=A.sibling}if(!P){for(A=E.child;A;){if(A===h){P=!0,h=E,g=y;break}if(A===g){P=!0,g=E,h=y;break}A=A.sibling}if(!P)throw Error(o(189))}}if(h.alternate!==g)throw Error(o(190))}if(h.tag!==3)throw Error(o(188));return h.stateNode.current===h?a:u}function ue(a){if(!(a=B(a)))return null;for(var u=a;;){if(u.tag===5||u.tag===6)return u;if(u.child)u.child.return=u,u=u.child;else{if(u===a)break;for(;!u.sibling;){if(!u.return||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}}return null}function he(a,u){for(var h=a.alternate;u!==null;){if(u===a||u===h)return!0;u=u.return}return!1}var Q,xe=e.getPublicInstance,Ce=e.getRootHostContext,j=e.getChildHostContext,U=e.prepareForCommit,N=e.resetAfterCommit,H=e.createInstance,V=e.appendInitialChild,se=e.finalizeInitialChildren,me=e.prepareUpdate,we=e.shouldSetTextContent,Te=e.createTextInstance,Ie=e.scheduleTimeout,Fe=e.cancelTimeout,ke=e.noTimeout,Me=e.isPrimaryRenderer,Ae=e.supportsMutation,Rt=e.supportsPersistence,Je=e.supportsHydration,Ii=e.getInstanceFromNode,Rg=e.makeOpaqueHydratingObject,Rh=e.makeClientId,kg=e.beforeActiveInstanceBlur,kE=e.afterActiveInstanceBlur,ME=e.preparePortalMount,Co=e.supportsTestSelectors,DE=e.findFiberRoot,NE=e.getBoundingRect,FE=e.getTextContent,Po=e.isHiddenSubtree,BE=e.matchAccessibilityRole,LE=e.setFocusIfFocusable,OE=e.setupIntersectionObserver,UE=e.appendChild,zE=e.appendChildToContainer,GE=e.commitTextUpdate,HE=e.commitMount,jE=e.commitUpdate,$E=e.insertBefore,VE=e.insertInContainerBefore,XE=e.removeChild,WE=e.removeChildFromContainer,Mg=e.resetTextContent,YE=e.hideInstance,qE=e.hideTextInstance,QE=e.unhideInstance,KE=e.unhideTextInstance,kh=e.clearContainer,ZE=e.cloneInstance,Dg=e.createContainerChildSet,Ng=e.appendChildToContainerChildSet,JE=e.finalizeContainerChildren,Fg=e.replaceContainerChildren,Bg=e.cloneHiddenInstance,Lg=e.cloneHiddenTextInstance,eb=e.canHydrateInstance,tb=e.canHydrateTextInstance,nb=e.isSuspenseInstancePending,rb=e.isSuspenseInstanceFallback,Mh=e.getNextHydratableSibling,Og=e.getFirstHydratableChild,ib=e.hydrateInstance,sb=e.hydrateTextInstance,ob=e.getNextHydratableInstanceAfterSuspenseInstance,Ug=e.commitHydratedContainer,ab=e.commitHydratedSuspenseInstance;function Ao(a){if(Q===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Q=u&&u[1]||""}return`
`+Q+a}var Dh=!1;function Tl(a,u){if(!a||Dh)return"";Dh=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(O){var g=O}Reflect.construct(a,[],u)}else{try{u.call()}catch(O){g=O}a.call(u.prototype)}else{try{throw Error()}catch(O){g=O}a()}}catch(O){if(O&&g&&typeof O.stack=="string"){for(var y=O.stack.split(`
`),E=g.stack.split(`
`),P=y.length-1,A=E.length-1;1<=P&&0<=A&&y[P]!==E[A];)A--;for(;1<=P&&0<=A;P--,A--)if(y[P]!==E[A]){if(P!==1||A!==1)do if(P--,0>--A||y[P]!==E[A])return`
`+y[P].replace(" at new "," at ");while(1<=P&&0<=A);break}}}finally{Dh=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?Ao(a):""}var Nh=[],fs=-1;function Gr(a){return{current:a}}function $e(a){0>fs||(a.current=Nh[fs],Nh[fs]=null,fs--)}function et(a,u){fs++,Nh[fs]=a.current,a.current=u}var Hr={},kt=Gr(Hr),jt=Gr(!1),Ri=Hr;function ps(a,u){var h=a.type.contextTypes;if(!h)return Hr;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var y,E={};for(y in h)E[y]=u[y];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=E),E}function $t(a){return(a=a.childContextTypes)!=null}function Sl(){$e(jt),$e(kt)}function zg(a,u,h){if(kt.current!==Hr)throw Error(o(168));et(kt,u),et(jt,h)}function Gg(a,u,h){var g=a.stateNode;if(a=u.childContextTypes,typeof g.getChildContext!="function")return h;for(var y in g=g.getChildContext())if(!(y in a))throw Error(o(108,$(u)||"Unknown",y));return r({},h,g)}function Cl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Hr,Ri=kt.current,et(kt,a),et(jt,jt.current),!0}function Hg(a,u,h){var g=a.stateNode;if(!g)throw Error(o(169));h?(a=Gg(a,u,Ri),g.__reactInternalMemoizedMergedChildContext=a,$e(jt),$e(kt),et(kt,a)):$e(jt),et(jt,h)}var Fh=null,ki=null;(0,s.unstable_now)();var Pl=0,Be=8;function Mi(a){if((1&a)!=0)return Be=15,1;if((2&a)!=0)return Be=14,2;if((4&a)!=0)return Be=13,4;var u=24&a;return u!==0?(Be=12,u):(32&a)!=0?(Be=11,32):(u=192&a)!==0?(Be=10,u):(256&a)!=0?(Be=9,256):(u=3584&a)!==0?(Be=8,u):(4096&a)!=0?(Be=7,4096):(u=4186112&a)!==0?(Be=6,u):(u=62914560&a)!==0?(Be=5,u):67108864&a?(Be=4,67108864):(134217728&a)!=0?(Be=3,134217728):(u=805306368&a)!==0?(Be=2,u):(1073741824&a)!=0?(Be=1,1073741824):(Be=8,a)}function Io(a,u){var h=a.pendingLanes;if(h===0)return Be=0;var g=0,y=0,E=a.expiredLanes,P=a.suspendedLanes,A=a.pingedLanes;if(E!==0)g=E,y=Be=15;else if((E=134217727&h)!==0){var O=E&~P;O!==0?(g=Mi(O),y=Be):(A&=E)!==0&&(g=Mi(A),y=Be)}else(E=h&~P)!==0?(g=Mi(E),y=Be):A!==0&&(g=Mi(A),y=Be);if(g===0)return 0;if(g=h&((0>(g=31-jr(g))?0:1<<g)<<1)-1,u!==0&&u!==g&&(u&P)==0){if(Mi(u),y<=Be)return u;Be=y}if((u=a.entangledLanes)!==0)for(a=a.entanglements,u&=g;0<u;)y=1<<(h=31-jr(u)),g|=a[h],u&=~y;return g}function jg(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function Al(a,u){switch(a){case 15:return 1;case 14:return 2;case 12:return(a=ms(24&~u))===0?Al(10,u):a;case 10:return(a=ms(192&~u))===0?Al(8,u):a;case 8:return(a=ms(3584&~u))===0&&(a=ms(4186112&~u))===0&&(a=512),a;case 2:return(u=ms(805306368&~u))===0&&(u=268435456),u}throw Error(o(358,a))}function ms(a){return a&-a}function Bh(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Il(a,u,h){a.pendingLanes|=u;var g=u-1;a.suspendedLanes&=g,a.pingedLanes&=g,(a=a.eventTimes)[u=31-jr(u)]=h}var jr=Math.clz32?Math.clz32:function(a){return a===0?32:31-(lb(a)/ub|0)|0},lb=Math.log,ub=Math.LN2,cb=s.unstable_runWithPriority,Lh=s.unstable_scheduleCallback,Oh=s.unstable_cancelCallback,hb=s.unstable_shouldYield,$g=s.unstable_requestPaint,Uh=s.unstable_now,db=s.unstable_getCurrentPriorityLevel,Rl=s.unstable_ImmediatePriority,Vg=s.unstable_UserBlockingPriority,Xg=s.unstable_NormalPriority,Wg=s.unstable_LowPriority,Yg=s.unstable_IdlePriority,zh={},fb=$g!==void 0?$g:function(){},pr=null,kl=null,Gh=!1,qg=Uh(),_t=1e4>qg?Uh:function(){return Uh()-qg};function gs(){switch(db()){case Rl:return 99;case Vg:return 98;case Xg:return 97;case Wg:return 96;case Yg:return 95;default:throw Error(o(332))}}function Qg(a){switch(a){case 99:return Rl;case 98:return Vg;case 97:return Xg;case 96:return Wg;case 95:return Yg;default:throw Error(o(332))}}function mr(a,u){return a=Qg(a),cb(a,u)}function Ro(a,u,h){return a=Qg(a),Lh(a,u,h)}function un(){if(kl!==null){var a=kl;kl=null,Oh(a)}Kg()}function Kg(){if(!Gh&&pr!==null){Gh=!0;var a=0;try{var u=pr;mr(99,function(){for(;a<u.length;a++){var h=u[a];do h=h(!0);while(h!==null)}}),pr=null}catch(h){throw pr!==null&&(pr=pr.slice(a+1)),Lh(Rl,un),h}finally{Gh=!1}}}var pb=l.ReactCurrentBatchConfig,cn=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},mb=Object.prototype.hasOwnProperty;function Ml(a,u){if(cn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++)if(!mb.call(u,h[g])||!cn(a[h[g]],u[h[g]]))return!1;return!0}function gb(a){switch(a.tag){case 5:return Ao(a.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return a=Tl(a.type,!1);case 11:return a=Tl(a.type.render,!1);case 22:return a=Tl(a.type._render,!1);case 1:return a=Tl(a.type,!0);default:return""}}function Tn(a,u){if(a&&a.defaultProps){for(var h in u=r({},u),a=a.defaultProps)u[h]===void 0&&(u[h]=a[h]);return u}return u}var Dl=Gr(null),Nl=null,ys=null,Fl=null;function Hh(){Fl=ys=Nl=null}function Zg(a,u){a=a.type._context,Me?(et(Dl,a._currentValue),a._currentValue=u):(et(Dl,a._currentValue2),a._currentValue2=u)}function jh(a){var u=Dl.current;$e(Dl),a=a.type._context,Me?a._currentValue=u:a._currentValue2=u}function Jg(a,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&u)===u){if(h===null||(h.childLanes&u)===u)break;h.childLanes|=u}else a.childLanes|=u,h!==null&&(h.childLanes|=u);a=a.return}}function vs(a,u){Nl=a,Fl=ys=null,(a=a.dependencies)!==null&&a.firstContext!==null&&((a.lanes&u)!=0&&(Sn=!0),a.firstContext=null)}function hn(a,u){if(Fl!==a&&u!==!1&&u!==0)if(typeof u=="number"&&u!==1073741823||(Fl=a,u=1073741823),u={context:a,observedBits:u,next:null},ys===null){if(Nl===null)throw Error(o(308));ys=u,Nl.dependencies={lanes:0,firstContext:u,responders:null}}else ys=ys.next=u;return Me?a._currentValue:a._currentValue2}var $r=!1;function $h(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function e0(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Vr(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Xr(a,u){if((a=a.updateQueue)!==null){var h=(a=a.shared).pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}}function t0(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&h===(g=g.updateQueue)){var y=null,E=null;if((h=h.firstBaseUpdate)!==null){do{var P={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?y=E=P:E=E.next=P,h=h.next}while(h!==null);E===null?y=E=u:E=E.next=u}else y=E=u;return h={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:g.shared,effects:g.effects},void(a.updateQueue=h)}(a=h.lastBaseUpdate)===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function ko(a,u,h,g){var y=a.updateQueue;$r=!1;var E=y.firstBaseUpdate,P=y.lastBaseUpdate,A=y.shared.pending;if(A!==null){y.shared.pending=null;var O=A,K=O.next;O.next=null,P===null?E=K:P.next=K,P=O;var oe=a.alternate;if(oe!==null){var pe=(oe=oe.updateQueue).lastBaseUpdate;pe!==P&&(pe===null?oe.firstBaseUpdate=K:pe.next=K,oe.lastBaseUpdate=O)}}if(E!==null){for(pe=y.baseState,P=0,oe=K=O=null;;){A=E.lane;var ee=E.eventTime;if((g&A)===A){oe!==null&&(oe=oe.next={eventTime:ee,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Ue=a,qe=E;switch(A=u,ee=h,qe.tag){case 1:if(typeof(Ue=qe.payload)=="function"){pe=Ue.call(ee,pe,A);break e}pe=Ue;break e;case 3:Ue.flags=-4097&Ue.flags|64;case 0:if((A=typeof(Ue=qe.payload)=="function"?Ue.call(ee,pe,A):Ue)==null)break e;pe=r({},pe,A);break e;case 2:$r=!0}}E.callback!==null&&(a.flags|=32,(A=y.effects)===null?y.effects=[E]:A.push(E))}else ee={eventTime:ee,lane:A,tag:E.tag,payload:E.payload,callback:E.callback,next:null},oe===null?(K=oe=ee,O=pe):oe=oe.next=ee,P|=A;if((E=E.next)===null){if((A=y.shared.pending)===null)break;E=A.next,A.next=null,y.lastBaseUpdate=A,y.shared.pending=null}}oe===null&&(O=pe),y.baseState=O,y.firstBaseUpdate=K,y.lastBaseUpdate=oe,Vo|=P,a.lanes=P,a.memoizedState=pe}}function n0(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],y=g.callback;if(y!==null){if(g.callback=null,g=h,typeof y!="function")throw Error(o(191,y));y.call(g)}}}var r0=new i.Component().refs;function Bl(a,u,h,g){h=(h=h(g,u=a.memoizedState))==null?u:r({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ll={isMounted:function(a){return!!(a=a._reactInternals)&&q(a)===a},enqueueSetState:function(a,u,h){a=a._reactInternals;var g=Xt(),y=qr(a),E=Vr(g,y);E.payload=u,h!=null&&(E.callback=h),Xr(a,E),xr(a,y,g)},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=Xt(),y=qr(a),E=Vr(g,y);E.tag=1,E.payload=u,h!=null&&(E.callback=h),Xr(a,E),xr(a,y,g)},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=Xt(),g=qr(a),y=Vr(h,g);y.tag=2,u!=null&&(y.callback=u),Xr(a,y),xr(a,g,h)}};function i0(a,u,h,g,y,E,P){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,E,P):!u.prototype||!u.prototype.isPureReactComponent||!Ml(h,g)||!Ml(y,E)}function s0(a,u,h){var g=!1,y=Hr,E=u.contextType;return typeof E=="object"&&E!==null?E=hn(E):(y=$t(u)?Ri:kt.current,E=(g=(g=u.contextTypes)!=null)?ps(a,y):Hr),u=new u(h,E),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ll,a.stateNode=u,u._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=E),u}function o0(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&Ll.enqueueReplaceState(u,u.state,null)}function Vh(a,u,h,g){var y=a.stateNode;y.props=h,y.state=a.memoizedState,y.refs=r0,$h(a);var E=u.contextType;typeof E=="object"&&E!==null?y.context=hn(E):(E=$t(u)?Ri:kt.current,y.context=ps(a,E)),ko(a,h,y,g),y.state=a.memoizedState,typeof(E=u.getDerivedStateFromProps)=="function"&&(Bl(a,u,E,h),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(u=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),u!==y.state&&Ll.enqueueReplaceState(y,y.state,null),ko(a,h,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4)}var Ol=Array.isArray;function Mo(a,u,h){if((a=h.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner){if(h.tag!==1)throw Error(o(309));var g=h.stateNode}if(!g)throw Error(o(147,a));var y=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===y?u.ref:((u=function(E){var P=g.refs;P===r0&&(P=g.refs={}),E===null?delete P[y]:P[y]=E})._stringRef=y,u)}if(typeof a!="string")throw Error(o(284));if(!h._owner)throw Error(o(290,a))}return a}function Ul(a,u){if(a.type!=="textarea")throw Error(o(31,Object.prototype.toString.call(u)==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":u))}function a0(a){function u(F,k){if(a){var G=F.lastEffect;G!==null?(G.nextEffect=k,F.lastEffect=k):F.firstEffect=F.lastEffect=k,k.nextEffect=null,k.flags=8}}function h(F,k){if(!a)return null;for(;k!==null;)u(F,k),k=k.sibling;return null}function g(F,k){for(F=new Map;k!==null;)k.key!==null?F.set(k.key,k):F.set(k.index,k),k=k.sibling;return F}function y(F,k){return(F=Kr(F,k)).index=0,F.sibling=null,F}function E(F,k,G){return F.index=G,a?(G=F.alternate)!==null?(G=G.index)<k?(F.flags=2,k):G:(F.flags=2,k):k}function P(F){return a&&F.alternate===null&&(F.flags=2),F}function A(F,k,G,te){return k===null||k.tag!==6?((k=Dd(G,F.mode,te)).return=F,k):((k=y(k,G)).return=F,k)}function O(F,k,G,te){return k!==null&&k.elementType===G.type?((te=y(k,G.props)).ref=Mo(F,k,G),te.return=F,te):((te=du(G.type,G.key,G.props,null,F.mode,te)).ref=Mo(F,k,G),te.return=F,te)}function K(F,k,G,te){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?((k=Nd(G,F.mode,te)).return=F,k):((k=y(k,G.children||[])).return=F,k)}function oe(F,k,G,te,ce){return k===null||k.tag!==7?((k=Cs(G,F.mode,te,ce)).return=F,k):((k=y(k,G)).return=F,k)}function pe(F,k,G){if(typeof k=="string"||typeof k=="number")return(k=Dd(""+k,F.mode,G)).return=F,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case c:return(G=du(k.type,k.key,k.props,null,F.mode,G)).ref=Mo(F,null,k),G.return=F,G;case d:return(k=Nd(k,F.mode,G)).return=F,k}if(Ol(k)||X(k))return(k=Cs(k,F.mode,G,null)).return=F,k;Ul(F,k)}return null}function ee(F,k,G,te){var ce=k!==null?k.key:null;if(typeof G=="string"||typeof G=="number")return ce!==null?null:A(F,k,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===ce?G.type===f?oe(F,k,G.props.children,te,ce):O(F,k,G,te):null;case d:return G.key===ce?K(F,k,G,te):null}if(Ol(G)||X(G))return ce!==null?null:oe(F,k,G,te,null);Ul(F,G)}return null}function Ue(F,k,G,te,ce){if(typeof te=="string"||typeof te=="number")return A(k,F=F.get(G)||null,""+te,ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return F=F.get(te.key===null?G:te.key)||null,te.type===f?oe(k,F,te.props.children,ce,te.key):O(k,F,te,ce);case d:return K(k,F=F.get(te.key===null?G:te.key)||null,te,ce)}if(Ol(te)||X(te))return oe(k,F=F.get(G)||null,te,ce,null);Ul(k,te)}return null}function qe(F,k,G,te){for(var ce=null,Le=null,ye=k,De=k=0,Et=null;ye!==null&&De<G.length;De++){ye.index>De?(Et=ye,ye=null):Et=ye.sibling;var Re=ee(F,ye,G[De],te);if(Re===null){ye===null&&(ye=Et);break}a&&ye&&Re.alternate===null&&u(F,ye),k=E(Re,k,De),Le===null?ce=Re:Le.sibling=Re,Le=Re,ye=Et}if(De===G.length)return h(F,ye),ce;if(ye===null){for(;De<G.length;De++)(ye=pe(F,G[De],te))!==null&&(k=E(ye,k,De),Le===null?ce=ye:Le.sibling=ye,Le=ye);return ce}for(ye=g(F,ye);De<G.length;De++)(Et=Ue(ye,F,De,G[De],te))!==null&&(a&&Et.alternate!==null&&ye.delete(Et.key===null?De:Et.key),k=E(Et,k,De),Le===null?ce=Et:Le.sibling=Et,Le=Et);return a&&ye.forEach(function(Zr){return u(F,Zr)}),ce}function mn(F,k,G,te){var ce=X(G);if(typeof ce!="function")throw Error(o(150));if((G=ce.call(G))==null)throw Error(o(151));for(var Le=ce=null,ye=k,De=k=0,Et=null,Re=G.next();ye!==null&&!Re.done;De++,Re=G.next()){ye.index>De?(Et=ye,ye=null):Et=ye.sibling;var Zr=ee(F,ye,Re.value,te);if(Zr===null){ye===null&&(ye=Et);break}a&&ye&&Zr.alternate===null&&u(F,ye),k=E(Zr,k,De),Le===null?ce=Zr:Le.sibling=Zr,Le=Zr,ye=Et}if(Re.done)return h(F,ye),ce;if(ye===null){for(;!Re.done;De++,Re=G.next())(Re=pe(F,Re.value,te))!==null&&(k=E(Re,k,De),Le===null?ce=Re:Le.sibling=Re,Le=Re);return ce}for(ye=g(F,ye);!Re.done;De++,Re=G.next())(Re=Ue(ye,F,De,Re.value,te))!==null&&(a&&Re.alternate!==null&&ye.delete(Re.key===null?De:Re.key),k=E(Re,k,De),Le===null?ce=Re:Le.sibling=Re,Le=Re);return a&&ye.forEach(function($b){return u(F,$b)}),ce}return function(F,k,G,te){var ce=typeof G=="object"&&G!==null&&G.type===f&&G.key===null;ce&&(G=G.props.children);var Le=typeof G=="object"&&G!==null;if(Le)switch(G.$$typeof){case c:e:{for(Le=G.key,ce=k;ce!==null;){if(ce.key===Le){switch(ce.tag){case 7:if(G.type===f){h(F,ce.sibling),(k=y(ce,G.props.children)).return=F,F=k;break e}break;default:if(ce.elementType===G.type){h(F,ce.sibling),(k=y(ce,G.props)).ref=Mo(F,ce,G),k.return=F,F=k;break e}}h(F,ce);break}u(F,ce),ce=ce.sibling}G.type===f?((k=Cs(G.props.children,F.mode,te,G.key)).return=F,F=k):((te=du(G.type,G.key,G.props,null,F.mode,te)).ref=Mo(F,k,G),te.return=F,F=te)}return P(F);case d:e:{for(ce=G.key;k!==null;){if(k.key===ce){if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){h(F,k.sibling),(k=y(k,G.children||[])).return=F,F=k;break e}h(F,k);break}u(F,k),k=k.sibling}(k=Nd(G,F.mode,te)).return=F,F=k}return P(F)}if(typeof G=="string"||typeof G=="number")return G=""+G,k!==null&&k.tag===6?(h(F,k.sibling),(k=y(k,G)).return=F,F=k):(h(F,k),(k=Dd(G,F.mode,te)).return=F,F=k),P(F);if(Ol(G))return qe(F,k,G,te);if(X(G))return mn(F,k,G,te);if(Le&&Ul(F,G),G===void 0&&!ce)switch(F.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,$(F.type)||"Component"))}return h(F,k)}}var zl=a0(!0),l0=a0(!1),Do={},dn=Gr(Do),No=Gr(Do),_s=Gr(Do);function Xn(a){if(a===Do)throw Error(o(174));return a}function Xh(a,u){et(_s,u),et(No,a),et(dn,Do),a=Ce(u),$e(dn),et(dn,a)}function xs(){$e(dn),$e(No),$e(_s)}function u0(a){var u=Xn(_s.current),h=Xn(dn.current);h!==(u=j(h,a.type,u))&&(et(No,a),et(dn,u))}function Wh(a){No.current===a&&($e(dn),$e(No))}var rt=Gr(0);function Gl(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&((h=h.dehydrated)===null||nb(h)||rb(h)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((64&u.flags)!=0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var gr=null,Di=null,Wn=!1;function c0(a,u){var h=pn(5,null,null,0);h.elementType="DELETED",h.type="DELETED",h.stateNode=u,h.return=a,h.flags=8,a.lastEffect!==null?(a.lastEffect.nextEffect=h,a.lastEffect=h):a.firstEffect=a.lastEffect=h}function h0(a,u){switch(a.tag){case 5:return(u=eb(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,!0);case 6:return(u=tb(u,a.pendingProps))!==null&&(a.stateNode=u,!0);case 13:default:return!1}}function Yh(a){if(Wn){var u=Di;if(u){var h=u;if(!h0(a,u)){if(!(u=Mh(h))||!h0(a,u))return a.flags=-1025&a.flags|2,Wn=!1,void(gr=a);c0(gr,h)}gr=a,Di=Og(u)}else a.flags=-1025&a.flags|2,Wn=!1,gr=a}}function d0(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;gr=a}function Hl(a){if(!Je||a!==gr)return!1;if(!Wn)return d0(a),Wn=!0,!1;var u=a.type;if(a.tag!==5||u!=="head"&&u!=="body"&&!we(u,a.memoizedProps))for(u=Di;u;)c0(a,u),u=Mh(u);if(d0(a),a.tag===13){if(!Je)throw Error(o(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(o(317));Di=ob(a)}else Di=gr?Mh(a.stateNode):null;return!0}function qh(){Je&&(Di=gr=null,Wn=!1)}var ws=[];function Qh(){for(var a=0;a<ws.length;a++){var u=ws[a];Me?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}ws.length=0}var Fo=l.ReactCurrentDispatcher,fn=l.ReactCurrentBatchConfig,Bo=0,it=null,Lt=null,xt=null,jl=!1,Lo=!1;function Vt(){throw Error(o(321))}function Kh(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!cn(a[h],u[h]))return!1;return!0}function Zh(a,u,h,g,y,E){if(Bo=E,it=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Fo.current=a===null||a.memoizedState===null?vb:_b,a=h(g,y),Lo){E=0;do{if(Lo=!1,!(25>E))throw Error(o(301));E+=1,xt=Lt=null,u.updateQueue=null,Fo.current=xb,a=h(g,y)}while(Lo)}if(Fo.current=Wl,u=Lt!==null&&Lt.next!==null,Bo=0,xt=Lt=it=null,jl=!1,u)throw Error(o(300));return a}function Ni(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?it.memoizedState=xt=a:xt=xt.next=a,xt}function Fi(){if(Lt===null){var a=it.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var u=xt===null?it.memoizedState:xt.next;if(u!==null)xt=u,Lt=a;else{if(a===null)throw Error(o(310));a={memoizedState:(Lt=a).memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},xt===null?it.memoizedState=xt=a:xt=xt.next=a}return xt}function Yn(a,u){return typeof u=="function"?u(a):u}function Oo(a){var u=Fi(),h=u.queue;if(h===null)throw Error(o(311));h.lastRenderedReducer=a;var g=Lt,y=g.baseQueue,E=h.pending;if(E!==null){if(y!==null){var P=y.next;y.next=E.next,E.next=P}g.baseQueue=y=E,h.pending=null}if(y!==null){y=y.next,g=g.baseState;var A=P=E=null,O=y;do{var K=O.lane;if((Bo&K)===K)A!==null&&(A=A.next={lane:0,action:O.action,eagerReducer:O.eagerReducer,eagerState:O.eagerState,next:null}),g=O.eagerReducer===a?O.eagerState:a(g,O.action);else{var oe={lane:K,action:O.action,eagerReducer:O.eagerReducer,eagerState:O.eagerState,next:null};A===null?(P=A=oe,E=g):A=A.next=oe,it.lanes|=K,Vo|=K}O=O.next}while(O!==null&&O!==y);A===null?E=g:A.next=P,cn(g,u.memoizedState)||(Sn=!0),u.memoizedState=g,u.baseState=E,u.baseQueue=A,h.lastRenderedState=g}return[u.memoizedState,h.dispatch]}function Uo(a){var u=Fi(),h=u.queue;if(h===null)throw Error(o(311));h.lastRenderedReducer=a;var g=h.dispatch,y=h.pending,E=u.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do E=a(E,P.action),P=P.next;while(P!==y);cn(E,u.memoizedState)||(Sn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),h.lastRenderedState=E}return[E,g]}function f0(a,u,h){var g=u._getVersion;g=g(u._source);var y=Me?u._workInProgressVersionPrimary:u._workInProgressVersionSecondary;if(y!==null?a=y===g:(a=a.mutableReadLanes,(a=(Bo&a)===a)&&(Me?u._workInProgressVersionPrimary=g:u._workInProgressVersionSecondary=g,ws.push(u))),a)return h(u._source);throw ws.push(u),Error(o(350))}function p0(a,u,h,g){var y=Ot;if(y===null)throw Error(o(349));var E=u._getVersion,P=E(u._source),A=Fo.current,O=A.useState(function(){return f0(y,u,h)}),K=O[1],oe=O[0];O=xt;var pe=a.memoizedState,ee=pe.refs,Ue=ee.getSnapshot,qe=pe.source;pe=pe.subscribe;var mn=it;return a.memoizedState={refs:ee,source:u,subscribe:g},A.useEffect(function(){ee.getSnapshot=h,ee.setSnapshot=K;var F=E(u._source);if(!cn(P,F)){F=h(u._source),cn(oe,F)||(K(F),F=qr(mn),y.mutableReadLanes|=F&y.pendingLanes),F=y.mutableReadLanes,y.entangledLanes|=F;for(var k=y.entanglements,G=F;0<G;){var te=31-jr(G),ce=1<<te;k[te]|=F,G&=~ce}}},[h,u,g]),A.useEffect(function(){return g(u._source,function(){var F=ee.getSnapshot,k=ee.setSnapshot;try{k(F(u._source));var G=qr(mn);y.mutableReadLanes|=G&y.pendingLanes}catch(te){k(function(){throw te})}})},[u,g]),cn(Ue,h)&&cn(qe,u)&&cn(pe,g)||((a={pending:null,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:oe}).dispatch=K=nd.bind(null,it,a),O.queue=a,O.baseQueue=null,oe=f0(y,u,h),O.memoizedState=O.baseState=oe),oe}function m0(a,u,h){return p0(Fi(),a,u,h)}function zo(a){var u=Ni();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a=(a=u.queue={pending:null,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:a}).dispatch=nd.bind(null,it,a),[u.memoizedState,a]}function $l(a,u,h,g){return a={tag:a,create:u,destroy:h,deps:g,next:null},(u=it.updateQueue)===null?(u={lastEffect:null},it.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect)===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a),a}function g0(a){return a={current:a},Ni().memoizedState=a}function Vl(){return Fi().memoizedState}function Jh(a,u,h,g){var y=Ni();it.flags|=a,y.memoizedState=$l(1|u,h,void 0,g===void 0?null:g)}function ed(a,u,h,g){var y=Fi();g=g===void 0?null:g;var E=void 0;if(Lt!==null){var P=Lt.memoizedState;if(E=P.destroy,g!==null&&Kh(g,P.deps))return void $l(u,h,E,g)}it.flags|=a,y.memoizedState=$l(1|u,h,E,g)}function y0(a,u){return Jh(516,4,a,u)}function Xl(a,u){return ed(516,4,a,u)}function v0(a,u){return ed(4,2,a,u)}function _0(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function x0(a,u,h){return h=h!=null?h.concat([a]):null,ed(4,2,_0.bind(null,u,a),h)}function td(){}function w0(a,u){var h=Fi();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Kh(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function E0(a,u){var h=Fi();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Kh(u,g[1])?g[0]:(a=a(),h.memoizedState=[a,u],a)}function yb(a,u){var h=gs();mr(98>h?98:h,function(){a(!0)}),mr(97<h?97:h,function(){var g=fn.transition;fn.transition=1;try{a(!1),u()}finally{fn.transition=g}})}function nd(a,u,h){var g=Xt(),y=qr(a),E={lane:y,action:h,eagerReducer:null,eagerState:null,next:null},P=u.pending;if(P===null?E.next=E:(E.next=P.next,P.next=E),u.pending=E,P=a.alternate,a===it||P!==null&&P===it)Lo=jl=!0;else{if(a.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer)!==null)try{var A=u.lastRenderedState,O=P(A,h);if(E.eagerReducer=P,E.eagerState=O,cn(O,A))return}catch{}xr(a,y,g)}}var Wl={readContext:hn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useOpaqueIdentifier:Vt,unstable_isNewReconciler:!1},vb={readContext:hn,useCallback:function(a,u){return Ni().memoizedState=[a,u===void 0?null:u],a},useContext:hn,useEffect:y0,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,Jh(4,2,_0.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Jh(4,2,a,u)},useMemo:function(a,u){var h=Ni();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var g=Ni();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,a=(a=g.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:u}).dispatch=nd.bind(null,it,a),[g.memoizedState,a]},useRef:g0,useState:zo,useDebugValue:td,useDeferredValue:function(a){var u=zo(a),h=u[0],g=u[1];return y0(function(){var y=fn.transition;fn.transition=1;try{g(a)}finally{fn.transition=y}},[a]),h},useTransition:function(){var a=zo(!1),u=a[0];return g0(a=yb.bind(null,a[1])),[a,u]},useMutableSource:function(a,u,h){var g=Ni();return g.memoizedState={refs:{getSnapshot:u,setSnapshot:null},source:a,subscribe:h},p0(g,a,u,h)},useOpaqueIdentifier:function(){if(Wn){var a=!1,u=Rg(function(){throw a||(a=!0,h(Rh())),Error(o(355))}),h=zo(u)[1];return(2&it.mode)==0&&(it.flags|=516,$l(5,function(){h(Rh())},void 0,null)),u}return zo(u=Rh()),u},unstable_isNewReconciler:!1},_b={readContext:hn,useCallback:w0,useContext:hn,useEffect:Xl,useImperativeHandle:x0,useLayoutEffect:v0,useMemo:E0,useReducer:Oo,useRef:Vl,useState:function(){return Oo(Yn)},useDebugValue:td,useDeferredValue:function(a){var u=Oo(Yn),h=u[0],g=u[1];return Xl(function(){var y=fn.transition;fn.transition=1;try{g(a)}finally{fn.transition=y}},[a]),h},useTransition:function(){var a=Oo(Yn)[0];return[Vl().current,a]},useMutableSource:m0,useOpaqueIdentifier:function(){return Oo(Yn)[0]},unstable_isNewReconciler:!1},xb={readContext:hn,useCallback:w0,useContext:hn,useEffect:Xl,useImperativeHandle:x0,useLayoutEffect:v0,useMemo:E0,useReducer:Uo,useRef:Vl,useState:function(){return Uo(Yn)},useDebugValue:td,useDeferredValue:function(a){var u=Uo(Yn),h=u[0],g=u[1];return Xl(function(){var y=fn.transition;fn.transition=1;try{g(a)}finally{fn.transition=y}},[a]),h},useTransition:function(){var a=Uo(Yn)[0];return[Vl().current,a]},useMutableSource:m0,useOpaqueIdentifier:function(){return Uo(Yn)[0]},unstable_isNewReconciler:!1},wb=l.ReactCurrentOwner,Sn=!1;function en(a,u,h,g){u.child=a===null?l0(u,null,h,g):zl(u,a.child,h,g)}function b0(a,u,h,g,y){h=h.render;var E=u.ref;return vs(u,y),g=Zh(a,u,h,g,E,y),a===null||Sn?(u.flags|=1,en(a,u,g,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-517,a.lanes&=~y,yr(a,u,y))}function T0(a,u,h,g,y,E){if(a===null){var P=h.type;return typeof P!="function"||kd(P)||P.defaultProps!==void 0||h.compare!==null||h.defaultProps!==void 0?((a=du(h.type,null,g,u,u.mode,E)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=P,S0(a,u,P,g,y,E))}return P=a.child,(y&E)==0&&(y=P.memoizedProps,(h=(h=h.compare)!==null?h:Ml)(y,g)&&a.ref===u.ref)?yr(a,u,E):(u.flags|=1,(a=Kr(P,g)).ref=u.ref,a.return=u,u.child=a)}function S0(a,u,h,g,y,E){if(a!==null&&Ml(a.memoizedProps,g)&&a.ref===u.ref){if(Sn=!1,(E&y)==0)return u.lanes=a.lanes,yr(a,u,E);(16384&a.flags)!=0&&(Sn=!0)}return rd(a,u,h,g,E)}function C0(a,u,h){var g=u.pendingProps,y=g.children,E=a!==null?a.memoizedState:null;if(g.mode==="hidden"||g.mode==="unstable-defer-without-hiding")if((4&u.mode)==0)u.memoizedState={baseLanes:0},uu(u,h);else{if((1073741824&h)==0)return a=E!==null?E.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a},uu(u,a),null;u.memoizedState={baseLanes:0},uu(u,E!==null?E.baseLanes:h)}else E!==null?(g=E.baseLanes|h,u.memoizedState=null):g=h,uu(u,g);return en(a,u,y,h),u.child}function P0(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=128)}function rd(a,u,h,g,y){var E=$t(h)?Ri:kt.current;return E=ps(u,E),vs(u,y),h=Zh(a,u,h,g,E,y),a===null||Sn?(u.flags|=1,en(a,u,h,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-517,a.lanes&=~y,yr(a,u,y))}function A0(a,u,h,g,y){if($t(h)){var E=!0;Cl(u)}else E=!1;if(vs(u,y),u.stateNode===null)a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2),s0(u,h,g),Vh(u,h,g,y),g=!0;else if(a===null){var P=u.stateNode,A=u.memoizedProps;P.props=A;var O=P.context,K=h.contextType;typeof K=="object"&&K!==null?K=hn(K):K=ps(u,K=$t(h)?Ri:kt.current);var oe=h.getDerivedStateFromProps,pe=typeof oe=="function"||typeof P.getSnapshotBeforeUpdate=="function";pe||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(A!==g||O!==K)&&o0(u,P,g,K),$r=!1;var ee=u.memoizedState;P.state=ee,ko(u,g,P,y),O=u.memoizedState,A!==g||ee!==O||jt.current||$r?(typeof oe=="function"&&(Bl(u,h,oe,g),O=u.memoizedState),(A=$r||i0(u,h,A,g,ee,O,K))?(pe||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4)):(typeof P.componentDidMount=="function"&&(u.flags|=4),u.memoizedProps=g,u.memoizedState=O),P.props=g,P.state=O,P.context=K,g=A):(typeof P.componentDidMount=="function"&&(u.flags|=4),g=!1)}else{P=u.stateNode,e0(a,u),A=u.memoizedProps,K=u.type===u.elementType?A:Tn(u.type,A),P.props=K,pe=u.pendingProps,ee=P.context,typeof(O=h.contextType)=="object"&&O!==null?O=hn(O):O=ps(u,O=$t(h)?Ri:kt.current);var Ue=h.getDerivedStateFromProps;(oe=typeof Ue=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(A!==pe||ee!==O)&&o0(u,P,g,O),$r=!1,ee=u.memoizedState,P.state=ee,ko(u,g,P,y);var qe=u.memoizedState;A!==pe||ee!==qe||jt.current||$r?(typeof Ue=="function"&&(Bl(u,h,Ue,g),qe=u.memoizedState),(K=$r||i0(u,h,K,g,ee,qe,O))?(oe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,qe,O),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,qe,O)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=256)):(typeof P.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(u.flags|=256),u.memoizedProps=g,u.memoizedState=qe),P.props=g,P.state=qe,P.context=O,g=K):(typeof P.componentDidUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ee===a.memoizedState||(u.flags|=256),g=!1)}return id(a,u,h,g,E,y)}function id(a,u,h,g,y,E){P0(a,u);var P=(64&u.flags)!=0;if(!g&&!P)return y&&Hg(u,h,!1),yr(a,u,E);g=u.stateNode,wb.current=u;var A=P&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&P?(u.child=zl(u,a.child,null,E),u.child=zl(u,null,A,E)):en(a,u,A,E),u.memoizedState=g.state,y&&Hg(u,h,!0),u.child}function I0(a){var u=a.stateNode;u.pendingContext?zg(0,u.pendingContext,u.pendingContext!==u.context):u.context&&zg(0,u.context,!1),Xh(a,u.containerInfo)}var Go,Ho,Yl,ql,sd={dehydrated:null,retryLane:0};function R0(a,u,h){var g,y=u.pendingProps,E=rt.current,P=!1;return(g=(64&u.flags)!=0)||(g=(a===null||a.memoizedState!==null)&&(2&E)!=0),g?(P=!0,u.flags&=-65):a!==null&&a.memoizedState===null||y.fallback===void 0||y.unstable_avoidThisFallback===!0||(E|=1),et(rt,1&E),a===null?(y.fallback!==void 0&&Yh(u),a=y.children,E=y.fallback,P?(a=k0(u,a,E,h),u.child.memoizedState={baseLanes:h},u.memoizedState=sd,a):typeof y.unstable_expectedLoadTime=="number"?(a=k0(u,a,E,h),u.child.memoizedState={baseLanes:h},u.memoizedState=sd,u.lanes=33554432,a):((h=Md({mode:"visible",children:a},u.mode,h,null)).return=u,u.child=h)):(a.memoizedState,P?(y=bb(a,u,y.children,y.fallback,h),P=u.child,E=a.child.memoizedState,P.memoizedState=E===null?{baseLanes:h}:{baseLanes:E.baseLanes|h},P.childLanes=a.childLanes&~h,u.memoizedState=sd,y):(h=Eb(a,u,y.children,h),u.memoizedState=null,h))}function k0(a,u,h,g){var y=a.mode,E=a.child;return u={mode:"hidden",children:u},(2&y)==0&&E!==null?(E.childLanes=0,E.pendingProps=u):E=Md(u,y,0,null),h=Cs(h,y,g,null),E.return=a,h.return=a,E.sibling=h,a.child=E,h}function Eb(a,u,h,g){var y=a.child;return a=y.sibling,h=Kr(y,{mode:"visible",children:h}),(2&u.mode)==0&&(h.lanes=g),h.return=u,h.sibling=null,a!==null&&(a.nextEffect=null,a.flags=8,u.firstEffect=u.lastEffect=a),u.child=h}function bb(a,u,h,g,y){var E=u.mode,P=a.child;a=P.sibling;var A={mode:"hidden",children:h};return(2&E)==0&&u.child!==P?((h=u.child).childLanes=0,h.pendingProps=A,(P=h.lastEffect)!==null?(u.firstEffect=h.firstEffect,u.lastEffect=P,P.nextEffect=null):u.firstEffect=u.lastEffect=null):h=Kr(P,A),a!==null?g=Kr(a,g):(g=Cs(g,E,y,null)).flags|=2,g.return=u,h.return=u,h.sibling=g,u.child=h,g}function M0(a,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u),Jg(a.return,u)}function od(a,u,h,g,y,E){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:y,lastEffect:E}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=h,P.tailMode=y,P.lastEffect=E)}function D0(a,u,h){var g=u.pendingProps,y=g.revealOrder,E=g.tail;if(en(a,u,g.children,h),(2&(g=rt.current))!=0)g=1&g|2,u.flags|=64;else{if(a!==null&&(64&a.flags)!=0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&M0(a,h);else if(a.tag===19)M0(a,h);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(et(rt,g),(2&u.mode)==0)u.memoizedState=null;else switch(y){case"forwards":for(h=u.child,y=null;h!==null;)(a=h.alternate)!==null&&Gl(a)===null&&(y=h),h=h.sibling;(h=y)===null?(y=u.child,u.child=null):(y=h.sibling,h.sibling=null),od(u,!1,y,h,E,u.lastEffect);break;case"backwards":for(h=null,y=u.child,u.child=null;y!==null;){if((a=y.alternate)!==null&&Gl(a)===null){u.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}od(u,!0,h,null,E,u.lastEffect);break;case"together":od(u,!1,null,null,void 0,u.lastEffect);break;default:u.memoizedState=null}return u.child}function yr(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Vo|=u.lanes,(h&u.childLanes)!=0){if(a!==null&&u.child!==a.child)throw Error(o(153));if(u.child!==null){for(h=Kr(a=u.child,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,(h=h.sibling=Kr(a,a.pendingProps)).return=u;h.sibling=null}return u.child}return null}function qn(a){a.flags|=4}if(Ae)Go=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)V(a,h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Ho=function(){},Yl=function(a,u,h,g,y){if((a=a.memoizedProps)!==g){var E=u.stateNode,P=Xn(dn.current);h=me(E,h,a,g,y,P),(u.updateQueue=h)&&qn(u)}},ql=function(a,u,h,g){h!==g&&qn(u)};else if(Rt){Go=function(a,u,h,g){for(var y=u.child;y!==null;){if(y.tag===5){var E=y.stateNode;h&&g&&(E=Bg(E,y.type,y.memoizedProps,y)),V(a,E)}else if(y.tag===6)E=y.stateNode,h&&g&&(E=Lg(E,y.memoizedProps,y)),V(a,E);else if(y.tag!==4){if(y.tag===13&&(4&y.flags)!=0&&(E=y.memoizedState!==null)){var P=y.child;if(P!==null&&(P.child!==null&&(P.child.return=P,Go(a,P,!0,E)),(E=P.sibling)!==null)){E.return=y,y=E;continue}}if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var N0=function(a,u,h,g){for(var y=u.child;y!==null;){if(y.tag===5){var E=y.stateNode;h&&g&&(E=Bg(E,y.type,y.memoizedProps,y)),Ng(a,E)}else if(y.tag===6)E=y.stateNode,h&&g&&(E=Lg(E,y.memoizedProps,y)),Ng(a,E);else if(y.tag!==4){if(y.tag===13&&(4&y.flags)!=0&&(E=y.memoizedState!==null)){var P=y.child;if(P!==null&&(P.child!==null&&(P.child.return=P,N0(a,P,!0,E)),(E=P.sibling)!==null)){E.return=y,y=E;continue}}if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Ho=function(a){var u=a.stateNode;if(a.firstEffect!==null){var h=u.containerInfo,g=Dg(h);N0(g,a,!1,!1),u.pendingChildren=g,qn(a),JE(h,g)}},Yl=function(a,u,h,g,y){var E=a.stateNode,P=a.memoizedProps;if((a=u.firstEffect===null)&&P===g)u.stateNode=E;else{var A=u.stateNode,O=Xn(dn.current),K=null;P!==g&&(K=me(A,h,P,g,y,O)),a&&K===null?u.stateNode=E:(E=ZE(E,K,h,P,g,u,a,A),se(E,h,g,y,O)&&qn(u),u.stateNode=E,a?qn(u):Go(E,u,!1,!1))}},ql=function(a,u,h,g){h!==g?(a=Xn(_s.current),h=Xn(dn.current),u.stateNode=Te(g,a,h,u),qn(u)):u.stateNode=a.stateNode}}else Ho=function(){},Yl=function(){},ql=function(){};function jo(a,u){if(!Wn)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Tb(a,u,h){var g=u.pendingProps;switch(u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return $t(u.type)&&Sl(),null;case 3:return xs(),$e(jt),$e(kt),Qh(),(g=u.stateNode).pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),a!==null&&a.child!==null||(Hl(u)?qn(u):g.hydrate||(u.flags|=256)),Ho(u),null;case 5:Wh(u);var y=Xn(_s.current);if(h=u.type,a!==null&&u.stateNode!=null)Yl(a,u,h,g,y),a.ref!==u.ref&&(u.flags|=128);else{if(!g){if(u.stateNode===null)throw Error(o(166));return null}if(a=Xn(dn.current),Hl(u)){if(!Je)throw Error(o(175));a=ib(u.stateNode,u.type,u.memoizedProps,y,a,u),u.updateQueue=a,a!==null&&qn(u)}else{var E=H(h,g,y,a,u);Go(E,u,!1,!1),u.stateNode=E,se(E,h,g,y,a)&&qn(u)}u.ref!==null&&(u.flags|=128)}return null;case 6:if(a&&u.stateNode!=null)ql(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(o(166));if(a=Xn(_s.current),y=Xn(dn.current),Hl(u)){if(!Je)throw Error(o(176));sb(u.stateNode,u.memoizedProps,u)&&qn(u)}else u.stateNode=Te(g,a,y,u)}return null;case 13:return $e(rt),g=u.memoizedState,(64&u.flags)!=0?(u.lanes=h,u):(g=g!==null,y=!1,a===null?u.memoizedProps.fallback!==void 0&&Hl(u):y=a.memoizedState!==null,g&&!y&&(2&u.mode)!=0&&(a===null&&u.memoizedProps.unstable_avoidThisFallback!==!0||(1&rt.current)!=0?wt===0&&(wt=3):(wt!==0&&wt!==3||(wt=4),Ot===null||(134217727&Vo)==0&&(134217727&bs)==0||Ts(Ot,Mt))),Rt&&g&&(u.flags|=4),Ae&&(g||y)&&(u.flags|=4),null);case 4:return xs(),Ho(u),a===null&&ME(u.stateNode.containerInfo),null;case 10:return jh(u),null;case 17:return $t(u.type)&&Sl(),null;case 19:if($e(rt),(g=u.memoizedState)===null)return null;if(y=(64&u.flags)!=0,(E=g.rendering)===null)if(y)jo(g,!1);else{if(wt!==0||a!==null&&(64&a.flags)!=0)for(a=u.child;a!==null;){if((E=Gl(a))!==null){for(u.flags|=64,jo(g,!1),(a=E.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),g.lastEffect===null&&(u.firstEffect=null),u.lastEffect=g.lastEffect,a=h,g=u.child;g!==null;)h=a,(y=g).flags&=2,y.nextEffect=null,y.firstEffect=null,y.lastEffect=null,(E=y.alternate)===null?(y.childLanes=0,y.lanes=h,y.child=null,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,h=E.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),g=g.sibling;return et(rt,1&rt.current|2),u.child}a=a.sibling}g.tail!==null&&_t()>Ed&&(u.flags|=64,y=!0,jo(g,!1),u.lanes=33554432)}else{if(!y)if((a=Gl(E))!==null){if(u.flags|=64,y=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),jo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Wn)return(u=u.lastEffect=g.lastEffect)!==null&&(u.nextEffect=null),null}else 2*_t()-g.renderingStartTime>Ed&&h!==1073741824&&(u.flags|=64,y=!0,jo(g,!1),u.lanes=33554432);g.isBackwards?(E.sibling=u.child,u.child=E):((a=g.last)!==null?a.sibling=E:u.child=E,g.last=E)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.lastEffect=u.lastEffect,g.renderingStartTime=_t(),a.sibling=null,u=rt.current,et(rt,y?1&u|2:1&u),a):null;case 23:case 24:return Ad(),a!==null&&a.memoizedState!==null!=(u.memoizedState!==null)&&g.mode!=="unstable-defer-without-hiding"&&(u.flags|=4),null}throw Error(o(156,u.tag))}function Sb(a){switch(a.tag){case 1:$t(a.type)&&Sl();var u=a.flags;return 4096&u?(a.flags=-4097&u|64,a):null;case 3:if(xs(),$e(jt),$e(kt),Qh(),(64&(u=a.flags))!=0)throw Error(o(285));return a.flags=-4097&u|64,a;case 5:return Wh(a),null;case 13:return $e(rt),4096&(u=a.flags)?(a.flags=-4097&u|64,a):null;case 19:return $e(rt),null;case 4:return xs(),null;case 10:return jh(a),null;case 23:case 24:return Ad(),null;default:return null}}function ad(a,u){try{var h="",g=u;do h+=gb(g),g=g.return;while(g);var y=h}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:u,stack:y}}function ld(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function F0(a,u,h){(h=Vr(-1,h)).tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){su||(su=!0,bd=g),ld(0,u)},h}function B0(a,u,h){(h=Vr(-1,h)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;h.payload=function(){return ld(0,u),g(y)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){typeof g!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this),ld(0,u));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})}),h}var Pb=typeof WeakSet=="function"?WeakSet:Set;function L0(a){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Qr(a,h)}else u.current=null}function Ab(a,u){switch(u.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&u.flags&&a!==null){var h=a.memoizedProps,g=a.memoizedState;u=(a=u.stateNode).getSnapshotBeforeUpdate(u.elementType===u.type?h:Tn(u.type,h),g),a.__reactInternalSnapshotBeforeUpdate=u}return;case 3:return void(Ae&&256&u.flags&&kh(u.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function O0(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var h=u=u.next;do{if((h.tag&a)===a){var g=h.destroy;h.destroy=void 0,g!==void 0&&g()}h=h.next}while(h!==u)}}function Ib(a,u,h){switch(h.tag){case 0:case 11:case 15:case 22:if((u=(u=h.updateQueue)!==null?u.lastEffect:null)!==null){a=u=u.next;do{if((3&a.tag)==3){var g=a.create;a.destroy=g()}a=a.next}while(a!==u)}if((u=(u=h.updateQueue)!==null?u.lastEffect:null)!==null){a=u=u.next;do{var y=a;g=y.next,(4&(y=y.tag))!=0&&(1&y)!=0&&(ny(h,a),Bb(h,a)),a=g}while(a!==u)}return;case 1:return a=h.stateNode,4&h.flags&&(u===null?a.componentDidMount():(g=h.elementType===h.type?u.memoizedProps:Tn(h.type,u.memoizedProps),a.componentDidUpdate(g,u.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),void((u=h.updateQueue)!==null&&n0(h,u,a));case 3:if((u=h.updateQueue)!==null){if(a=null,h.child!==null)switch(h.child.tag){case 5:a=xe(h.child.stateNode);break;case 1:a=h.child.stateNode}n0(h,u,a)}return;case 5:return a=h.stateNode,void(u===null&&4&h.flags&&HE(a,h.type,h.memoizedProps,h));case 6:case 4:case 12:return;case 13:return void(Je&&h.memoizedState===null&&(h=h.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&ab(h)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function U0(a,u){if(Ae)for(var h=a;;){if(h.tag===5){var g=h.stateNode;u?YE(g):QE(h.stateNode,h.memoizedProps)}else if(h.tag===6)g=h.stateNode,u?qE(g):KE(g,h.memoizedProps);else if((h.tag!==23&&h.tag!==24||h.memoizedState===null||h===a)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}}function z0(a,u){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Fh,u)}catch{}switch(u.tag){case 0:case 11:case 14:case 15:case 22:if((a=u.updateQueue)!==null&&(a=a.lastEffect)!==null){var h=a=a.next;do{var g=h,y=g.destroy;if(g=g.tag,y!==void 0)if((4&g)!=0)ny(u,h);else{g=u;try{y()}catch(E){Qr(g,E)}}h=h.next}while(h!==a)}break;case 1:if(L0(u),typeof(a=u.stateNode).componentWillUnmount=="function")try{a.props=u.memoizedProps,a.state=u.memoizedState,a.componentWillUnmount()}catch(E){Qr(u,E)}break;case 5:L0(u);break;case 4:Ae?V0(a,u):Rt&&Rt&&(u=u.stateNode.containerInfo,a=Dg(u),Fg(u,a))}}function G0(a,u){for(var h=u;;)if(z0(a,h),h.child===null||Ae&&h.tag===4){if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}else h.child.return=h,h=h.child}function H0(a){a.alternate=null,a.child=null,a.dependencies=null,a.firstEffect=null,a.lastEffect=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.return=null,a.updateQueue=null}function j0(a){return a.tag===5||a.tag===3||a.tag===4}function $0(a){if(Ae){e:{for(var u=a.return;u!==null;){if(j0(u))break e;u=u.return}throw Error(o(160))}var h=u;switch(u=h.stateNode,h.tag){case 5:var g=!1;break;case 3:case 4:u=u.containerInfo,g=!0;break;default:throw Error(o(161))}16&h.flags&&(Mg(u),h.flags&=-17);e:t:for(h=a;;){for(;h.sibling===null;){if(h.return===null||j0(h.return)){h=null;break e}h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue t;h.child.return=h,h=h.child}if(!(2&h.flags)){h=h.stateNode;break e}}g?ud(a,h,u):cd(a,h,u)}}function ud(a,u,h){var g=a.tag,y=g===5||g===6;if(y)a=y?a.stateNode:a.stateNode.instance,u?VE(h,a,u):zE(h,a);else if(g!==4&&(a=a.child)!==null)for(ud(a,u,h),a=a.sibling;a!==null;)ud(a,u,h),a=a.sibling}function cd(a,u,h){var g=a.tag,y=g===5||g===6;if(y)a=y?a.stateNode:a.stateNode.instance,u?$E(h,a,u):UE(h,a);else if(g!==4&&(a=a.child)!==null)for(cd(a,u,h),a=a.sibling;a!==null;)cd(a,u,h),a=a.sibling}function V0(a,u){for(var h,g,y=u,E=!1;;){if(!E){E=y.return;e:for(;;){if(E===null)throw Error(o(160));switch(h=E.stateNode,E.tag){case 5:g=!1;break e;case 3:case 4:h=h.containerInfo,g=!0;break e}E=E.return}E=!0}if(y.tag===5||y.tag===6)G0(a,y),g?WE(h,y.stateNode):XE(h,y.stateNode);else if(y.tag===4){if(y.child!==null){h=y.stateNode.containerInfo,g=!0,y.child.return=y,y=y.child;continue}}else if(z0(a,y),y.child!==null){y.child.return=y,y=y.child;continue}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;(y=y.return).tag===4&&(E=!1)}y.sibling.return=y.return,y=y.sibling}}function hd(a,u){if(Ae){switch(u.tag){case 0:case 11:case 14:case 15:case 22:return void O0(3,u);case 1:return;case 5:var h=u.stateNode;if(h!=null){var g=u.memoizedProps;a=a!==null?a.memoizedProps:g;var y=u.type,E=u.updateQueue;u.updateQueue=null,E!==null&&jE(h,E,y,a,g,u)}return;case 6:if(u.stateNode===null)throw Error(o(162));return h=u.memoizedProps,void GE(u.stateNode,a!==null?a.memoizedProps:h,h);case 3:return void(Je&&(u=u.stateNode,u.hydrate&&(u.hydrate=!1,Ug(u.containerInfo))));case 12:return;case 13:return X0(u),void Ql(u);case 19:return void Ql(u);case 17:return;case 23:case 24:return void U0(u,u.memoizedState!==null)}throw Error(o(163))}switch(u.tag){case 0:case 11:case 14:case 15:case 22:return void O0(3,u);case 12:return;case 13:return X0(u),void Ql(u);case 19:return void Ql(u);case 3:Je&&(h=u.stateNode).hydrate&&(h.hydrate=!1,Ug(h.containerInfo));break;case 23:case 24:return}e:if(Rt){switch(u.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:u=u.stateNode,Fg(u.containerInfo,u.pendingChildren);break e}throw Error(o(163))}}function X0(a){a.memoizedState!==null&&(wd=_t(),Ae&&U0(a.child,!0))}function Ql(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new Pb),u.forEach(function(g){var y=Ub.bind(null,a,g);h.has(g)||(h.add(g),g.then(y,y))})}}function Rb(a,u){return a!==null&&((a=a.memoizedState)===null||a.dehydrated!==null)&&(u=u.memoizedState)!==null&&u.dehydrated===null}var Kl=0,Zl=1,Jl=2,eu=3,tu=4;if(typeof Symbol=="function"&&Symbol.for){var $o=Symbol.for;Kl=$o("selector.component"),Zl=$o("selector.has_pseudo_class"),Jl=$o("selector.role"),eu=$o("selector.test_id"),tu=$o("selector.text")}function dd(a){var u=Ii(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(o(364));return u}if((a=DE(a))===null)throw Error(o(362));return a.stateNode.current}function fd(a,u){switch(u.$$typeof){case Kl:if(a.type===u.value)return!0;break;case Zl:e:{u=u.value,a=[a,0];for(var h=0;h<a.length;){var g=a[h++],y=a[h++],E=u[y];if(g.tag!==5||!Po(g)){for(;E!=null&&fd(g,E);)E=u[++y];if(y===u.length){u=!0;break e}for(g=g.child;g!==null;)a.push(g,y),g=g.sibling}}u=!1}return u;case Jl:if(a.tag===5&&BE(a.stateNode,u.value))return!0;break;case tu:if((a.tag===5||a.tag===6)&&(a=FE(a))!==null&&0<=a.indexOf(u.value))return!0;break;case eu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(o(365,u))}return!1}function pd(a){switch(a.$$typeof){case Kl:return"<"+($(a.value)||"Unknown")+">";case Zl:return":has("+(pd(a)||"")+")";case Jl:return'[role="'+a.value+'"]';case tu:return'"'+a.value+'"';case eu:return'[data-testname="'+a.value+'"]';default:throw Error(o(365,a))}}function W0(a,u){var h=[];a=[a,0];for(var g=0;g<a.length;){var y=a[g++],E=a[g++],P=u[E];if(y.tag!==5||!Po(y)){for(;P!=null&&fd(y,P);)P=u[++E];if(E===u.length)h.push(y);else for(y=y.child;y!==null;)a.push(y,E),y=y.sibling}}return h}function md(a,u){if(!Co)throw Error(o(363));a=W0(a=dd(a),u),u=[],a=Array.from(a);for(var h=0;h<a.length;){var g=a[h++];if(g.tag===5)Po(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return u}var nu=null,kb=Math.ceil,ru=l.ReactCurrentDispatcher,gd=l.ReactCurrentOwner,yd=l.IsSomeRendererActing,ge=0,Ot=null,ht=null,Mt=0,Bi=0,vd=Gr(0),wt=0,iu=null,Es=0,Vo=0,bs=0,_d=0,xd=null,wd=0,Ed=1/0;function Wr(){Ed=_t()+500}var Y0,re=null,su=!1,bd=null,Qn=null,Yr=!1,Xo=null,Wo=90,Td=[],Sd=[],vr=null,Yo=0,Cd=null,ou=-1,_r=0,au=0,qo=null,Qo=!1;function Xt(){return(48&ge)!=0?_t():ou!==-1?ou:ou=_t()}function qr(a){if((2&(a=a.mode))==0)return 1;if((4&a)==0)return gs()===99?1:2;if(_r===0&&(_r=Es),pb.transition!==0){au!==0&&(au=xd!==null?xd.pendingLanes:0),a=_r;var u=4186112&~au;return(u&=-u)===0&&(u=(a=4186112&~a)&-a)===0&&(u=8192),u}return a=gs(),(4&ge)!=0&&a===98?a=Al(12,_r):a=Al(a=function(h){switch(h){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(a),_r),a}function xr(a,u,h){if(50<Yo)throw Yo=0,Cd=null,Error(o(185));if((a=lu(a,u))===null)return null;Il(a,u,h),a===Ot&&(bs|=u,wt===4&&Ts(a,Mt));var g=gs();u===1?(8&ge)!=0&&(48&ge)==0?Pd(a):(tn(a,h),ge===0&&(Wr(),un())):((4&ge)==0||g!==98&&g!==99||(vr===null?vr=new Set([a]):vr.add(a)),tn(a,h)),xd=a}function lu(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,(h=a.alternate)!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}function tn(a,u){for(var h=a.callbackNode,g=a.suspendedLanes,y=a.pingedLanes,E=a.expirationTimes,P=a.pendingLanes;0<P;){var A=31-jr(P),O=1<<A,K=E[A];if(K===-1){if((O&g)==0||(O&y)!=0){K=u,Mi(O);var oe=Be;E[A]=10<=oe?K+250:6<=oe?K+5e3:-1}}else K<=u&&(a.expiredLanes|=O);P&=~O}if(g=Io(a,a===Ot?Mt:0),u=Be,g===0)h!==null&&(h!==zh&&Oh(h),a.callbackNode=null,a.callbackPriority=0);else{if(h!==null){if(a.callbackPriority===u)return;h!==zh&&Oh(h)}u===15?(h=Pd.bind(null,a),pr===null?(pr=[h],kl=Lh(Rl,Kg)):pr.push(h),h=zh):u===14?h=Ro(99,Pd.bind(null,a)):h=Ro(h=function(pe){switch(pe){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,pe))}}(u),q0.bind(null,a)),a.callbackPriority=u,a.callbackNode=h}}function q0(a){if(ou=-1,au=_r=0,(48&ge)!=0)throw Error(o(327));var u=a.callbackNode;if(wr()&&a.callbackNode!==u)return null;var h=Io(a,a===Ot?Mt:0);if(h===0)return null;var g=h,y=ge;ge|=16;var E=J0();for(Ot===a&&Mt===g||(Wr(),Ss(a,g));;)try{Db();break}catch(A){Z0(a,A)}if(Hh(),ru.current=E,ge=y,ht!==null?g=0:(Ot=null,Mt=0,g=wt),(Es&bs)!=0)Ss(a,0);else if(g!==0){if(g===2&&(ge|=64,a.hydrate&&(a.hydrate=!1,kh(a.containerInfo)),(h=jg(a))!==0&&(g=Ko(a,h))),g===1)throw u=iu,Ss(a,0),Ts(a,h),tn(a,_t()),u;switch(a.finishedWork=a.current.alternate,a.finishedLanes=h,g){case 0:case 1:throw Error(o(345));case 2:Li(a);break;case 3:if(Ts(a,h),(62914560&h)===h&&10<(g=wd+500-_t())){if(Io(a,0)!==0)break;if(((y=a.suspendedLanes)&h)!==h){Xt(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Ie(Li.bind(null,a),g);break}Li(a);break;case 4:if(Ts(a,h),(4186112&h)===h)break;for(g=a.eventTimes,y=-1;0<h;){var P=31-jr(h);E=1<<P,(P=g[P])>y&&(y=P),h&=~E}if(h=y,10<(h=(120>(h=_t()-h)?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*kb(h/1960))-h)){a.timeoutHandle=Ie(Li.bind(null,a),h);break}Li(a);break;case 5:Li(a);break;default:throw Error(o(329))}}return tn(a,_t()),a.callbackNode===u?q0.bind(null,a):null}function Ts(a,u){for(u&=~_d,u&=~bs,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-jr(u),g=1<<h;a[h]=-1,u&=~g}}function Pd(a){if((48&ge)!=0)throw Error(o(327));if(wr(),a===Ot&&(a.expiredLanes&Mt)!=0){var u=Mt,h=Ko(a,u);(Es&bs)!=0&&(h=Ko(a,u=Io(a,u)))}else h=Ko(a,u=Io(a,0));if(a.tag!==0&&h===2&&(ge|=64,a.hydrate&&(a.hydrate=!1,kh(a.containerInfo)),(u=jg(a))!==0&&(h=Ko(a,u))),h===1)throw h=iu,Ss(a,0),Ts(a,u),tn(a,_t()),h;return a.finishedWork=a.current.alternate,a.finishedLanes=u,Li(a),tn(a,_t()),null}function Q0(a,u){var h=ge;ge|=1;try{return a(u)}finally{(ge=h)===0&&(Wr(),un())}}function K0(a,u){var h=ge;if((48&h)!=0)return a(u);ge|=1;try{if(a)return mr(99,a.bind(null,u))}finally{ge=h,un()}}function uu(a,u){et(vd,Bi),Bi|=u,Es|=u}function Ad(){Bi=vd.current,$e(vd)}function Ss(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==ke&&(a.timeoutHandle=ke,Fe(h)),ht!==null)for(h=ht.return;h!==null;){var g=h;switch(g.tag){case 1:(g=g.type.childContextTypes)!=null&&Sl();break;case 3:xs(),$e(jt),$e(kt),Qh();break;case 5:Wh(g);break;case 4:xs();break;case 13:case 19:$e(rt);break;case 10:jh(g);break;case 23:case 24:Ad()}h=h.return}Ot=a,ht=Kr(a.current,null),Mt=Bi=Es=u,wt=0,iu=null,_d=bs=Vo=0}function Z0(a,u){for(;;){var h=ht;try{if(Hh(),Fo.current=Wl,jl){for(var g=it.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}jl=!1}if(Bo=0,xt=Lt=it=null,Lo=!1,gd.current=null,h===null||h.return===null){wt=1,iu=u,ht=null;break}e:{var E=a,P=h.return,A=h,O=u;if(u=Mt,A.flags|=2048,A.firstEffect=A.lastEffect=null,O!==null&&typeof O=="object"&&typeof O.then=="function"){var K=O;if((2&A.mode)==0){var oe=A.alternate;oe?(A.updateQueue=oe.updateQueue,A.memoizedState=oe.memoizedState,A.lanes=oe.lanes):(A.updateQueue=null,A.memoizedState=null)}var pe=(1&rt.current)!=0,ee=P;do{var Ue;if(Ue=ee.tag===13){var qe=ee.memoizedState;if(qe!==null)Ue=qe.dehydrated!==null;else{var mn=ee.memoizedProps;Ue=mn.fallback!==void 0&&(mn.unstable_avoidThisFallback!==!0||!pe)}}if(Ue){var F=ee.updateQueue;if(F===null){var k=new Set;k.add(K),ee.updateQueue=k}else F.add(K);if((2&ee.mode)==0){if(ee.flags|=64,A.flags|=16384,A.flags&=-2981,A.tag===1)if(A.alternate===null)A.tag=17;else{var G=Vr(-1,1);G.tag=2,Xr(A,G)}A.lanes|=1;break e}O=void 0,A=u;var te=E.pingCache;if(te===null?(te=E.pingCache=new Cb,O=new Set,te.set(K,O)):(O=te.get(K))===void 0&&(O=new Set,te.set(K,O)),!O.has(A)){O.add(A);var ce=Ob.bind(null,E,K,A);K.then(ce,ce)}ee.flags|=4096,ee.lanes=u;break e}ee=ee.return}while(ee!==null);O=Error(($(A.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}wt!==5&&(wt=2),O=ad(O,A),ee=P;do{switch(ee.tag){case 3:E=O,ee.flags|=4096,u&=-u,ee.lanes|=u,t0(ee,F0(0,E,u));break e;case 1:E=O;var Le=ee.type,ye=ee.stateNode;if((64&ee.flags)==0&&(typeof Le.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Qn===null||!Qn.has(ye)))){ee.flags|=4096,u&=-u,ee.lanes|=u,t0(ee,B0(ee,E,u));break e}}ee=ee.return}while(ee!==null)}ty(h)}catch(De){u=De,ht===h&&h!==null&&(ht=h=h.return);continue}break}}function J0(){var a=ru.current;return ru.current=Wl,a===null?Wl:a}function Ko(a,u){var h=ge;ge|=16;var g=J0();for(Ot===a&&Mt===u||Ss(a,u);;)try{Mb();break}catch(y){Z0(a,y)}if(Hh(),ge=h,ru.current=g,ht!==null)throw Error(o(261));return Ot=null,Mt=0,wt}function Mb(){for(;ht!==null;)ey(ht)}function Db(){for(;ht!==null&&!hb();)ey(ht)}function ey(a){var u=Y0(a.alternate,a,Bi);a.memoizedProps=a.pendingProps,u===null?ty(a):ht=u,gd.current=null}function ty(a){var u=a;do{var h=u.alternate;if(a=u.return,(2048&u.flags)==0){if((h=Tb(h,u,Bi))!==null)return void(ht=h);if((h=u).tag!==24&&h.tag!==23||h.memoizedState===null||(1073741824&Bi)!=0||(4&h.mode)==0){for(var g=0,y=h.child;y!==null;)g|=y.lanes|y.childLanes,y=y.sibling;h.childLanes=g}a!==null&&(2048&a.flags)==0&&(a.firstEffect===null&&(a.firstEffect=u.firstEffect),u.lastEffect!==null&&(a.lastEffect!==null&&(a.lastEffect.nextEffect=u.firstEffect),a.lastEffect=u.lastEffect),1<u.flags&&(a.lastEffect!==null?a.lastEffect.nextEffect=u:a.firstEffect=u,a.lastEffect=u))}else{if((h=Sb(u))!==null)return h.flags&=2047,void(ht=h);a!==null&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}if((u=u.sibling)!==null)return void(ht=u);ht=u=a}while(u!==null);wt===0&&(wt=5)}function Li(a){var u=gs();return mr(99,Nb.bind(null,a,u)),null}function Nb(a,u){do wr();while(Xo!==null);if((48&ge)!=0)throw Error(o(327));var h=a.finishedWork;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(o(177));a.callbackNode=null;var g=h.lanes|h.childLanes,y=g,E=a.pendingLanes&~y;a.pendingLanes=y,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=y,a.mutableReadLanes&=y,a.entangledLanes&=y,y=a.entanglements;for(var P=a.eventTimes,A=a.expirationTimes;0<E;){var O=31-jr(E),K=1<<O;y[O]=0,P[O]=-1,A[O]=-1,E&=~K}if(vr!==null&&(24&g)==0&&vr.has(a)&&vr.delete(a),a===Ot&&(ht=Ot=null,Mt=0),1<h.flags?h.lastEffect!==null?(h.lastEffect.nextEffect=h,g=h.firstEffect):g=h:g=h.firstEffect,g!==null){y=ge,ge|=32,gd.current=null,qo=U(a.containerInfo),Qo=!1,re=g;do try{Fb()}catch(k){if(re===null)throw Error(o(330));Qr(re,k),re=re.nextEffect}while(re!==null);qo=null,re=g;do try{for(P=a;re!==null;){var oe=re.flags;if(16&oe&&Ae&&Mg(re.stateNode),128&oe){var pe=re.alternate;if(pe!==null){var ee=pe.ref;ee!==null&&(typeof ee=="function"?ee(null):ee.current=null)}}switch(1038&oe){case 2:$0(re),re.flags&=-3;break;case 6:$0(re),re.flags&=-3,hd(re.alternate,re);break;case 1024:re.flags&=-1025;break;case 1028:re.flags&=-1025,hd(re.alternate,re);break;case 4:hd(re.alternate,re);break;case 8:A=P,E=re,Ae?V0(A,E):G0(A,E);var Ue=E.alternate;H0(E),Ue!==null&&H0(Ue)}re=re.nextEffect}}catch(k){if(re===null)throw Error(o(330));Qr(re,k),re=re.nextEffect}while(re!==null);Qo&&kE(),N(a.containerInfo),a.current=h,re=g;do try{for(oe=a;re!==null;){var qe=re.flags;if(36&qe&&Ib(oe,re.alternate,re),128&qe){pe=void 0;var mn=re.ref;if(mn!==null){var F=re.stateNode;switch(re.tag){case 5:pe=xe(F);break;default:pe=F}typeof mn=="function"?mn(pe):mn.current=pe}}re=re.nextEffect}}catch(k){if(re===null)throw Error(o(330));Qr(re,k),re=re.nextEffect}while(re!==null);re=null,fb(),ge=y}else a.current=h;if(Yr)Yr=!1,Xo=a,Wo=u;else for(re=g;re!==null;)u=re.nextEffect,re.nextEffect=null,8&re.flags&&((qe=re).sibling=null,qe.stateNode=null),re=u;if((g=a.pendingLanes)===0&&(Qn=null),g===1?a===Cd?Yo++:(Yo=0,Cd=a):Yo=0,h=h.stateNode,ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Fh,h,void 0,(64&h.current.flags)==64)}catch{}if(tn(a,_t()),su)throw su=!1,a=bd,bd=null,a;return(8&ge)!=0||un(),null}function Fb(){for(;re!==null;){var a=re.alternate;Qo||qo===null||((8&re.flags)!=0?he(re,qo)&&(Qo=!0,kg()):re.tag===13&&Rb(a,re)&&he(re,qo)&&(Qo=!0,kg()));var u=re.flags;(256&u)!=0&&Ab(a,re),(512&u)==0||Yr||(Yr=!0,Ro(97,function(){return wr(),null})),re=re.nextEffect}}function wr(){if(Wo!==90){var a=97<Wo?97:Wo;return Wo=90,mr(a,Lb)}return!1}function Bb(a,u){Td.push(u,a),Yr||(Yr=!0,Ro(97,function(){return wr(),null}))}function ny(a,u){Sd.push(u,a),Yr||(Yr=!0,Ro(97,function(){return wr(),null}))}function Lb(){if(Xo===null)return!1;var a=Xo;if(Xo=null,(48&ge)!=0)throw Error(o(331));var u=ge;ge|=32;var h=Sd;Sd=[];for(var g=0;g<h.length;g+=2){var y=h[g],E=h[g+1],P=y.destroy;if(y.destroy=void 0,typeof P=="function")try{P()}catch(O){if(E===null)throw Error(o(330));Qr(E,O)}}for(h=Td,Td=[],g=0;g<h.length;g+=2){y=h[g],E=h[g+1];try{var A=y.create;y.destroy=A()}catch(O){if(E===null)throw Error(o(330));Qr(E,O)}}for(A=a.current.firstEffect;A!==null;)a=A.nextEffect,A.nextEffect=null,8&A.flags&&(A.sibling=null,A.stateNode=null),A=a;return ge=u,un(),!0}function ry(a,u,h){Xr(a,u=F0(0,u=ad(h,u),1)),u=Xt(),(a=lu(a,1))!==null&&(Il(a,1,u),tn(a,u))}function Qr(a,u){if(a.tag===3)ry(a,a,u);else for(var h=a.return;h!==null;){if(h.tag===3){ry(h,a,u);break}if(h.tag===1){var g=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Qn===null||!Qn.has(g))){var y=B0(h,a=ad(u,a),1);if(Xr(h,y),y=Xt(),(h=lu(h,1))!==null)Il(h,1,y),tn(h,y);else if(typeof g.componentDidCatch=="function"&&(Qn===null||!Qn.has(g)))try{g.componentDidCatch(u,a)}catch{}break}}h=h.return}}function Ob(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),u=Xt(),a.pingedLanes|=a.suspendedLanes&h,Ot===a&&(Mt&h)===h&&(wt===4||wt===3&&(62914560&Mt)===Mt&&500>_t()-wd?Ss(a,0):_d|=h),tn(a,u)}function Ub(a,u){var h=a.stateNode;h!==null&&h.delete(u),(u=0)==0&&((2&(u=a.mode))==0?u=1:(4&u)==0?u=gs()===99?1:2:(_r===0&&(_r=Es),(u=ms(62914560&~_r))===0&&(u=4194304))),h=Xt(),(a=lu(a,u))!==null&&(Il(a,u,h),tn(a,h))}Y0=function(a,u,h){var g=u.lanes;if(a!==null)if(a.memoizedProps!==u.pendingProps||jt.current)Sn=!0;else{if((h&g)==0){switch(Sn=!1,u.tag){case 3:I0(u),qh();break;case 5:u0(u);break;case 1:$t(u.type)&&Cl(u);break;case 4:Xh(u,u.stateNode.containerInfo);break;case 10:Zg(u,u.memoizedProps.value);break;case 13:if(u.memoizedState!==null)return(h&u.child.childLanes)!=0?R0(a,u,h):(et(rt,1&rt.current),(u=yr(a,u,h))!==null?u.sibling:null);et(rt,1&rt.current);break;case 19:if(g=(h&u.childLanes)!=0,(64&a.flags)!=0){if(g)return D0(a,u,h);u.flags|=64}var y=u.memoizedState;if(y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),et(rt,rt.current),g)break;return null;case 23:case 24:return u.lanes=0,C0(a,u,h)}return yr(a,u,h)}Sn=(16384&a.flags)!=0}else Sn=!1;switch(u.lanes=0,u.tag){case 2:if(g=u.type,a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2),a=u.pendingProps,y=ps(u,kt.current),vs(u,h),y=Zh(null,u,g,a,y,h),u.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0){if(u.tag=1,u.memoizedState=null,u.updateQueue=null,$t(g)){var E=!0;Cl(u)}else E=!1;u.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,$h(u);var P=g.getDerivedStateFromProps;typeof P=="function"&&Bl(u,g,P,a),y.updater=Ll,u.stateNode=y,y._reactInternals=u,Vh(u,g,a,h),u=id(null,u,g,!0,E,h)}else u.tag=0,en(null,u,y,h),u=u.child;return u;case 16:y=u.elementType;e:{switch(a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2),a=u.pendingProps,y=(E=y._init)(y._payload),u.type=y,E=u.tag=function(oe){if(typeof oe=="function")return kd(oe)?1:0;if(oe!=null){if((oe=oe.$$typeof)===S)return 11;if(oe===T)return 14}return 2}(y),a=Tn(y,a),E){case 0:u=rd(null,u,y,a,h);break e;case 1:u=A0(null,u,y,a,h);break e;case 11:u=b0(null,u,y,a,h);break e;case 14:u=T0(null,u,y,Tn(y.type,a),g,h);break e}throw Error(o(306,y,""))}return u;case 0:return g=u.type,y=u.pendingProps,rd(a,u,g,y=u.elementType===g?y:Tn(g,y),h);case 1:return g=u.type,y=u.pendingProps,A0(a,u,g,y=u.elementType===g?y:Tn(g,y),h);case 3:if(I0(u),g=u.updateQueue,a===null||g===null)throw Error(o(282));if(g=u.pendingProps,y=(y=u.memoizedState)!==null?y.element:null,e0(a,u),ko(u,g,null,h),(g=u.memoizedState.element)===y)qh(),u=yr(a,u,h);else{if((E=(y=u.stateNode).hydrate)&&(Je?(Di=Og(u.stateNode.containerInfo),gr=u,E=Wn=!0):E=!1),E){if(Je&&(a=y.mutableSourceEagerHydrationData)!=null)for(y=0;y<a.length;y+=2)E=a[y],P=a[y+1],Me?E._workInProgressVersionPrimary=P:E._workInProgressVersionSecondary=P,ws.push(E);for(h=l0(u,null,g,h),u.child=h;h;)h.flags=-3&h.flags|1024,h=h.sibling}else en(a,u,g,h),qh();u=u.child}return u;case 5:return u0(u),a===null&&Yh(u),g=u.type,y=u.pendingProps,E=a!==null?a.memoizedProps:null,P=y.children,we(g,y)?P=null:E!==null&&we(g,E)&&(u.flags|=16),P0(a,u),en(a,u,P,h),u.child;case 6:return a===null&&Yh(u),null;case 13:return R0(a,u,h);case 4:return Xh(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=zl(u,null,g,h):en(a,u,g,h),u.child;case 11:return g=u.type,y=u.pendingProps,b0(a,u,g,y=u.elementType===g?y:Tn(g,y),h);case 7:return en(a,u,u.pendingProps,h),u.child;case 8:case 12:return en(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,y=u.pendingProps,P=u.memoizedProps,Zg(u,E=y.value),P!==null){var A=P.value;if((E=cn(A,E)?0:0|(typeof g._calculateChangedBits=="function"?g._calculateChangedBits(A,E):1073741823))===0){if(P.children===y.children&&!jt.current){u=yr(a,u,h);break e}}else for((A=u.child)!==null&&(A.return=u);A!==null;){var O=A.dependencies;if(O!==null){P=A.child;for(var K=O.firstContext;K!==null;){if(K.context===g&&(K.observedBits&E)!=0){A.tag===1&&((K=Vr(-1,h&-h)).tag=2,Xr(A,K)),A.lanes|=h,(K=A.alternate)!==null&&(K.lanes|=h),Jg(A.return,h),O.lanes|=h;break}K=K.next}}else P=A.tag===10&&A.type===u.type?null:A.child;if(P!==null)P.return=A;else for(P=A;P!==null;){if(P===u){P=null;break}if((A=P.sibling)!==null){A.return=P.return,P=A;break}P=P.return}A=P}}en(a,u,y.children,h),u=u.child}return u;case 9:return y=u.type,g=(E=u.pendingProps).children,vs(u,h),g=g(y=hn(y,E.unstable_observedBits)),u.flags|=1,en(a,u,g,h),u.child;case 14:return E=Tn(y=u.type,u.pendingProps),T0(a,u,y,E=Tn(y.type,E),g,h);case 15:return S0(a,u,u.type,u.pendingProps,g,h);case 17:return g=u.type,y=u.pendingProps,y=u.elementType===g?y:Tn(g,y),a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2),u.tag=1,$t(g)?(a=!0,Cl(u)):a=!1,vs(u,h),s0(u,g,y),Vh(u,g,y,h),id(null,u,g,!0,a,h);case 19:return D0(a,u,h);case 23:case 24:return C0(a,u,h)}throw Error(o(156,u.tag))};var cu={current:!1},Id=s.unstable_flushAllWithoutAsserting,iy=typeof Id=="function";function Rd(){if(Id!==void 0)return Id();for(var a=!1;wr();)a=!0;return a}function sy(a){try{Rd(),function(u){if(nu===null)try{var h=("require"+Math.random()).slice(0,7);nu=(t&&t[h]).call(t,"timers").setImmediate}catch{nu=function(y){var E=new MessageChannel;E.port1.onmessage=y,E.port2.postMessage(void 0)}}nu(u)}(function(){Rd()?sy(a):a()})}catch(u){a(u)}}var hu=0,oy=!1;function zb(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(a,u,h,g){return new zb(a,u,h,g)}function kd(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Kr(a,u){var h=a.alternate;return h===null?((h=pn(a.tag,u,a.key,a.mode)).elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.nextEffect=null,h.firstEffect=null,h.lastEffect=null),h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function du(a,u,h,g,y,E){var P=2;if(g=a,typeof a=="function")kd(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case f:return Cs(h.children,y,E,u);case D:P=8,y|=16;break;case p:P=8,y|=1;break;case m:return(a=pn(12,h,u,8|y)).elementType=m,a.type=m,a.lanes=E,a;case x:return(a=pn(13,h,u,y)).type=x,a.elementType=x,a.lanes=E,a;case w:return(a=pn(19,h,u,y)).elementType=w,a.lanes=E,a;case R:return Md(h,y,E,u);case M:return(a=pn(24,h,u,y)).elementType=M,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:P=10;break e;case _:P=9;break e;case S:P=11;break e;case T:P=14;break e;case b:P=16,g=null;break e;case C:P=22;break e}throw Error(o(130,a==null?a:typeof a,""))}return(u=pn(P,h,u,y)).elementType=a,u.type=g,u.lanes=E,u}function Cs(a,u,h,g){return(a=pn(7,a,g,u)).lanes=h,a}function Md(a,u,h,g){return(a=pn(23,a,g,u)).elementType=R,a.lanes=h,a}function Dd(a,u,h){return(a=pn(6,a,null,u)).lanes=h,a}function Nd(a,u,h){return(u=pn(4,a.children!==null?a.children:[],a.key,u)).lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function Gb(a,u,h){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.pendingContext=this.context=null,this.hydrate=h,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),Je&&(this.mutableSourceEagerHydrationData=null)}function ay(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(o(188)):Error(o(268,Object.keys(a)));return(a=ue(u))===null?null:a.stateNode}function ly(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function fu(a,u){ly(a,u),(a=a.alternate)&&ly(a,u)}function Hb(a){return(a=ue(a))===null?null:a.stateNode}function jb(){return null}return n.IsThisRendererActing=cu,n.act=function(a){function u(){hu--,yd.current=h,cu.current=g}oy===!1&&(oy=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),hu++;var h=yd.current,g=cu.current;yd.current=!0,cu.current=!0;try{var y=Q0(a)}catch(E){throw u(),E}if(y!==null&&typeof y=="object"&&typeof y.then=="function")return{then:function(E,P){y.then(function(){1<hu||iy===!0&&h===!0?(u(),E()):sy(function(A){u(),A?P(A):E()})},function(A){u(),P(A)})}};try{hu!==1||iy!==!1&&h!==!1||Rd(),u()}catch(E){throw u(),E}return{then:function(E){E()}}},n.attemptContinuousHydration=function(a){a.tag===13&&(xr(a,67108864,Xt()),fu(a,67108864))},n.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Xt(),h=qr(a);xr(a,h,u),fu(a,h)}},n.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.hydrate){var h=Mi(u.pendingLanes);u.expiredLanes|=h&u.pendingLanes,tn(u,_t()),(48&ge)==0&&(Wr(),un())}break;case 13:var g=Xt();K0(function(){return xr(a,1,g)}),fu(a,4)}},n.attemptUserBlockingHydration=function(a){a.tag===13&&(xr(a,4,Xt()),fu(a,4))},n.batchedEventUpdates=function(a,u){var h=ge;ge|=2;try{return a(u)}finally{(ge=h)===0&&(Wr(),un())}},n.batchedUpdates=Q0,n.createComponentSelector=function(a){return{$$typeof:Kl,value:a}},n.createContainer=function(a,u,h){return a=new Gb(a,u,h),u=pn(3,null,null,u===2?7:u===1?3:0),a.current=u,u.stateNode=a,$h(u),a},n.createHasPsuedoClassSelector=function(a){return{$$typeof:Zl,value:a}},n.createPortal=function(a,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:g==null?null:""+g,children:a,containerInfo:u,implementation:h}},n.createRoleSelector=function(a){return{$$typeof:Jl,value:a}},n.createTestNameSelector=function(a){return{$$typeof:eu,value:a}},n.createTextSelector=function(a){return{$$typeof:tu,value:a}},n.deferredUpdates=function(a){return mr(97,a)},n.discreteUpdates=function(a,u,h,g,y){var E=ge;ge|=4;try{return mr(98,a.bind(null,u,h,g,y))}finally{(ge=E)===0&&(Wr(),un())}},n.findAllNodes=md,n.findBoundingRects=function(a,u){if(!Co)throw Error(o(363));u=md(a,u),a=[];for(var h=0;h<u.length;h++)a.push(NE(u[h]));for(u=a.length-1;0<u;u--)for(var g=(h=a[u]).x,y=g+h.width,E=h.y,P=E+h.height,A=u-1;0<=A;A--)if(u!==A){var O=a[A],K=O.x,oe=K+O.width,pe=O.y,ee=pe+O.height;if(g>=K&&E>=pe&&y<=oe&&P<=ee){a.splice(u,1);break}if(!(g!==K||h.width!==O.width||ee<E||pe>P)){pe>E&&(O.height+=pe-E,O.y=E),ee<P&&(O.height=P-pe),a.splice(u,1);break}if(!(E!==pe||h.height!==O.height||oe<g||K>y)){K>g&&(O.width+=K-g,O.x=g),oe<y&&(O.width=y-K),a.splice(u,1);break}}return a},n.findHostInstance=ay,n.findHostInstanceWithNoPortals=function(a){return(a=function(u){if(!(u=B(u)))return null;for(var h=u;;){if(h.tag===5||h.tag===6)return h;if(h.child&&h.tag!==4)h.child.return=h,h=h.child;else{if(h===u)break;for(;!h.sibling;){if(!h.return||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}}return null}(a))===null?null:a.tag===20?a.stateNode.instance:a.stateNode},n.findHostInstanceWithWarning=function(a){return ay(a)},n.flushControlled=function(a){var u=ge;ge|=1;try{mr(99,a)}finally{(ge=u)===0&&(Wr(),un())}},n.flushDiscreteUpdates=function(){(49&ge)==0&&(function(){if(vr!==null){var a=vr;vr=null,a.forEach(function(u){u.expiredLanes|=24&u.pendingLanes,tn(u,_t())})}un()}(),wr())},n.flushPassiveEffects=wr,n.flushSync=K0,n.focusWithin=function(a,u){if(!Co)throw Error(o(363));for(u=W0(a=dd(a),u),u=Array.from(u),a=0;a<u.length;){var h=u[a++];if(!Po(h)){if(h.tag===5&&LE(h.stateNode))return!0;for(h=h.child;h!==null;)u.push(h),h=h.sibling}}return!1},n.getCurrentUpdateLanePriority=function(){return Pl},n.getFindAllNodesFailureDescription=function(a,u){if(!Co)throw Error(o(363));var h=0,g=[];a=[dd(a),0];for(var y=0;y<a.length;){var E=a[y++],P=a[y++],A=u[P];if((E.tag!==5||!Po(E))&&(fd(E,A)&&(g.push(pd(A)),++P>h&&(h=P)),P<u.length))for(E=E.child;E!==null;)a.push(E,P),E=E.sibling}if(h<u.length){for(a=[];h<u.length;h++)a.push(pd(u[h]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},n.getPublicRootInstance=function(a){if(!(a=a.current).child)return null;switch(a.child.tag){case 5:return xe(a.child.stateNode);default:return a.child.stateNode}},n.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Hb,findFiberByHostInstance:a.findFiberByHostInstance||jb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u.isDisabled&&u.supportsFiber)try{Fh=u.inject(a),ki=u}catch{}a=!0}return a},n.observeVisibleRects=function(a,u,h,g){if(!Co)throw Error(o(363));a=md(a,u);var y=OE(a,h,g).disconnect;return{disconnect:function(){y()}}},n.registerMutableSourceForHydration=function(a,u){var h=u._getVersion;h=h(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,h]:a.mutableSourceEagerHydrationData.push(u,h)},n.runWithPriority=function(a,u){var h=Pl;try{return Pl=a,u()}finally{Pl=h}},n.shouldSuspend=function(){return!1},n.unbatchedUpdates=function(a,u){var h=ge;ge&=-2,ge|=8;try{return a(u)}finally{(ge=h)===0&&(Wr(),un())}},n.updateContainer=function(a,u,h,g){var y=u.current,E=Xt(),P=qr(y);e:if(h){t:{if(q(h=h._reactInternals)!==h||h.tag!==1)throw Error(o(170));var A=h;do{switch(A.tag){case 3:A=A.stateNode.context;break t;case 1:if($t(A.type)){A=A.stateNode.__reactInternalMemoizedMergedChildContext;break t}}A=A.return}while(A!==null);throw Error(o(171))}if(h.tag===1){var O=h.type;if($t(O)){h=Gg(h,O,A);break e}}h=A}else h=Hr;return u.context===null?u.context=h:u.pendingContext=h,(u=Vr(E,P)).payload={element:a},(g=g===void 0?null:g)!==null&&(u.callback=g),Xr(y,u),xr(y,P,E),P},n}}),GM=0,HM={__interactionsRef:null,__subscriberRef:null,unstable_clear:function(t){return t()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++GM},unstable_subscribe:function(){},unstable_trace:function(t,e,n){return n()},unstable_unsubscribe:function(){},unstable_wrap:function(t){return t}},br=En(function(t,e){});/** @license React v0.20.2
 * scheduler-tracing.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */br.__interactionsRef,br.__subscriberRef,br.unstable_clear,br.unstable_getCurrent,br.unstable_getThreadID,br.unstable_subscribe,br.unstable_trace,br.unstable_unsubscribe,br.unstable_wrap,En(function(t){t.exports=HM}),En(function(t){});var jM=En(function(t){t.exports=zM}),lE={name:"@inlet/react-pixi",version:"6.8.0",description:"Write PixiJS applications using React declarative style.",main:"index.js","umd:main":"umd.js",module:"module.js","jsnext:main":"module.js",author:"Patrick Brouwer <patrick@inlet.nl>",license:"MIT",scripts:{"docz:dev":"rimraf ./docs && docz dev","docz:build":"rimraf ./docs && yarn build:prod && docz build",eslint:"eslint .","build:watch":"cross-env FORMAT=umd NODE_ENV=development rollup -c --watch","build:dev":"cross-env NODE_ENV=development rollup -c","build:prod":"cross-env NODE_ENV=production rollup -c",build:"rimraf ./dist && npm run build:dev && npm run build:prod",test:"jest --silent","test:watch":"jest --silent --watch",prepack:'if-env CI=true && echo "skip build" || (npm run test && npm run eslint && npm run build)'},repository:{type:"git",url:"git+https://github.com/inlet/react-pixi.git"},files:["dist/","animated/","legacy/","LICENSE","index.d.ts","index.js","umd.js","module.js"],typings:"./index.d.ts",devDependencies:{"@babel/cli":"7.14.8","@babel/core":"7.14.8","@babel/plugin-proposal-class-properties":"7.14.5","@babel/plugin-proposal-decorators":"7.14.5","@babel/plugin-proposal-do-expressions":"7.14.5","@babel/plugin-proposal-export-default-from":"7.14.5","@babel/plugin-proposal-export-namespace-from":"7.14.5","@babel/plugin-proposal-function-bind":"7.14.5","@babel/plugin-proposal-function-sent":"7.14.5","@babel/plugin-proposal-json-strings":"7.14.5","@babel/plugin-proposal-logical-assignment-operators":"7.14.5","@babel/plugin-proposal-nullish-coalescing-operator":"7.14.5","@babel/plugin-proposal-numeric-separator":"7.14.5","@babel/plugin-proposal-optional-chaining":"7.14.5","@babel/plugin-proposal-pipeline-operator":"7.14.8","@babel/plugin-proposal-throw-expressions":"7.14.5","@babel/plugin-syntax-dynamic-import":"7.8.3","@babel/plugin-syntax-import-meta":"7.10.4","@babel/plugin-transform-runtime":"7.14.5","@babel/preset-env":"7.14.9","@babel/preset-react":"7.14.5","@babel/runtime":"7.14.8","@rollup/plugin-alias":"3.1.5","@testing-library/react":"12.0.0","@types/jest":"26.0.24","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.26.3","babel-core":"7.0.0-beta.3","babel-eslint":"10.1.0","babel-jest":"26.6.3","babel-plugin-module-resolver":"4.1.0",canvas:"2.8.0","cross-env":"7.0.3",docz:"2.3.1",eslint:"7.32.0","eslint-config-prettier":"8.3.0","eslint-plugin-prettier":"3.4.0","eslint-plugin-react":"7.24.0","if-env":"1.0.4",jest:"26.6.3","jest-webgl-canvas-mock":"0.2.3","lodash.isnil":"4.0.0","lodash.times":"4.3.2","performance-now":"2.1.0","pixi.js":"6.1.0",prettier:"2.3.2","prop-types":"15.7.2",react:"17.0.2","react-dom":"17.0.2","react-reconciler":"0.26.2","react-spring":"9.2.4","react-test-renderer":"17.0.2",rimraf:"3.0.2",rollup:"2.55.1","rollup-plugin-babel":"4.4.0","rollup-plugin-commonjs":"10.1.0","rollup-plugin-filesize":"9.1.1","rollup-plugin-json":"4.0.0","rollup-plugin-node-globals":"1.4.0","rollup-plugin-node-resolve":"5.2.0","rollup-plugin-replace":"2.2.0","rollup-plugin-terser":"7.0.2",typescript:"4.3.5"},peerDependencies:{"pixi.js":"^6.0.0","prop-types":"^15.7.2",react:"^17.0.1","react-dom":"^17.0.1"},jest:{collectCoverage:!1,roots:["./test"],setupFiles:["jest-webgl-canvas-mock","<rootDir>/test/bootstrap.js","<rootDir>/test/__mocks__/matchMediaMock.js"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{}},sm=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function uE(){throw new Error("setTimeout has not been defined")}function cE(){throw new Error("clearTimeout has not been defined")}var ti=uE,ni=cE;function hE(t){if(ti===setTimeout)return setTimeout(t,0);if((ti===uE||!ti)&&setTimeout)return ti=setTimeout,setTimeout(t,0);try{return ti(t,0)}catch{try{return ti.call(null,t,0)}catch{return ti.call(this,t,0)}}}typeof sm.setTimeout=="function"&&(ti=setTimeout),typeof sm.clearTimeout=="function"&&(ni=clearTimeout);var Ki,Dr=[],uo=!1,dc=-1;function $M(){uo&&Ki&&(uo=!1,Ki.length?Dr=Ki.concat(Dr):dc=-1,Dr.length&&dE())}function dE(){if(!uo){var t=hE($M);uo=!0;for(var e=Dr.length;e;){for(Ki=Dr,Dr=[];++dc<e;)Ki&&Ki[dc].run();dc=-1,e=Dr.length}Ki=null,uo=!1,function(n){if(ni===clearTimeout)return clearTimeout(n);if((ni===cE||!ni)&&clearTimeout)return ni=clearTimeout,clearTimeout(n);try{ni(n)}catch{try{return ni.call(null,n)}catch{return ni.call(this,n)}}}(t)}}function fE(t,e){this.fun=t,this.array=e}fE.prototype.run=function(){this.fun.apply(null,this.array)};function ds(){}var VM=ds,XM=ds,WM=ds,YM=ds,qM=ds,QM=ds,KM=ds,Os=sm.performance||{},ZM=Os.now||Os.mozNow||Os.msNow||Os.oNow||Os.webkitNow||function(){return new Date().getTime()},JM=new Date,Wu={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Dr.push(new fE(t,e)),Dr.length!==1||uo||hE(dE)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:VM,addListener:XM,once:WM,off:YM,removeListener:qM,removeAllListeners:QM,emit:KM,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*ZM.call(Os),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-JM)/1e3}},e3=En(function(t){(function(){var e,n,r,i,s,o;typeof performance<"u"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:Wu!=null&&Wu.hrtime?(t.exports=function(){return(e()-s)/1e6},n=Wu.hrtime,i=(e=function(){var l;return 1e9*(l=n())[0]+l[1]})(),o=1e9*Wu.uptime(),s=i-o):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(FM)}),D_={};function Df(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount.call(e,e,t))}function om(t,e){var n,r,i;typeof e.willUnmount=="function"&&e.willUnmount.call(e,e,t),(e==null||(n=e.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(r=e.children)!==null&&r!==void 0&&r.length&&Or(e.children).forEach(function(s){om(e,s)}),t.removeChild(e),(e==null||(i=e.config)===null||i===void 0?void 0:i.destroy)!==!1&&e.destroy()}function N_(t,e,n){ct(e!==n,"react-pixi: PixiFiber cannot insert node before itself");var r=t.children.indexOf(e)!==-1,i=t.getChildIndex(n);r?t.setChildIndex(e,i):t.addChildAt(e,i)}var F_=null,Un=jM({getRootHostContext:function(){return D_},getChildHostContext:function(){return D_},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=DM[t];if(typeof s=="function"&&(e=s(i,r)),!e){var o=aE[t];o&&((e=o.create(r)).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&((typeof((n=e)===null||n===void 0?void 0:n.applyProps)=="function"?e.applyProps:Jn)(e,{},r),e.__reactpixi={root:i}),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var n=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=n},finalizeInitialChildren:function(t,e,n){return!1},prepareUpdate:function(t,e,n,r,i,s){return F_=function(o,l,c,d,f){var p=null;for(var m in c)!d.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null&&(m==="children"||(p||(p=[]),p.push(m,null)));for(var v in d){var _=d[v],S=c!=null?c[v]:void 0;!d.hasOwnProperty(v)||_===S||_==null&&S==null||v==="children"||(p||(p=[]),p.push(v,_))}return p}(0,0,n,r)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var n=e.alpha===void 0||e.alpha>0,r=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(n&&r&&i)},createTextInstance:function(t,e,n){ct(!1,'react-pixi: Error trying to add text node "'+t+'"',"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:e3,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,appendInitialChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=Df.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=Df.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=Df.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=om.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=om.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:N_,insertInContainerBefore:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=N_.apply(null,r);return(t=r[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,n,r,i){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=Jn),(l(t,r,i)||F_)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,n,r,i){},commitTextUpdate:function(t,e,n){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},preparePortalMount:function(t){}}),t3=lE.devDependencies["react-dom"].replace(/[^0-9.]/g,""),n3=lE.name;Un.injectIntoDevTools({bundleType:0,version:t3,rendererPackageName:n3,findHostInstanceByFiber:Un.findHostInstance});var za=new Map;function r3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};ct(Gt.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`.");var r=za.get(e);return r||(r=Un.createContainer(e),za.set(e,r)),Un.updateContainer(t,r,void 0,n),Un.getPublicRootInstance(r)}function i3(t){za.has(t)&&Un.updateContainer(null,za.get(t),void 0,function(){za.delete(t)})}/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,am=vt?Symbol.for("react.element"):60103,lm=vt?Symbol.for("react.portal"):60106,fc=vt?Symbol.for("react.fragment"):60107,pc=vt?Symbol.for("react.strict_mode"):60108,mc=vt?Symbol.for("react.profiler"):60114,gc=vt?Symbol.for("react.provider"):60109,yc=vt?Symbol.for("react.context"):60110,um=vt?Symbol.for("react.async_mode"):60111,rh=vt?Symbol.for("react.concurrent_mode"):60111,vc=vt?Symbol.for("react.forward_ref"):60112,_c=vt?Symbol.for("react.suspense"):60113,s3=vt?Symbol.for("react.suspense_list"):60120,xc=vt?Symbol.for("react.memo"):60115,wc=vt?Symbol.for("react.lazy"):60116,o3=vt?Symbol.for("react.block"):60121,a3=vt?Symbol.for("react.fundamental"):60117,l3=vt?Symbol.for("react.responder"):60118,u3=vt?Symbol.for("react.scope"):60119;function rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case am:switch(t=t.type){case um:case rh:case fc:case mc:case pc:case _c:return t;default:switch(t=t&&t.$$typeof){case yc:case vc:case wc:case xc:case gc:return t;default:return e}}case lm:return e}}}function B_(t){return rn(t)===rh}var c3={AsyncMode:um,ConcurrentMode:rh,ContextConsumer:yc,ContextProvider:gc,Element:am,ForwardRef:vc,Fragment:fc,Lazy:wc,Memo:xc,Portal:lm,Profiler:mc,StrictMode:pc,Suspense:_c,isAsyncMode:function(t){return B_(t)||rn(t)===um},isConcurrentMode:B_,isContextConsumer:function(t){return rn(t)===yc},isContextProvider:function(t){return rn(t)===gc},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===am},isForwardRef:function(t){return rn(t)===vc},isFragment:function(t){return rn(t)===fc},isLazy:function(t){return rn(t)===wc},isMemo:function(t){return rn(t)===xc},isPortal:function(t){return rn(t)===lm},isProfiler:function(t){return rn(t)===mc},isStrictMode:function(t){return rn(t)===pc},isSuspense:function(t){return rn(t)===_c},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===fc||t===rh||t===mc||t===pc||t===_c||t===s3||typeof t=="object"&&t!==null&&(t.$$typeof===wc||t.$$typeof===xc||t.$$typeof===gc||t.$$typeof===yc||t.$$typeof===vc||t.$$typeof===a3||t.$$typeof===l3||t.$$typeof===u3||t.$$typeof===o3)},typeOf:rn},Ne=En(function(t,e){});Ne.AsyncMode,Ne.ConcurrentMode,Ne.ContextConsumer,Ne.ContextProvider,Ne.Element,Ne.ForwardRef,Ne.Fragment,Ne.Lazy,Ne.Memo,Ne.Portal,Ne.Profiler,Ne.StrictMode,Ne.Suspense,Ne.isAsyncMode,Ne.isConcurrentMode,Ne.isContextConsumer,Ne.isContextProvider,Ne.isElement,Ne.isForwardRef,Ne.isFragment,Ne.isLazy,Ne.isMemo,Ne.isPortal,Ne.isProfiler,Ne.isStrictMode,Ne.isSuspense,Ne.isValidElementType,Ne.typeOf,En(function(t){t.exports=c3});function pE(){}function mE(){}Function.call.bind(Object.prototype.hasOwnProperty),mE.resetWarningCache=pE;var Ge=En(function(t){t.exports=function(){function e(i,s,o,l,c,d){if(d!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}function n(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:mE,resetWarningCache:pE};return r.PropTypes=r,r}()}),Ih=sr.createContext(null),gE=Ih.Provider,yE=Ih.Consumer,h3=function(t){var e=sr.forwardRef(function(n,r){return sr.createElement(yE,null,function(i){return sr.createElement(t,Ah({},n,{ref:r,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e},L_=function(){},vE={width:Ge.number,height:Ge.number,onMount:Ge.func,onUnmount:Ge.func,raf:Ge.bool,renderOnComponentChange:Ge.bool,children:Ge.node,options:Ge.shape({autoStart:Ge.bool,width:Ge.number,height:Ge.number,useContextAlpha:Ge.bool,backgroundAlpha:Ge.number,autoDensity:Ge.bool,antialias:Ge.bool,preserveDrawingBuffer:Ge.bool,resolution:Ge.number,forceCanvas:Ge.bool,backgroundColor:Ge.number,clearBeforeRender:Ge.bool,powerPreference:Ge.string,sharedTicker:Ge.bool,sharedLoader:Ge.bool,resizeTo:function(t,e){var n=t[e];n&&ct(n===window||n instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Ci(n),", expect `window` or an `HTMLElement`."))},view:function(t,e,n){var r=t[e];r&&ct(r instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Ci(r),", supplied to ").concat(n,", expected `<canvas> Element`"))}})},d3={width:800,height:600,onMount:L_,onUnmount:L_,raf:!0,renderOnComponentChange:!0},cm=function(t){(function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),c&&bg(l,c)})(o,sr.Component);var e,n,r,i,s=(e=o,n=rE(),function(){var l,c=nm(e);if(n){var d=nm(this).constructor;l=Reflect.construct(c,arguments,d)}else l=c.apply(this,arguments);return wM(this,l)});function o(){var l;_M(this,o);for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return gt(Sr(l=s.call.apply(s,[this].concat(d))),"_canvas",null),gt(Sr(l),"_mediaQuery",null),gt(Sr(l),"_ticker",null),gt(Sr(l),"_needsUpdate",!0),gt(Sr(l),"app",null),gt(Sr(l),"updateSize",function(){var p=l.props,m=p.width,v=p.height,_=p.options;_!=null&&_.resolution||(l.app.renderer.resolution=window.devicePixelRatio,l.resetInteractionManager()),l.app.renderer.resize(m,v)}),gt(Sr(l),"needsRenderUpdate",function(){l._needsUpdate=!0}),gt(Sr(l),"renderStage",function(){var p=l.props,m=p.renderOnComponentChange;!p.raf&&m&&l._needsUpdate&&(l._needsUpdate=!1,l.app.renderer.render(l.app.stage))}),l}return r=o,(i=[{key:"componentDidMount",value:function(){var l=this.props,c=l.onMount,d=l.width,f=l.height,p=l.options,m=l.raf,v=l.renderOnComponentChange;this.app=new wl(Kt(Kt({width:d,height:f,view:this._canvas},p),{},{autoDensity:(p==null?void 0:p.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[m?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Un.createContainer(this.app.stage),Un.updateContainer(this.getChildren(),this.mountNode,this),c(this.app),p!=null&&p.autoDensity&&window.matchMedia&&(p==null?void 0:p.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),v&&!m&&(this._ticker=new ut,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(l,c,d){var f,p=this.props,m=p.width,v=p.height,_=p.raf,S=p.renderOnComponentChange,x=p.options;(x==null?void 0:x.resolution)!==void 0&&(l==null?void 0:l.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),l.height===v&&l.width===m&&((f=l.options)===null||f===void 0?void 0:f.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),l.raf!==_&&this.app.ticker[_?"start":"stop"](),Un.updateContainer(this.getChildren(),this.mountNode,this),l.width===m&&l.height===v&&l.raf===_&&l.renderOnComponentChange===S&&l.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){"interaction"in this.app.renderer.plugins&&(this.app.renderer.plugins.interaction.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var l=this.props.children;return sr.createElement(gE,{value:this.app},l)}},{key:"componentDidCatch",value:function(l,c){console.error("Error occurred in `Stage`."),console.error(l),console.error(c)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Un.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var l,c,d=this,f=this.props.options;return f&&f.view?(ct(f.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):sr.createElement("canvas",Ah({},(l=this.props,c=[].concat(Or(Object.keys(vE)),Or(Object.keys(rm))),Object.keys(l).filter(function(p){return!c.includes(p)}).reduce(function(p,m){return Kt(Kt({},p),{},gt({},m,l[m]))},{})),{ref:function(p){return d._canvas=p}}))}}])&&xM(r.prototype,i),o}();function _E(){var t=Ve.exports.useContext(Ih);return ct(t instanceof wl,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function f3(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=_E();ct(typeof t=="function","`useTick` needs a callback function."),ct(n instanceof wl,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var r=Ve.exports.useRef(null);Ve.exports.useEffect(function(){r.current=t},[t]),Ve.exports.useEffect(function(){if(e){var i=function(s){return r.current.apply(n.ticker,[s,n.ticker])};return n.ticker.add(i),function(){n.ticker&&n.ticker.remove(i)}}},[e])}cm.propTypes=vE,cm.defaultProps=d3;var p3=["children","apply"],m3=function(t,e){ct(Ci(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var n=Object.keys(e),r=function(i){var s=i.children,o=i.apply,l=ei(i,p3),c=Ve.exports.useRef(Ve.exports.useMemo(function(){return n.map(function(p){var m,v=(l==null||(m=l[p])===null||m===void 0?void 0:m.construct)||[];return iE(e[p],Or(v))})},[n])),d=Ve.exports.useMemo(function(){return n.reduce(function(p,m,v){return Kt(Kt({},p),{},gt({},m,c.current[v]))},{})},[n]),f=Ve.exports.useMemo(function(){return Object.keys(l).filter(oE(sE(n))).reduce(function(p,m){return Kt(Kt({},p),{},gt({},m,l[m]))},{})},[l,n]);return n.forEach(function(p,m){return Object.assign(c.current[m],l[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,d),sr.createElement(t,Ah({},f,{filters:c.current}),s)};return r.displayName="FilterWrapper",r.propTypes={children:Ge.node,apply:Ge.func},r},g3=ln.BitmapText,y3=ln.Container,v3=ln.Graphics,_3=ln.NineSlicePlane,x3=ln.ParticleContainer,w3=ln.Sprite,E3=ln.AnimatedSprite,b3=ln.Text,T3=ln.TilingSprite,S3=ln.SimpleMesh,C3=ln.SimpleRope;const P3=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:E3,AppConsumer:yE,AppContext:Ih,AppProvider:gE,BitmapText:g3,Container:y3,Graphics:v3,NineSlicePlane:_3,ParticleContainer:x3,PixiComponent:NM,PixiFiber:Un,SimpleMesh:S3,SimpleRope:C3,Sprite:w3,Stage:cm,Text:b3,TilingSprite:T3,applyDefaultProps:Jn,eventHandlers:nh,render:r3,unmountComponentAtNode:i3,useApp:_E,useTick:f3,withFilters:m3,withPixiApp:h3},Symbol.toStringTag,{value:"Module"})),A3=Yb(P3);(function(t){t.exports=A3})(ug);function Qe(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function zn(t){return function e(n){return arguments.length===0||Qe(n)?e:t.apply(this,arguments)}}function Qt(t){return function e(n,r){switch(arguments.length){case 0:return e;case 1:return Qe(n)?e:zn(function(i){return t(n,i)});default:return Qe(n)&&Qe(r)?e:Qe(n)?zn(function(i){return t(i,r)}):Qe(r)?zn(function(i){return t(n,i)}):t(n,r)}}}function Tg(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(n){return e.apply(this,arguments)};case 2:return function(n,r){return e.apply(this,arguments)};case 3:return function(n,r,i){return e.apply(this,arguments)};case 4:return function(n,r,i,s){return e.apply(this,arguments)};case 5:return function(n,r,i,s,o){return e.apply(this,arguments)};case 6:return function(n,r,i,s,o,l){return e.apply(this,arguments)};case 7:return function(n,r,i,s,o,l,c){return e.apply(this,arguments)};case 8:return function(n,r,i,s,o,l,c,d){return e.apply(this,arguments)};case 9:return function(n,r,i,s,o,l,c,d,f){return e.apply(this,arguments)};case 10:return function(n,r,i,s,o,l,c,d,f,p){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Sg(t){return function e(n,r,i){switch(arguments.length){case 0:return e;case 1:return Qe(n)?e:Qt(function(s,o){return t(n,s,o)});case 2:return Qe(n)&&Qe(r)?e:Qe(n)?Qt(function(s,o){return t(s,r,o)}):Qe(r)?Qt(function(s,o){return t(n,s,o)}):zn(function(s){return t(n,r,s)});default:return Qe(n)&&Qe(r)&&Qe(i)?e:Qe(n)&&Qe(r)?Qt(function(s,o){return t(s,o,i)}):Qe(n)&&Qe(i)?Qt(function(s,o){return t(s,r,o)}):Qe(r)&&Qe(i)?Qt(function(s,o){return t(n,s,o)}):Qe(n)?zn(function(s){return t(s,r,i)}):Qe(r)?zn(function(s){return t(n,s,i)}):Qe(i)?zn(function(s){return t(n,r,s)}):t(n,r,i)}}}const xE=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Cg(t){return Object.prototype.toString.call(t)==="[object String]"}var I3=zn(function(e){return xE(e)?!0:!e||typeof e!="object"||Cg(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1});const R3=I3;var k3=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,n){return this.f(e,n)},t}();function M3(t){return new k3(t)}var D3=Qt(function(e,n){return Tg(e.length,function(){return e.apply(n,arguments)})});const N3=D3;function F3(t,e,n){for(var r=0,i=n.length;r<i;){if(e=t["@@transducer/step"](e,n[r]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}function O_(t,e,n){for(var r=n.next();!r.done;){if(e=t["@@transducer/step"](e,r.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function U_(t,e,n,r){return t["@@transducer/result"](n[r](N3(t["@@transducer/step"],t),e))}var z_=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function B3(t,e,n){if(typeof t=="function"&&(t=M3(t)),R3(n))return F3(t,e,n);if(typeof n["fantasy-land/reduce"]=="function")return U_(t,e,n,"fantasy-land/reduce");if(n[z_]!=null)return O_(t,e,n[z_]());if(typeof n.next=="function")return O_(t,e,n);if(typeof n.reduce=="function")return U_(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}function L3(t,e){return Object.prototype.hasOwnProperty.call(e,t)}const O3=Number.isInteger||function(e){return e<<0===e};var U3=Qt(function(e,n){var r=e<0?n.length+e:e;return Cg(n)?n.charAt(r):n[r]});const z3=U3;var G3=Qt(function(e,n){if(n!=null)return O3(e)?z3(e,n):n[e]});const H3=G3;var j3=Sg(B3);const $3=j3;var V3=Qt(function(e,n){return e.apply(this,n)});const Nf=V3;var X3=Sg(function(e,n,r){if(e>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<e?e:r>n?n:r});const W3=X3;function Y3(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function wE(t,e){return function(){var n=arguments.length;if(n===0)return e();var r=arguments[n-1];return xE(r)||typeof r[t]!="function"?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var q3=Sg(wE("slice",function(e,n,r){return Array.prototype.slice.call(r,e,n)}));const Q3=q3;var K3=zn(wE("tail",Q3(1,1/0)));const Z3=K3;function J3(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Tg(arguments[0].length,$3(Y3,arguments[0],Z3(arguments)))}var eD=zn(function(e){return Cg(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});const tD=eD;function nD(t){return t}var rD=zn(nD);const G_=rD;var iD=Qt(function(e,n){return n==null||n!==n?e:n});const sD=iD;var oD=Qt(function(e,n){var r={};return Tg(n.length,function(){var i=e.apply(this,arguments);return L3(i,r)||(r[i]=n.apply(this,arguments)),r[i]})});const aD=oD;var lD=Qt(function(e,n){var r=Number(n),i=0,s;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(s=new Array(r);i<r;)s[i]=e(i),i+=1;return s});const H_=lD;var uD=Qt(function(e,n){for(var r=[],i=0,s=Math.min(e.length,n.length);i<s;)r[i]=[e[i],n[i]],i+=1;return r});const j_=uD,Ff=ut.shared,cD={fontSize:10,x:5,y:5},$_={width:250,height:250,style:"dot",clamp:!1,steps:NaN,dotSize:2,lineWidth:1,background:16777215,foreground:0,backgroundAlpha:1,fillAlpha:.5,showMarker:!0,markerColor:16711680,markerSize:10,markerTrail:!1,showExample:!1,exampleColor:3355443,exampleSize:50,examplePosition:"bottom",exampleTrail:!1,showValues:!1,textStyle:{},gridCount:10,gridColor:13421772,gridSubdivisions:!0,duration:2e3,autoPlay:!1,loop:!1},V_=W3(0,1),hD=t=>e=>Math.round(e*10**t)/10**t;class EE extends $n{constructor(n,r={}){super();Ut(this,"_f",[]);Ut(this,"graphics");Ut(this,"trail");Ut(this,"options");Ut(this,"isPlaying",!1);Ut(this,"marker");Ut(this,"exampleX");Ut(this,"exampleY");Ut(this,"text");Ut(this,"t",0);this.f=n,this.options={...$_,...r},this.graphics=new cr,this.addChild(this.graphics),this.trail=new cr,this.addChild(this.trail);const{markerSize:i,markerColor:s,exampleColor:o,exampleSize:l}=this.options;this.marker=new Bf(s,i),this.marker.visible=!1,this.addChild(this.marker),this.exampleX=new Bf(o,l),this.exampleX.visible=!1,this.exampleX.x=0,this.exampleX.y=this.options.height+l*1.5,this.addChild(this.exampleX),this.exampleY=new Bf(o,l),this.exampleY.visible=!1,this.exampleY.x=this.options.width+l*1.5,this.exampleY.y=this.options.height,this.addChild(this.exampleY);const c={fill:r.foreground,...cD,...r.textStyle};this.text=new El("",c),this.text.visible=!1,this.text.x=c.x,this.text.y=c.y,this.addChild(this.text)}set f(n){if(this._f=n instanceof Array?n.map(r=>typeof r=="function"?{f:r}:r):[{f:n}],this._f.length===0)throw new Error("There must be at least one easing function attached to the graph.")}get f(){return this._f}play(){this.stop();const{showMarker:n,showExample:r,examplePosition:i,showValues:s}=this.options;this.marker.visible=n,this.exampleY.visible=this.exampleX.visible=r,this.text.visible=s,i==="bottom"&&(this.exampleY.visible=!1),i==="right"&&(this.exampleX.visible=!1),this.trail.clear(),this.t=0,this.isPlaying=!0,Ff.add(this.animationStep,this)}stop(){Ff.remove(this.animationStep,this),this.isPlaying=!1}updateText(n,r){const i=hD(3);this.text.text=`x: ${i(n)}
y: ${i(r)}`}animationStep(){this.t+=Ff.deltaMS;const{options:n,exampleX:r,exampleY:i,marker:s,trail:o}=this,{clamp:l,width:c,height:d,exampleTrail:f,markerTrail:p,dotSize:m,foreground:v,duration:_,loop:S,style:x,showValues:w}=n;this.t=Math.min(this.t,_);const T=this.t,b=l?V_:G_,C=this.f[0].f,D=T/_,R=b(C(D));s.x=D*c,s.y=d-R*d,r.visible&&(r.x=R*c),i.visible&&(i.y=s.y);const M=o;M.beginFill(v),f&&(r.visible&&M.drawCircle(r.x,r.y,m),i.visible&&M.drawCircle(i.x,i.y,m)),p&&x!=="dot"&&s.visible&&M.drawCircle(s.x,s.y,m),M.endFill(),w&&this.updateText(D,R),T>=_&&(this.stop(),S&&(this.play(),this.draw()))}draw(){const n=this.graphics,{width:r,height:i,style:s,foreground:o,background:l,backgroundAlpha:c,steps:d,gridCount:f,clamp:p,autoPlay:m}=this.options,v=isNaN(d)?r:d,_=p?V_:G_,S=tD(this.f),x=H_(I=>I/(v-1),v),T=S.map(I=>x.map(I.f).map(_)).map(I=>j_(x,I)),b=([I,z])=>[I*r,i-z*i],C=T.map(I=>I.map(b)),D=S.map(J3(H3("foreground"),sD(o))),R=j_(C,D);n.clear(),n.beginFill(l,c),n.drawRect(0,0,r,i),n.endFill(),f>0&&this.drawGrid();const M={line:this.drawLines,fill:this.drawFill,dot:this.drawDots};R.map(I=>M[s].apply(this,I)),m&&this.isPlaying===!1&&this.play()}drawDots(n,r){const{dotSize:i}=this.options,s=this.graphics,o=(l,c)=>s.drawCircle(l,c,i);s.beginFill(r),n.map(Nf(o)),s.endFill()}drawLines(n,r){const{height:i,lineWidth:s}=this.options,o=this.graphics,l=Nf(o.lineTo.bind(o));o.moveTo(0,i),o.lineStyle(s,Math.floor(r)),n.map(l),o.lineStyle()}drawFill(n,r){const{fillAlpha:i,width:s,height:o}=this.options,l=this.graphics,c=Nf(l.lineTo.bind(l));l.moveTo(0,o),l.beginFill(r,i),n.map(c),l.lineTo(s,0),l.lineTo(s,o),l.lineTo(0,o),l.endFill(),l.closePath()}drawGrid(){const n=this.graphics,{width:r,height:i,gridCount:s,gridColor:o,gridSubdivisions:l}=this.options;n.lineStyle(1,o),H_(d=>{n.lineStyle(1,o),(l&&d===0||d===s||d===s/2&&s%2===0)&&(n.lineStyle(2,o),n.lineStyle(2,o)),n.moveTo(0,d/s*i),n.lineTo(r,d/s*i),n.closePath(),n.moveTo(d/s*r,0),n.lineTo(d/s*r,i),n.closePath()},s+1),n.lineStyle()}}Ut(EE,"defaultOptions",$_);class Bf extends $n{constructor(n,r,i){super(i);Ut(this,"color");Ut(this,"size");Ut(this,"graphics");this.color=n,this.size=r,this.graphics=new cr,this.addChild(this.graphics),this.anchor.set(.5),this.draw()}draw(){const{graphics:n,color:r,size:i}=this;n.clear(),n.beginFill(r),n.drawCircle(0,0,i),n.endFill()}}const dD=ug.exports.PixiComponent("EasingGraph",{create:({f:t,...e})=>new EE(t,e),didMount:(t,e)=>{t.draw()},willUnmount:(t,e)=>{t.stop()},applyProps:(t,e,n)=>{var _,S;const{f:r,play:i,x:s,y:o,...l}=e,{f:c,play:d,x:f,y:p,...m}=n;i!==d&&t.play();const v=l!==m||l.style!==m.style||l.showExample!==m.showExample||r!==c;t.x=(_=f!=null?f:s)!=null?_:0,t.y=(S=p!=null?p:o)!=null?S:0,t.f=c,t.options={...t.options,...m},v&&t.draw()},config:{destroy:!0,destroyChildren:!0}});const fD="pixi-easing-graph",pD="1.1.5",mD="mit",gD="A utility component for viewing easing functions in Pixi.js and react-pixi. The graph includes an animated example and can be highly-customized to fit your needs. Functions are expected to take a single number between (roughly) 0 and 1 and return a number between 0 and 1.",yD="Mims H. Wright",vD="https://mimshwright.github.io/pixi-easing-graph/",_D={type:"git",url:"https://github.com/mimshwright/pixi-easing-graph.git"},xD={url:"https://github.com/mimshwright/pixi-easing-graph/issues"},wD=["pixi.js","animation","tween","easing","functional","component","react-pixi","graph","utility"],ED="module",bD="./dist/pixi-easing-graph.umd.cjs",TD="./dist/pixi-easing-graph.js",SD="./dist/index.d.ts",CD={".":{import:"./dist/pixi-easing-graph.js",require:"./dist/pixi-easing-graph.umd.cjs"}},PD=["dist"],AD={"prepare:peers":"install-peers","prepare:husky":"husky install",prepare:"run-p prepare:*",dev:"vite",start:"run-s dev",preview:"vite preview",test:"jest","test:coverage":"run-s test --coverage","test:watch":"run-s test --watch","lint:prettier":"prettier -l .","lint:eslint":"eslint *.{t,j,cj}s{,x} --no-error-on-unmatched-pattern",lint:"run-p lint:*","fix:prettier":"run-s lint:prettier -- -w","fix:eslint":"run-s lint:eslint -- --fix",fix:"run-s fix:*","build:tsc":"tsc","build:vite":"vite build","build:demo":"vite build -c vite.config.demo.ts",build:"run-s build:tsc build:vite",commit:"cz",ci:"run-s commit",prerelease:"run-s build",release:"standard-version",predeploy:"run-s build:tsc build:demo",deploy:"gh-pages -d demo"},ID={"@inlet/react-pixi":"^6.8.0","pixi.js":"^7",react:"^17","react-dom":"^17"},RD={ramda:"^0.28.0"},kD={"@types/jest":"^29.2.3","@types/node":"^18.11.9","@types/ramda":"^0.28.20","@types/react":"^18.0.26","@types/react-dom":"^18.0.9","@typescript-eslint/eslint-plugin":"^5.0.0","@typescript-eslint/parser":"^5.44.0","@vitejs/plugin-react":"^2.2.0",alea:"^1.0.1",commitizen:"^4.2.5","cz-conventional-changelog":"3.3.0",eslint:"^8.0.1","eslint-config-prettier":"^8.5.0","eslint-config-standard-with-typescript":"^23.0.0","eslint-config-typescript":"^3.0.0","eslint-plugin-import":"^2.25.2","eslint-plugin-n":"^15.0.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-promise":"^6.0.0","eslint-plugin-typescript":"^0.14.0","gh-pages":"^4.0.0",husky:"^8.0.2","install-peers-cli":"^2.2.0",jest:"^29.3.1","lint-staged":"^13.0.3","npm-run-all":"^4.1.5",prettier:"^2.8.0","standard-version":"^9.5.0","ts-jest":"^29.0.3",typescript:"*",vite:"^3.2.4","vite-plugin-dts":"^1.7.1"},X_={name:fD,version:pD,license:mD,private:!1,description:gD,author:yD,homepage:vD,repository:_D,bugs:xD,keywords:wD,type:ED,main:bD,module:TD,types:SD,exports:CD,files:PD,scripts:AD,peerDependencies:ID,dependencies:RD,devDependencies:kD};var bE={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Yu,function(){return n.importState=function(i){var s=new n;return s.importState(i),s},n;function n(){return function(i){var s=0,o=0,l=0,c=1;i.length==0&&(i=[+new Date]);var d=r();s=d(" "),o=d(" "),l=d(" ");for(var f=0;f<i.length;f++)s-=d(i[f]),s<0&&(s+=1),o-=d(i[f]),o<0&&(o+=1),l-=d(i[f]),l<0&&(l+=1);d=null;var p=function(){var m=2091639*s+c*23283064365386963e-26;return s=o,o=l,l=m-(c=m|0)};return p.next=p,p.uint32=function(){return p()*4294967296},p.fract53=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.version="Alea 0.9",p.args=i,p.exportState=function(){return[s,o,l,c]},p.importState=function(m){s=+m[0]||0,o=+m[1]||0,l=+m[2]||0,c=+m[3]||0},p}(Array.prototype.slice.call(arguments))}function r(){var i=4022871197,s=function(o){o=o.toString();for(var l=0;l<o.length;l++){i+=o.charCodeAt(l);var c=.02519603282416938*i;i=c>>>0,c-=i,c*=i,i=c>>>0,c-=i,i+=c*4294967296}return(i>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})})(bE);const MD=bE.exports;var Pg={exports:{}},bl={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD=Ve.exports,TE=60103;bl.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var W_=Symbol.for;TE=W_("react.element"),bl.Fragment=W_("react.fragment")}var ND=DD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FD=Object.prototype.hasOwnProperty,BD={key:!0,ref:!0,__self:!0,__source:!0};function SE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FD.call(e,r)&&!BD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:TE,type:t,key:s,ref:o,props:i,_owner:ND.current}}bl.jsx=SE;bl.jsxs=SE;(function(t){t.exports=bl})(Pg);const He=Pg.exports.jsx,In=Pg.exports.jsxs,Ag=t=>e=>e**t,Lf=Ag(3),hm=Ag(5),hl=t=>e=>n=>e(n*t),LD=t=>e=>n=>e(n)*t,OD=t=>e=>n=>e(n-t),CE=t=>e=>n=>e(n)+t,UD=t=>e=>t,ya=t=>t,zD=t=>e=>e<t?0:1,Ig=t=>e=>t(1-e),GD=t=>e=>1-t(e),PE=t=>Ig(GD(t)),AE=PE,IE=(t,e)=>n=>t(n)*(1-n)+e(n)*n,RE=(t,e)=>n=>n<.5?t(n):e(n),HD=t=>LD(.5)(RE(hl(2)(t),OD(.5)(CE(1)(hl(2)(AE(t)))))),jD=t=>RE(hl(2)(t),Ig(hl(2)(t))),dm=t=>e=>Math.sin(e*t*Math.PI*2)/2+.5,$D=IE(hm,t=>(2*dm(.35)(t)-1)*(1/Math.sin(.35*Math.PI*2))),VD=MD(1),XD=t=>VD(),WD=aD(String,XD),Ga={linear:ya,"linear +0.5":CE(.5)(ya),"linear \u2A092":hl(2)(ya),"cubic x^3":Lf,"cubic out":AE(Lf),"cubic in out":HD(Lf),"quintic x^5":hm,"quintic flipped":Ig(hm),sine:dm(2),"sine + linear":PE(IE(ya,dm(2.25))),rand:WD,const:UD(.5),thresh:zD(.5),"clamped quadratic":t=>Math.max(.1,Math.min(.8,Ag(2)(t))),mirror:jD(ya),overshoot:$D},YD={none:void 0,linear:Ga.linear,cubic:Ga["cubic x^3"],sine:Ga.sine},qD={Dot:"dot",Line:"line",Fill:"fill"},Ms=({children:t,value:e,setter:n})=>He("button",{className:e?"selected":"",onClick:()=>n(!e),children:t}),Y_=(t,e,n)=>r=>r===t?e:r===e?n:t;function QD(){const t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,[e,n]=Ve.exports.useState(()=>Ga["cubic in out"]),[r,i]=Ve.exports.useState(()=>{}),[s,o]=Ve.exports.useState("line"),[l,c]=Ve.exports.useState(!1),[d,f]=Ve.exports.useState(!0),[p,m]=Ve.exports.useState(!1),[v,_]=Ve.exports.useState(!0),[S,x]=Ve.exports.useState(!1),[w,T]=Ve.exports.useState("bottom"),[b,C]=Ve.exports.useState(0),[D,R]=Ve.exports.useState(!1),[M,I]=Ve.exports.useState(2e3),z=()=>C((b+1)%2),X=Object.entries(Ga),$=Object.entries(YD),q=Object.entries(qD);return In("div",{className:"App",children:[In("h1",{children:["pixi-easing-graph",In("span",{className:"version",children:[" v",X_.version]})]}),He("p",{className:"description",children:X_.description}),He("div",{children:He("a",{style:{display:"block"},href:"https://github.com/mimshwright/pixi-easing-graph",children:"View On GitHub"})}),He(ug.exports.Stage,{width:425,height:425,options:{resolution:2,backgroundColor:t?0:16777215,backgroundAlpha:0},children:He(dD,{f:r?[e,{f:r,foreground:6750156}]:e,play:b,style:s,dotSize:3,lineWidth:2,steps:80,clamp:l,x:50,y:50,width:300,height:300,background:t?3355443:d?15663103:16777215,backgroundAlpha:1,foreground:t?13426175:26367,fillAlpha:.5,markerColor:16729292,markerSize:8,showExample:v,exampleColor:16729292,exampleSize:25,examplePosition:w,exampleTrail:p,markerTrail:p,showValues:S,gridCount:d?10:0,gridColor:t?6684927:13426175,gridSubdivisions:!0,duration:M,loop:D,autoPlay:!0})}),He("div",{className:"functions",children:In("div",{children:[He("h2",{children:"Functions"}),X.map(([L,B])=>He("button",{className:B===e?"selected":"",onClick:()=>n(()=>B),children:L},L))," ","|\xA0",He(Ms,{value:l,setter:c,children:"Clamp Values?"})]})}),In("div",{className:"columns",children:[In("div",{children:[He("h2",{children:"Graph styles"}),q.map(([L,B])=>He("button",{className:B===s?"selected":"",onClick:()=>o(()=>B),children:L},L)),In("div",{children:[He(Ms,{value:d,setter:f,children:"Show Grid"}),He(Ms,{value:S,setter:x,children:"Show Values"}),He(Ms,{value:v,setter:_,children:"Show Example"}),v&&He(Ms,{value:p,setter:m,children:"Show Trails"}),v&&In("button",{onClick:()=>T(Y_("both","bottom","right")(w)),children:["Example Pos. ",He("span",{className:"selected",children:`${w}`})]})]})]}),In("div",{children:[He("h2",{children:"Second Function"}),$.map(([L,B])=>He("button",{className:B===r?"selected":"",onClick:()=>i(()=>B),children:L},L))]}),In("div",{children:[He("h2",{children:"Animations"}),He(Ms,{value:D,setter:R,children:"Loop animations"}),In("button",{onClick:()=>I(Y_(2e3,4e3,500)(M)),children:["Animation speed ",He("span",{className:"selected",children:M===2e3?"med":M===500?"fast":"slow"})]}),He("button",{onClick:z,children:"Replay \u{1F504}"})]})]})]})}ux.exports.render(He(sr.StrictMode,{children:He(QD,{})}),document.getElementById("root"));
